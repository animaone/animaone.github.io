<p>
<a href="#summary.html">ISAS.ISLKユーザーズマニュアル</a>
<p>
<a href="#license.html">著作権</a>
<p>
<a href="#first.html">はじめに</a>
<p>
<a href="#edition.html">エディション</a>
<p>
 <a href="#MSDOS">MS-DOS版</a>
<p>
 <a href="#DOS4GW">DOS/4GW版</a>
<p>
 <a href="#WINDOWS">Windows版</a>
<p>
 <a href="#LINUX">Linux版</a>
<p>
<a href="#environment.html">動作環境</a>
<p>
 <a href="#MSDOS">MS-DOS版</a>
<p>
 <a href="#DOS4GW">DOS/4GW版</a>
<p>
 <a href="#WINDOWS">Windows版</a>
<p>
 <a href="#LINUX">Linux版</a>
<p>
<a href="#setup.html">セットアップ</a>
<p>
 <a href="#COPY">システムファイルのコピー</a>
<p>
 <a href="#SET">環境変数の設定</a>
<p>
<a href="#value.html">環境変数</a>
<p>
 <a href="#ISAS">ISAS</a>
<p>
 <a href="#ISLK">ISLK</a>
<p>
 <a href="#ISINC">ISINC</a>
<p>
 <a href="#ISLIB">ISLIB</a>
<p>
 <a href="#ISTMP">ISTMP/TEMP/TMP</a>
<p>
 <a href="#PATH">PATH</a>
<p>
<a href="#flow.html">開発手順</a>
<p>
 <a href="#SOURCE">ソースファイルの作成</a>
<p>
 <a href="#ASSEMBLE">ISASによるアセンブル</a>
<p>
 <a href="#OBJECT">オブジェクトファイルの作成</a>
<p>
 <a href="#LINK">ISLKによるリンク</a>
<p>
 <a href="#ISX">ISXファイルの作成</a>
<p>
<a href="#move65.html">IS65からの移行</a>
<p>
 <a href="#ASSEMBLE">IS65用ソースファイルをISASでアセンブルする時は</a>
<p>
 <a href="#CHANGE">IS65用ソースファイルをISAS用に変更する時は</a>
<p>
<a href="#movedmg.html">ISDMGからの移行</a>
<p>
 <a href="#ASSEMBLE">ISDMG用ソースファイルをISASでアセンブルする時は</a>
<p>
 <a href="#CHANGE">ISDMG用ソースファイルをISAS用に変更する時は</a>
<p>
<a href="#source.html">ソースファイル</a>
<p>
 <a href="#FORMAT">ファイル形式</a>
<p>
 <a href="#NAME">ファイル名</a>
<p>
<a href="#program.html">プログラムの書式</a>
<p>
 <a href="#SYMBOL">シンボルフィールド</a>
<p>
 <a href="#OPECODE">オペコードフィールド</a>
<p>
 <a href="#OPERAND">オペランドフィールド</a>
<p>
 <a href="#COMMENT">コメントフィールド</a>
<p>
<a href="#symbol.html">シンボル</a>
<p>
 <a href="#GLOBAL">グローバルシンボル</a>
<p>
 <a href="#LOCAL">ローカルシンボル</a>
<p>
<a href="#name.html">名前</a>
<p>
<a href="#fix.html">定数</a>
<p>
 <a href="#NUMBER">数値定数</a>
<p>
 <a href="#FLOAT">浮動小数点定数</a>
<p>
 <a href="#PAUSE">数値定数の区切り</a>
<p>
 <a href="#HEX">16進数値定数指定時の注意</a>
<p>
 <a href="#CHARACTER">文字定数</a>
<p>
 <a href="#CHARACTERS">文字列定数</a>
<p>
 <a href="#LOCATION">ロケーションカウンタ</a>
<p>
<a href="#prefix.html">プリフィックス</a>
<p>
 <a href="#DIRECT">ダイレクトアドレッシング</a>
<p>
 <a href="#ABSOLUTE">アブソリュートアドレッシング</a>
<p>
 <a href="#LONG">ロングアドレッシング</a>
<p>
<a href="#operator.html">演算子</a>
<p>
 <a href="#BACK">後置単項演算子</a>
<p>
 <a href="#FRONT">前置単項演算子</a>
<p>
 <a href="#DOUBLE">二項演算子</a>
<p>
 <a href="#SHIFT">シフト演算子</a>
<p>
 <a href="#COMPARE">比較演算子</a>
<p>
 <a href="#BIT">ビット演算子</a>
<p>
 <a href="#LOGIC">論理演算子</a>
<p>
 <a href="#ORDER">演算子の優先順位</a>
<p>
<a href="#macrooperator.html">マクロ演算子</a>
<p>
 <a href="#AMPERSAND">&amp;</a>
<p>
 <a href="#EXCLAMATION">!</a>
<p>
 <a href="#PERCENT">%</a>
<p>
 <a href="#BRACKET">&lt;&gt;</a>
<p>
<a href="#pseudo.html">疑似命令</a>
<p>
 <a href="#ADDRESS">アドレス疑似命令</a>
<p>
 <a href="#SYMBOL">シンボル疑似命令</a>
<p>
 <a href="#AREA">領域疑似命令</a>
<p>
 <a href="#CONTROL">制御疑似命令</a>
<p>
 <a href="#CONDITION">条件疑似命令</a>
<p>
 <a href="#MACRO">マクロ疑似命令</a>
<p>
 <a href="#LIST">リスティング疑似命令</a>
<p>
 <a href="#FOR65816">65816用疑似命令</a>
<p>
 <a href="#FORSPC700">SPC700用疑似命令</a>
<p>
 <a href="#FORV810SF">V810SF用疑似命令</a>
<p>
<a href="#assume65816.html">ASSUME（65816用）</a>
<p>
<a href="#assumespc700.html">ASSUME（SPC700用）</a>
<p>
<a href="#assumev810sf.html">ASSUME（V810SF用）</a>
<p>
<a href="#binset.html">BINSET</a>
<p>
<a href="#capsoff.html">CAPSOFF/SMALL</a>
<p>
<a href="#capson.html">CAPSON</a>
<p>
<a href="#comm.html">COMM</a>
<p>
<a href="#decoff.html">DECOFF（V810SF用）</a>
<p>
<a href="#decon.html">DECON（V810SF用）</a>
<p>
<a href="#def.html">DEF</a>
<p>
<a href="#defb.html">DEFB/DB</a>
<p>
<a href="#defd.html">DEFD/DD</a>
<p>
<a href="#defh.html">DEFH/DH</a>
<p>
<a href="#defl.html">DEFL/DL</a>
<p>
<a href="#defs.html">DEFS/DS</a>
<p>
<a href="#defw.html">DEFW/DW</a>
<p>
<a href="#dspif.html">DSPIF</a>
<p>
<a href="#dspm.html">DSPM</a>
<p>
<a href="#else.html">ELSE</a>
<p>
<a href="#end.html">END</a>
<p>
<a href="#endif.html">ENDIF</a>
<p>
<a href="#equ.html">EQU</a>
<p>
<a href="#errtag.html">ERRTAG</a>
<p>
<a href="#evalbits.html">EVALBITS</a>
<p>
<a href="#even.html">EVEN</a>
<p>
<a href="#extern.html">EXTERN</a>
<p>
<a href="#global.html">GLOBAL</a>
<p>
<a href="#group.html">GROUP</a>
<p>
<a href="#if.html">IF/IFN</a>
<p>
<a href="#if16a.html">IF16A（65816用）</a>
<p>
<a href="#if16i.html">IF16I（65816用）</a>
<p>
<a href="#ifb.html">IFB</a>
<p>
<a href="#ifdef.html">IFDEF</a>
<p>
<a href="#ife.html">IFE</a>
<p>
<a href="#ifn16a.html">IFN16A（65816用）</a>
<p>
<a href="#ifn16i.html">IFN16I（65816用）</a>
<p>
<a href="#ifnb.html">IFNB</a>
<p>
<a href="#ifndef.html">IFNDEF</a>
<p>
<a href="#is65.html">IS65</a>
<p>
<a href="#is65bin.html">IS65BIN</a>
<p>
<a href="#isasbin.html">ISASBIN</a>
<p>
<a href="#isdmg.html">ISDMG</a>
<p>
<a href="#isprefix.html">ISPREFIX（65816用）</a>
<p>
<a href="#issfx.html">ISSFX</a>
<p>
<a href="#issnd.html">ISSND</a>
<p>
<a href="#isv810.html">ISV810</a>
<p>
<a href="#lib.html">LIB/FILE/INCLUDE</a>
<p>
<a href="#libbin.html">LIBBIN</a>
<p>
<a href="#list.html">LIST</a>
<p>
<a href="#local.html">LOCAL</a>
<p>
<a href="#lprefix.html">LPREFIX</a>
<p>
<a href="#macro.html">MACRO</a>
<p>
<a href="#mradix.html">MRADIX</a>
<p>
<a href="#ndspif.html">NDSPIF</a>
<p>
<a href="#ndspm.html">NDSPM</a>
<p>
<a href="#nlist.html">NLIST</a>
<p>
<a href="#off16a.html">OFF16A（65816用）</a>
<p>
<a href="#off16i.html">OFF16I（65816用）</a>
<p>
<a href="#offbankgroup.html">OFFBANKGROUP</a>
<p>
<a href="#offcnum.html">OFFCNUM</a>
<p>
<a href="#offpolish.html">OFFPOLISH</a>
<p>
<a href="#offrng.html">OFFRNG</a>
<p>
<a href="#offset.html">OFFSET</a>
<p>
<a href="#on16a.html">ON16A（65816用）</a>
<p>
<a href="#on16i.html">ON16I（65816用）</a>
<p>
<a href="#onbankgroup.html">ONBANKGROUP</a>
<p>
<a href="#oncnum.html">ONCNUM</a>
<p>
<a href="#onpolish.html">ONPOLISH</a>
<p>
<a href="#onrng.html">ONRNG</a>
<p>
<a href="#opti.html">OPTI（65816用）</a>
<p>
<a href="#org.html">ORG</a>
<p>
<a href="#page.html">PAGE</a>
<p>
<a href="#puball.html">PUBALL</a>
<p>
<a href="#public.html">PUBLIC</a>
<p>
<a href="#puboff.html">PUBOFF</a>
<p>
<a href="#pubon.html">PUBON</a>
<p>
<a href="#radix.html">RADIX</a>
<p>
<a href="#rsvreg.html">RSVREG（V810SF用）</a>
<p>
<a href="#title.html">TITLE</a>
<p>
<a href="#undeferr.html">UNDEFERR</a>
<p>
<a href="#undefext.html">UNDEFEXT</a>
<p>
<a href="#wdprefix.html">WDPREFIX（65816用）</a>
<p>
<a href="#substitute.html">=</a>
<p>
<a href="#macroname.html">&lt;マクロ名&gt;</a>
<p>
<a href="#isasmotion.html">ISASの起動</a>
<p>
<a href="#isasoption.html">起動オプション</a>
<p>
 <a href="#SYMBOL">-s &lt;n&gt;</a>
<p>
 <a href="#WARNING">-w &lt;n&gt;</a>
<p>
 <a href="#BUFFER">-b &lt;n&gt;</a>
<p>
 <a href="#MACRO">-m &lt;n&gt; [m]</a>
<p>
 <a href="#OBJECT">-o &lt;xxx&gt;</a>
<p>
 <a href="#DEFINE">-D &lt;symbol&gt;[=value]</a>
<p>
 <a href="#ERROR">-e &lt;xxx&gt;</a>
<p>
 <a href="#IS65">-is65</a>
<p>
 <a href="#ISDMG">-isdmg</a>
<p>
 <a href="#NOLOGO">-nologo</a>
<p>
 <a href="#INCLUDE">-I &lt;xxx&gt;</a>
<p>
 <a href="#LIST">-list</a>
<p>
 <a href="#TIME">-t</a>
<p>
 <a href="#DEBUG">-g</a>
<p>
 <a href="#JAPANESE">-jp</a>
<p>
 <a href="#ENGLISH">-us</a>
<p>
<a href="#isasstatus.html">終了ステータス</a>
<p>
<a href="#islkmotion.html">ISLKの起動</a>
<p>
<a href="#islkoption.html">起動オプション</a>
<p>
 <a href="#SYMBOL">-s &lt;n&gt;</a>
<p>
 <a href="#BUFFER">-b &lt;n&gt;</a>
<p>
 <a href="#OBJECT">-o &lt;xxx&gt;</a>
<p>
 <a href="#DEFINE">-D &lt;symbol&gt;[=value]</a>
<p>
 <a href="#GROUP">-G &lt;symbol&gt;[=value]</a>
<p>
 <a href="#ERROR">-e &lt;xxx&gt;</a>
<p>
 <a href="#NOLOGO">-nologo</a>
<p>
 <a href="#VERBOSE">-v</a>
<p>
 <a href="#NODEBUG">-n</a>
<p>
 <a href="#TIME">-t</a>
<p>
 <a href="#OLDISX">-x24</a>
<p>
 <a href="#LIB">-L &lt;xxx&gt;</a>
<p>
 <a href="#JAPANESE">-jp</a>
<p>
 <a href="#ENGLISH">-us</a>
<p>
 <a href="#WARNING">-w bank-over</a>
<p>
<a href="#response.html">レスポンスファイル</a>
<p>
<a href="#islkstatus.html">終了ステータス</a>
<p>
<a href="#drawmessage.html">メッセージの表示</a>
<p>
<a href="#warninglevel.html">ウォーニングレベル</a>
<p>
<a href="#isasmessage.html">ISASのメッセージ</a>
<p>
<a href="#islkmessage.html">ISLKのメッセージ</a>
<p>
<a href="#isxfile.html">ISXファイル</a>
<p>
<a href="#isxformat1.html">ISXファイルフォーマット</a>
<p>
 <a href="#BINARY">バイナリ情報</a>
<p>
 <a href="#SYMBOL">シンボル情報</a>
<p>
 <a href="#RANGE">レンジ情報</a>
<p>
<a href="#isxformat2.html">拡張ISXファイルフォーマット</a>
<p>
 <a href="#HEAD">ヘッダ情報</a>
<p>
 <a href="#BINARY">バイナリ情報</a>
<p>
 <a href="#SYMBOL">シンボル情報</a>
<p>
 <a href="#RANGE">レンジ情報</a>
<p>
 <a href="#DEBUG">デバッグ情報</a>
<p>
<a href="#extend.html">命令展開</a>
<p>
 <a href="#MOV">mov命令</a>
<p>
 <a href="#LD">ld/in命令</a>
<p>
 <a href="#ST">st/out命令</a>
<p>
 <a href="#ADD">add命令</a>
<p>
 <a href="#ADDI">addi命令</a>
<p>
 <a href="#CMP">cmp命令</a>
<p>
 <a href="#DIV">div/divu/mul/mulu/not/sub命令</a>
<p>
 <a href="#MOVEA">movea命令</a>
<p>
 <a href="#AND">and/or/xor命令</a>
<p>
 <a href="#ANDI">andi/ori/xori命令</a>
<p>
 <a href="#JMP">jmp命令</a>
<p>
 <a href="#BCOND">Bcond命令</a>
<p>
<a href="#usedos4gw.html">Memory Use</a>
<p>
<a href="#cfgdos4gw.html">Configuring DOS/4GW</a>
<p>
 <a href="#BANNER">Suppressing the DOS/4GW Banner</a>
<p>
 <a href="#SETTING">Changing the Switch Mode Setting</a>
<p>
 <a href="#USAGE">Fine Control of Memory Usage</a>
<hr id="summary.html">
<html><body><center>
<h2>ＩＳＡＳ．ＩＳＬＫユーザーズマニュアル</h2>
</center>
<font size="-1">[ <a href="#license.html">次ページへ</a> ]</font>
<hr/>
<p>
ISAS.ISLKユーザーズマニュアルは、以下の内容から構成されています。
</p><ul>
<li><b>第１章　セットアップ</b><br/>
この章では、ISASとISLKのセットアップ等について説明します。
</li><li><b>第２章　開発手順</b><br/>
この章では、ISASとISLKを用いてプログラムを開発する時の処理手順について説明します。
</li><li><b>第３章　ソースファイル</b><br/>
ISASでアセンブルするソースファイルの書式について説明します。
</li><li><b>第４章　式</b><br/>
オペランドフィールドで使用することができるシンボルや演算子等の式について説明します。シンボルについてはシンボルフィールドでの記述も含みます。
</li><li><b>第５章　疑似命令</b><br/>
この章では、ISASが用意している各種疑似命令について説明します。
</li><li><b>第６章　アセンブラ（ISAS）</b><br/>
この章では、ISASの使用方法について説明します。
</li><li><b>第７章　リンカ（ISLK）</b><br/>
この章では、ISLKの使用方法について説明します。
</li><li><b>第８章　メッセージ</b><br/>
この章では、ISASのアセンブル時やISLKのリンク時に出力するメッセージについて解説します。
</li><li><b>付録１　ISXファイル</b><br/>
ここでは、ISLKが出力するISXファイルのフォーマットについて説明します。
</li><li><b>付録２　V810SF命令展開</b><br/>
V810SF用アセンブラとしてISASを使用した時の、アセンブル時に行われる命令展開の規則について説明します。
</li><li><b>付録３　DOS/4GW</b><br/>
DOS/4GW版のISAS（ISAS4G.EXE）とISLK（ISLK4G.EXE）では、Rational Systems, Inc.社のDOSエクステンダDOS/4GWを使用しています。ここでは、このDOS/4GWのマニュアルからの抜粋を転載します。
</li></ul>
<!--
<UL>
<LI><A HREF="contents.html#SETUP" TARGET="INDEX">第１章　セットアップ</A><BR>
この章では、ISASとISLKのセットアップ等について説明します。
<LI><A HREF="contents.html#DEVELOPMENT" TARGET="INDEX">第２章　開発手順</A><BR>
この章では、ISASとISLKを用いてプログラムを開発する時の処理手順について説明します。
<LI><A HREF="contents.html#SOURCEFILE" TARGET="INDEX">第３章　ソースファイル</A><BR>
ISASでアセンブルするソースファイルの書式について説明します。
<LI><A HREF="contents.html#EXPRESSION" TARGET="INDEX">第４章　式</A><BR>
オペランドフィールドで使用することができるシンボルや演算子等の式について説明します。シンボルについてはシンボルフィールドでの記述も含みます。
<LI><A HREF="contents.html#PSEUDO" TARGET="INDEX">第５章　疑似命令</A><BR>
この章では、ISASが用意している各種疑似命令について説明します。
<LI><A HREF="contents.html#ISAS" TARGET="INDEX">第６章　アセンブラ（ISAS）</A><BR>
この章では、ISASの使用方法について説明します。
<LI><A HREF="contents.html#ISLK" TARGET="INDEX">第７章　リンカ（ISLK）</A><BR>
この章では、ISLKの使用方法について説明します。
<LI><A HREF="contents.html#MESSAGE" TARGET="INDEX">第８章　メッセージ</A><BR>
この章では、ISASのアセンブル時やISLKのリンク時に出力するメッセージについて解説します。
<LI><A HREF="contents.html#ISXFILE" TARGET="INDEX">付録１　ISXファイル</A><BR>
ここでは、ISLKが出力するISXファイルのフォーマットについて説明します。
<LI><A HREF="contents.html#EXTEND" TARGET="INDEX">付録２　V810SF命令展開</A><BR>
V810SF用アセンブラとしてISASを使用した時の、アセンブル時に行われる命令展開の規則について説明します。
<LI><A HREF="contents.html#DOS4GW" TARGET="INDEX">付録３　DOS/4GW</A><BR>
DOS/4GW版のISAS（ISAS4G.EXE）とISLK（ISLK4G.EXE）では、Rational Systems, Inc.社のDOSエクステンダDOS/4GWを使用しています。ここでは、このDOS/4GWのマニュアルからの抜粋を転載します。
</UL>
-->
<hr/>
<center>
<a href="http://www.nintendo.co.jp/" target="_blank">任天堂株式会社</a><br/>
<a href="http://www.intsys.co.jp/" target="_blank">株式会社インテリジェントシステムズ</a>
</center>
</body></html>
<hr id="first.html">
<html><body><h2>はじめに</h2>
<font size="-1">[ <a href="#license.html">前ページへ</a> | <a href="#edition.html">次ページへ</a> ]</font>
<hr/>
<p>ISASとISLKは、Windows 95やWindows NT 4.0、Linux、MS-DOSやPC DOS等の環境下で、スーパーファミコン用65816プロセッサやSPC700プロセッサ、ゲームボーイ用DMGプロセッサ等のプログラム開発ができるアセンブラとリンカです。</p>
<p>ISASは、2パスのクロスアセンブラであり、ソースファイルをモジュール毎にファイルに分割化してアセンブルすることができるリロケータブルなアセンブラです。</p>
<p>ISASには、次のような特徴があります。
</p><ul>
<li>ISASは、65816、DMG（MGB、MGL、CGBを含む）、V810SF、およびSPC700のプロセッサに対応しています。
</li><li>65816のバンクに対応しているため、簡単にユーザの指定したバンクにプログラムを配置することができます。また、65816プロセッサのアーキテクチャーを有効に利用するための専用の疑似命令を用意し、16ビットモード、PBR、DBR、およびDR等の管理をソースファイル上で行なうことができます。
</li><li>C言語とほぼ同等の算術演算子や論理演算子等の各種演算子を用いた評価式が使用できます。
</li><li>従来のIS65やISDMGアセンブラ用に作成したソースファイルをアセンブルするモードを用意しており、従来の資産をそのまま使用することができます。
</li><li>従来のIS65やISDMGアセンブラに比べて、アセンブルに要する時間が大幅に短縮されました。
</li></ul>
また、ISLKはアセンブル時に生成されたオブジェクトファイルをリンクし、デバッガにロードすることができるISXファイルを作成します。このISXファイルには、デバッグのための情報が含まれているので、デバッガで効率の良いシンボリックデバッグやソースレベルデバッグを行うことができます。

<p>ISLKには、次のような特徴があります。
</p><ul>
<li>65816のバンクの概念を取り入れているため、より効率的に、より簡単にバンクに対応したプログラムを開発することができます。
</li><li>従来のISLINKリンカに比べて、高速にリンクすることができます。
</li><li>ソースレベルデバッグのためのデバッグ情報を出力することができるので、弊社デバッガ上でソースレベルでデバッグを行うことができます。
</li></ul>
<hr/>
</body></html>
<hr id="edition.html">
<html><body><h2>エディション</h2>
<font size="-1">[ <a href="#first.html">前ページへ</a> | <a href="#environment.html">次ページへ</a> ]</font>
<hr/>
<p>ISASとISLKには、現在<a href="#MSDOS">MS-DOS版</a>、<a href="#DOS4GW">DOS/4GW版</a>、<a href="#WINDOWS">Windows版</a>、および<a href="#LINUX">Linux版</a>の各エディションが用意されています。なお、ISASとISLKは、商品構成により含まれるエディションが異なります。もし、商品に含まれていないエディションを希望される時には、弊社までご連絡ください。</p>
<h3><a name="MSDOS">MS-DOS版</a></h3>
<p>MS-DOS版はコンベンショナルメモリ上で動作します。そのため、シンボルやマクロ等のバッファ容量にかなりの制約が発生しますが、使用可能なコンベンショナルメモリが確保できれば、OSにMS-DOSまたはPC DOSを使用したどのようなコンピュータ上でも動作させることができます。</p>
<table border="1" width="100%">
<tr bgcolor="gray">
<th align="left" nowrap="" valign="top" width="150">ファイル</th>
<th align="left" nowrap="" valign="top">説明</th>
</tr>
<tr align="left" valign="top">
<td nowrap="">ISAS.EXE</td>
<td>MS-DOS版アセンブラです。</td>
</tr>
<tr align="left" valign="top">
<td nowrap="">ISLK.EXE</td>
<td>MS-DOS版リンカです。</td>
</tr>
</table>
<h3><a name="DOS4GW">DOS/4GW版</a></h3>
<p>DOS/4GW版はRational Systems, Inc.社のDOSエクステンダDOS4GW.EXEを使用してMS-DOSの拡張メモリ上で動作します。DOS/4GWは、ISASやISLK本体を拡張メモリにロードするために若干の時間が必要になりますが、アセンブルやリンクに要する時間はMS-DOS版に比べて高速に処理されます。また、使用可能なバッファ容量等の制約も大きく軽減されます。</p>
<table border="1" width="100%">
<tr bgcolor="gray">
<th align="left" nowrap="" valign="top" width="150">ファイル</th>
<th align="left" nowrap="" valign="top">説明</th>
</tr>
<tr align="left" valign="top">
<td nowrap="">ISAS4G.EXE</td>
<td>DOS/4GW版アセンブラです。</td>
</tr>
<tr align="left" valign="top">
<td nowrap="">ISLK4G.EXE</td>
<td>DOS/4GW版リンカです。</td>
</tr>
<tr align="left" valign="top">
<td nowrap="">DOS4GW.EXE</td>
<td>Rational Systems, Inc.社のDOSエクステンダです。ISAS4G.EXE、およびISLK4G.EXEを起動する時に自動的にロードされます。DOS/4GWについては、<a href="#usedos4gw.html">付録３　DOS/4GW</a>を参照してください。</td>
</tr>
</table>
<h3><a name="WINDOWS">Windows版</a></h3>
<p>Windows版は、Windows 95のMS-DOSプロンプト、またはWindows NT 4.0のコマンドプロンプト上で動作させることができるバージョンです。MS-DOSプロンプトやコマンドプロンプトでMS-DOS版も使用することができますが、高速でかつ使用可能なバッファ容量等の制約が少ないWindows版を使用されることをお勧めします。</p>
<table border="1" width="100%">
<tr bgcolor="gray">
<th align="left" nowrap="" valign="top" width="150">ファイル</th>
<th align="left" nowrap="" valign="top">説明</th>
</tr>
<tr align="left" valign="top">
<td nowrap="">ISAS32.EXE</td>
<td>Windows版アセンブラです。</td>
</tr>
<tr align="left" valign="top">
<td nowrap="">ISLK32.EXE</td>
<td>Windows版リンカです。</td>
</tr>
</table>
<h3><a name="WINDOWS">Linux版</a></h3>
<p>Linux Kernel 2.30で動作させることができます。</p>
<table border="1" width="100%">
<tr bgcolor="gray">
<th align="left" nowrap="" valign="top" width="150">ファイル</th>
<th align="left" nowrap="" valign="top">説明</th>
</tr>
<tr align="left" valign="top">
<td nowrap="">isas</td>
<td>Linux版アセンブラです。</td>
</tr>
<tr align="left" valign="top">
<td nowrap="">islk</td>
<td>Linux版リンカです。</td>
</tr>
</table>
<hr/>
</body></html>
<hr id="environment.html">
<html><body><h2>動作環境</h2>
<font size="-1">[ <a href="#edition.html">前ページへ</a> | <a href="#setup.html">次ページへ</a> ]</font>
<hr/>
<p>ISASとISLKを動作させるためには、次に示す環境を用意して頂く必要があります。</p>
<h3><a name="MSDOS">MS-DOS版</a></h3>
<p>MS-DOS版を使用する時の動作環境は次のとおりです。</p>
<table border="1" width="100%">
<tr bgcolor="gray">
<th align="LEFT" nowrap="" valign="TOP" width="150">項目</th>
<th align="LEFT" nowrap="" valign="TOP">説明</th>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="">コンピュータ</td>
<td>Intel社製8086以上のCPUを搭載し、MS-DOSまたはPC DOSが動作すること。</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="">メモリ</td>
<td>コンベンショナルメモリに500Kバイト以上の使用可能メモリが確保されていること。</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="">ディスク</td>
<td>インストール用に1Mバイト以上、およびテンポラリ用に500Kバイト以上の空き領域が必要。</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="">OS</td>
<td>MS-DOSまたはPC DOS Version 5.0以上。</td>
</tr>
</table>
<h3><a name="DOS4GW">DOS/4GW版</a></h3>
<p>DOS/4GW版を使用する時の動作環境は次のとおりです。</p>
<table border="1" width="100%">
<tr bgcolor="gray">
<th align="LEFT" nowrap="" valign="TOP" width="150">項目</th>
<th align="LEFT" nowrap="" valign="TOP">説明</th>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="">コンピュータ</td>
<td>Intel社製80386以上のCPUを搭載したIBM-PC/AT互換機でMS-DOSまたはPC DOSが動作、または日本電気社製PC-9800シリーズ、および富士通社製FMR-70でMS-DOSが動作すること。</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="">メモリ</td>
<td>コンベンショナルメモリに200Kバイト以上、拡張メモリに2Mバイト以上の使用可能メモリが確保されていること。なお、拡張メモリは4Mバイト以上用意して頂くことを推奨します。</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="">ディスク</td>
<td>インストール用に1Mバイト以上、およびテンポラリ用に500Kバイト以上の空き領域が必要。</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="">OS</td>
<td>MS-DOSまたはPC DOS Version 5.0以上。</td>
</tr>
</table>
<p>DOS/4GW版のISASやISLKはDOSエクステンダDOS4GW.EXEのDPMI（Dos Protected Mode Interface）によって拡張メモリを使用します。このため、EMS（Expanded Memory Specification）や他のDPMIサーバによってXMS（eXtended Memory Specification）メモリの空き領域が確保できない時は、DOS/4GW版のISASやISLKを起動させることができません。使用可能な拡張メモリを再度確認し、HIMEM.SYSやEMM386.EXE等のメモリマネージャの設定を変更してください。なお、HIMEM.SYSとEMM386.EXEの詳細については、MS-DOSまたはPC DOSのマニュアル等を参照してください。</p>
<h3><a name="WINDOWS">Windows版</a></h3>
<p>Windows版を使用する時の動作環境は次のとおりです。</p>
<table border="1" width="100%">
<tr bgcolor="gray">
<th align="left" nowrap="" valign="top" width="150">項目</th>
<th align="left" nowrap="" valign="top">説明</th>
</tr>
<tr align="left" valign="top">
<td nowrap="">コンピュータ</td>
<td>Intel社製80486以上のCPUを搭載し、Microsoft Windows 95、またはMicrosoft Windows NT 4.0が正常に動作すること。</td>
</tr>
<tr align="left" valign="top">
<td nowrap="">メモリ</td>
<td>32Mバイト以上を推奨。</td>
</tr>
<tr align="left" valign="top">
<td nowrap="">ハードディスク</td>
<td>20Mバイト以上の空き領域が必要。</td>
</tr>
</table>
<h3><a name="LINUX">Linux版</a></h3>
<p>Linux版を使用する時の動作環境は次のとおりです。</p>
<table border="1" width="100%">
<tr bgcolor="gray">
<th align="left" nowrap="" valign="top" width="150">項目</th>
<th align="left" nowrap="" valign="top">説明</th>
</tr>
<tr align="left" valign="top">
<td nowrap="">コンピュータ</td>
<td>Linux Kernel 2.30が正常に動作すること。（ただし、Debian1.3でのみ動作確認）</td>
</tr>
<tr align="left" valign="top">
<td nowrap="">メモリ</td>
<td>16Mバイト以上を推奨。</td>
</tr>
<tr align="left" valign="top">
<td nowrap="">ハードディスク</td>
<td>10Mバイト以上の空き領域が必要。</td>
</tr>
</table>
<p>Linux環境の場合、環境の設定によっては動作しない場合があります。このような場合には、恐れ入りますが弊社までご相談くださるようお願い致します。</p>
<hr/>
</body></html>
<hr id="setup.html">
<html><body><h2>セットアップ</h2>
<font size="-1">[ <a href="#environment.html">前ページへ</a> | <a href="#value.html">次ページへ</a> ]</font>
<hr/>
<p>ISASとISLKを使用される前に、最低限以下のセットアップを行なう必要があります。</p>
<h3><a name="COPY">システムファイルのコピー</a></h3>
<p>まず、システムディスクからユーザのハードディスク等にシステムファイルをコピーします。コピーは<a href="#edition.html">エディション</a>の項目で示した全てのシステムファイルを同じディレクトリにコピーするようにしてください。また、コピー後はシステムディスクを大切に保管してください。この作業は、バックアップの目的においてのみ行なうことを許可し、この目的以外でのコピーは禁止されています。</p>
<h3><a name="SET">環境変数の設定</a></h3>
<p>ISASとISLKには、<a href="#ISAS">ISAS</a>、<a href="#ISLK">ISLK</a>、<a href="#ISINC">ISINC</a>、<a href="#ISLIB">ISLIB</a>、<a href="#ISTMP">ISTMP/TEMP/TMP</a>、および<a href="#PATH">PATH</a>の環境変数が用意されていますが、この内<a href="#PATH">PATH</a>コマンドで検索リストにISAS.ISLKのシステムファイルをコピーしたディレクトリを追加してください。例えば、ISASとISLKのシステムファイルをCドライブのISASディレクトリにコピーした時は次のように指定します。</p>
<pre>C:¥&gt;path=%path%;c:¥isas
</pre>
<p>その他の環境変数は必要に応じて設定します。なお、環境変数の詳細については<a href="#value.html">環境変数</a>の項目を参照してください。</p>
<hr/>
</body></html>
<hr id="value.html">
<html><body><h2>環境変数</h2>
<font size="-1">[ <a href="#setup.html">前ページへ</a> | <a href="#flow.html">次ページへ</a> ]</font>
<hr/>
<p>ISASやISLKには、アセンブルやリンクの作業をより快適に進めるために、いくつかの環境変数が用意されています。</p>
<table border="1" width="100%">
<tr bgcolor="gray">
<th align="LEFT" nowrap="" valign="TOP" width="150">プログラム</th>
<th align="LEFT" nowrap="" valign="TOP">環境変数</th>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="">ISAS</td>
<td><a href="#ISAS">ISAS</a>、<a href="#ISINC">ISINC</a>、<a href="#ISTMP">ISTMP/TEMP/TMP</a>、<a href="#PATH">PATH</a></td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="">ISLK</td>
<td><a href="#ISLK">ISLK</a>、<a href="#ISLIB">ISLIB</a>、<a href="#ISTMP">ISTMP/TEMP/TMP</a>、<a href="#PATH">PATH</a></td>
</tr>
</table>
<p>これらの環境変数は、必要に応じてAUTOEXEC.BATファイルに設定すると良いでしょう。また、環境変数の指定は大文字と小文字の何れで指定してもかまいません。</p>
<h3><a name="ISAS">ISAS</a></h3>
<p>ISAS起動時のパラメータを指定します。</p>
<p>パラメータには起動オプションとソースファイル名がありますが、特にアセンブル時に指定する起動オプションが同じ場合が多々あります。このような時にISAS環境変数を指定することで、ISAS起動時に指定するパラメータの入力の手間を省くことができます。</p>
<p>例えば、シンボルテーブル数を8000個にしたい時は次のように指定します。</p>
<pre>set isas=-s8000
</pre>
<p>このように設定すると、ISAS起動時に<a href="#SYMBOL">-sオプション</a>を指定しなくてもデフォルトでシンボルテーブル数を8000個確保することができます。ただし、ISAS環境変数と同じパラメータをISAS起動時にコマンドラインで指定した時は、コマンドラインの指定が有効となります。なお、ISASのパラメータの詳細については、<a href="#isasoption.html">第６章　アセンブラ（ISAS）</a>を参照してください。</p>
<h3><a name="ISLK">ISLK</a></h3>
<p>ISLK起動時のパラメータを指定します。</p>
<p>パラメータには起動オプションとオブジェクトファイル名がありますが、特にリンクする時に指定する起動オプションが同じ場合が多々あります。このような時にISLK環境変数を指定することで、ISLK起動時に指定するパラメータの入力の手間を省くことができます。</p>
<p>例えば、シンボルテーブル数を8000個にしたい時は次のように指定します。</p>
<pre>set islk=-s8000
</pre>
<p>このように設定すると、ISLK起動時に<a href="#SYMBOL">-sオプション</a>を指定しなくてもデフォルトでシンボルテーブル数を8000個確保することができます。ただし、ISLK環境変数と同じパラメータをISLK起動時にコマンドラインで指定した時は、コマンドラインの指定が有効となります。なお、ISLKのパラメータの詳細については、<a href="#islkoption.html">第７章　リンカ（ISLK）</a>を参照してください。</p>
<h3><a name="ISINC">ISINC</a></h3>
<p><a href="#lib.html">LIB/FILE/INCLUDE疑似命令</a>、および<a href="#libbin.html">LIBBIN疑似命令</a>により読み込まれるファイルを検索するディレクトリパスを指定します。</p>
<p><a href="#lib.html">LIB/FILE/INCLUDE疑似命令</a>や<a href="#libbin.html">LIBBIN疑似命令</a>で指定したファイルが見つからなかった時、ISASはISINC環境変数で指定されたディレクトリパスに従ってファイルを検索します。例えば、CドライブのINCLUDEディレクトリを検索するには次のように指定します。</p>
<pre>set isinc=c:¥include
</pre>
<p>また、複数のディレクトリを指定する時は、検索するパスを順次記述しそれぞれセミコロン（;）で区切ることにより指定することができます。</p>
<pre>set isinc=c:¥include1;c:¥include2
</pre>
<p>なお、ISINC環境変数を指定しても、ISAS起動時に<a href="#INCLUDE">-Iオプション</a>を指定すると、<a href="#INCLUDE">-Iオプション</a>で指定したディレクトリを優先して検索し、目的のファイルが見つからなかった時にISINC環境変数で指定したディレクトリが検索されます。</p>
<h3><a name="ISLIB">ISLIB</a></h3>
<p>リンクするオブジェクトファイルを検索するディレクトリパスを指定します。</p>
<p>リンク時にオブジェクトファイルが見つからなかった時、ISLKはISLIB環境変数で指定されたディレクトリパスに従ってファイルを検索します。例えば、CドライブのLIBディレクトリを検索するには次のように指定します。</p>
<pre>set islib=c:¥lib
</pre>
<p>また、複数のディレクトリを指定する時は、検索するパスを順次記述しそれぞれセミコロン（;）で区切ることにより指定することができます。</p>
<pre>set islib=c:¥lib1;c:¥lib2
</pre>
<p>なお、ISLIB環境変数を指定しても、ISLK起動時に<a href="#LIB">-Lオプション</a>を指定すると、<a href="#LIB">-Lオプション</a>で指定したディレクトリを優先して検索し、目的のファイルが見つからなかった時にISLIB環境変数で指定したディレクトリが検索されます。</p>
<h3><a name="ISTMP">ISTMP/TEMP/TMP</a></h3>
<p>ISASおよびISLKが出力するテンポラリファイルのディレクトリパスを指定します。</p>
<p>ISASおよびISLKは、ISTMP、TEMP、TMPの順に環境変数を検索します。これらの環境変数が見つからない場合は、ISASとISLKはカレントディレクトリにテンポラリファイルを出力します。この環境変数によって指定されたディレクトリは一時的に使用するだけなので、アセンブルやリンクの時間の短縮のためにRAMディスク等が割り当てられているディレクトリを指定する方が良いでしょう。</p>
<p>例えば、テンポラリファイルの出力先ディレクトリをDドライブのルートディレクトリにするには次のように指定します。</p>
<pre>set istmp=d:¥
</pre>
<h3><a name="PATH">PATH</a></h3>
<p>ISAS.ISLKのシステムファイルが格納されているディレクトリパスを指定します。</p>
<p>ISAS.ISLKのシステムファイルがカレントディレクトリにない場合、または、これらのファイルが格納されているディレクトリがPATHコマンドで指定されていないと、ISASやISLKを正常に起動することはできません。例えば、CドライブのISASディレクトリにこれらのファイルを用意した時には、次のようにPATHコマンドに"C:¥ISAS"を追加してください。</p>
<pre>path=%path%;c:¥isas
</pre>
<p>PATHコマンドの詳細については、Windows 95やWindows NT、MS-DOSまたはPC DOSのマニュアル等を参照してください。</p>
<hr/>
</body></html>
<hr id="flow.html">
<html><body><h2>開発手順</h2>
<font size="-1">[ <a href="#value.html">前ページへ</a> | <a href="#move65.html">次ページへ</a> ]</font>
<hr/>
<p>ISASとISLKを用いてプログラムを開発するには、次のような手順で進めて行きます。</p>
<table border="0" width="100%">
<tr align="CENTER"><td><a href="#SOURCE">ソースファイルの作成</a></td></tr>
<tr align="CENTER"><td>↓</td></tr><tr>
</tr><tr align="CENTER"><td><a href="#ASSEMBLE">ISASによるアセンブル</a></td></tr>
<tr align="CENTER"><td>↓</td></tr><tr>
</tr><tr align="CENTER"><td><a href="#OBJECT">オブジェクトファイルの作成</a></td></tr>
<tr align="CENTER"><td>↓</td></tr><tr>
</tr><tr align="CENTER"><td><a href="#LINK">ISLKによるリンク</a></td></tr>
<tr align="CENTER"><td>↓</td></tr><tr>
</tr><tr align="CENTER"><td><a href="#ISX">ISXファイルの作成</a></td></tr>
</table>
<h3><a name="SOURCE">ソースファイルの作成</a></h3>
<p>ソースファイルは、プログラムを記述したテキスト形式のファイルです。<a href="#source.html">第３章　ソースファイル</a>の<a href="#program.html">プログラムの書式</a>を参考にして、市販のテキストエディタを用いて作成します。</p>
<p>ソースファイルは一つ、または複数に分けることができます。一般に、小さなプログラムを作成する以外は、モジュール毎に複数のソースファイルに分けて作成します。</p>
<p>ソースファイルの名前は、どのようなファイル名も付けてもかまいません。ただし、ISASはデフォルトでソースファイルの拡張子を".S"と判断するので、拡張子は".S"とするのが良いでしょう。このようにすると、ISAS起動時に拡張子を指定する必要がありません。もちろん、".S"以外の拡張子をもったファイル名を付けた時は、ソースファイル名に拡張子も記述してください。なお、アセンブル時には拡張子に".O"を付けたオブジェクトファイルを、またリンク時には拡張子に".ISX"を付けたISXファイルをそれぞれデフォルトで出力するので、拡張子が".O"および".ISX"以外のファイル名を付けるほうが良いでしょう。</p>
<h3><a name="ASSEMBLE">ISASによるアセンブル</a></h3>
<p>ISASを用いて、ユーザが作成したソースファイルをアセンブルします。ISASの使用方法については、<a href="#isasmotion.html">第６章　アセンブラ（ISAS）</a>を参照してください。</p>
<p>複数のソースファイルが存在する時はこのアセンブル処理を繰り返し行い、全てのソースファイルをアセンブルしてください。また、必要に応じて<a href="#lib.html">LIB/FILE/INCLUDE疑似命令</a>でアセンブル時に他のソースファイルを読み込むこともできます。このような時は、読み込まれるソースファイルを個々にアセンブルする必要はありません。</p>
<p>アセンブルが正常に終了すると、ISASはISLKが読み込むオブジェクトファイルを出力します。</p>
<h3><a name="OBJECT">オブジェクトファイルの作成</a></h3>
<p>ISASによって作成されたオブジェクトファイルは、デフォルトの拡張子が".O"のファイル名を持ち、外部参照シンボルの値が未定義な一時的なファイルです。</p>
<p>この未定義な値を解決するために、ISLKを用いてリンクを行います。</p>
<h3><a name="LINK">ISLKによるリンク</a></h3>
<p>ISLKを用いて、ISASによって作成された一つ、または複数のオブジェクトファイルをリンクします。ISLKの使用方法については、<a href="#islkmotion.html">第７章　リンカ（ISLK）</a>を参照してください。</p>
<p>リンク処理では、アセンブル時に未定義であった外部参照シンボルを解決し、オブジェクトファイルを実アドレスに配置してISXファイルを出力します。</p>
<h3><a name="ISX">ISXファイルの作成</a></h3>
<p>ISLKによって作成されたISXファイルは、デフォルトの拡張子が".ISX"のファイル名を持ち、デバッガに読み込ますことができるファイルです。</p>
<p>このISXファイルには、プログラムコードの他に、シンボリックデバッグを行う時に必要なシンボル情報やレンジ情報が含まれています。シンボル情報とはシンボルのアドレスやデータの値を示した情報であり、また、レンジ情報とはデータが定義されている領域やアキュームレータ、およびインデックスのビットモードの領域を示した情報です。これらの情報により、デバッガ上でシンボリックデバッグを行うことができます。</p>
<p>また、拡張ISXファイルにはソースレベルデバックのためのデバッグ情報も格納することができるので、このファイルを読み込むことによりデバッガ上でソースレベルデバッグを行うことができるようになります。</p>
<hr/>
</body></html>
<hr id="move65.html">
<html><body><h2>IS65からの移行</h2>
<font size="-1">[ <a href="#flow.html">前ページへ</a> | <a href="#movedmg.html">次ページへ</a> ]</font>
<hr/>
<p>ここでは、IS65からISASに変更する時に必要な情報について説明しています。</p>
<h3><a name="ASSEMBLE">IS65用ソースファイルをISASでアセンブルする時は</a></h3>
<p>IS65用に作られたソースファイルをISASでアセンブルする時には、ISAS起動時に<a href="#IS65">-is65オプション</a>を指定してください。このオプションを指定すると、ISASは内部的に次の疑似命令を指定し、ISASでIS65用のファイルを正常にアセンブルすることができます。</p>
<pre>	opti	1	; シンボル未解決時のアドレッシングの優先順位をアブソリ
			; ュート、ダイレクト、ロングの順にする
	isprefix	; プリフィックスにINTELLIGENT SYSTEMS社用を使用する
	onbankgroup	; グループ指定にバンクアドレスが含まれる
	offpolish	; 演算子の優先順位を無視する
	evalbits 16	; 定数評価時の有効ビットを16ビットとする
	is65bin		; BINSET疑似命令のパラメータの指定をIS65互換にする
</pre>
<p>なお、これらの疑似命令の詳細については、<a href="#pseudo.html">第５章　疑似命令</a>の各疑似命令の項目を参照してください。</p>
<h3><a name="CHANGE">IS65用ソースファイルをISAS用に変更する時は</a></h3>
<p>ISASの機能を有効に使用するためには、ISAS用にソースファイルを変更する必要があります。IS65用のソースファイルをISAS用に変更する時には、以下の項目に注意して作業を進めてください。

</p><ul>
<li><p>IS65では<a href="#ORDER">演算子の優先順位</a>に係わらず左から順に式を評価しますが、ISASでは<a href="#ORDER">演算子の優先順位</a>に従って式を評価します。</p>
</li><li><p>ISASは32ビットで式を評価するため、式を16ビットとして扱う時は<a href="#evalbits.html">EVALBITS疑似命令</a>で16を指定してください。</p>
</li><li><p>デフォルトではグループにバンクアドレスを割り当てる必要がないので、バンクアドレスを含むアドレスを<a href="#org.html">ORG疑似命令</a>で指定してください。なお、<a href="#onbankgroup.html">ONBANKGROUP疑似命令</a>を指定するとIS65と同じように指定することができます。</p>
</li><li><p>アドレッシングの指定は、明示的に記述しないとデフォルトではロングアドレッシングとして判断されます。また演算を32ビットで処理するので、IS65ではアドレス処理で影響の無かった場合でもISASではバンクアドレスにまで影響を与えるケースが発生します。例えば、lda #&gt;label-1は、</p>
<ul>
<li>IS65では、"label-1"を評価してから"&gt;"する。
</li><li>ISASでは、"&gt;label"を評価してから"-1"する。
</li></ul>
<p>となり結果が異なるケースがあるので、演算には細心の注意を払ってください。</p>
</li><li><p>シンボルを確保するために必要なメモリが不足した時、ISASは動的にメモリを増やすことは行っていないので、<a href="#SYMBOL">-sオプション</a>でシンボルテーブルを増やしてください。この時、指定するシンボルテーブルの値が大きい程、かつその値が素数である程高速にアセンブルされます。</p>
</li><li><p>デフォルトではエラー情報は、デフォルトで標準出力に出力されます。なお、<a href="#errtag.html">ERRTAG疑似命令</a>によって、指定のファイルにエラー情報を出力する事ができます。</p>
</li></ul>
<hr/>
</body></html>
<hr id="movedmg.html">
<html><body><h2>ISDMGからの移行</h2>
<font size="-1">[ <a href="#move65.html">前ページへ</a> | <a href="#source.html">次ページへ</a> ]</font>
<hr/>
<p>ここでは、ISDMGからISASに変更する時に必要な情報について説明しています。</p>
<h3><a name="ASSEMBLE">ISDMG用ソースファイルをISASでアセンブルする時は</a></h3>
<p>ISDMG用に作られたソースファイルをISASでアセンブルする時には、ISAS起動時に<a href="#ISDMG">-isdmgオプション</a>を指定してください。このオプションを指定すると、ISASは内部的に次の疑似命令を指定し、ISASでISDMG用のファイルを正常にアセンブルすることができます。</p>
<pre>	isdmg		; 命令セットをDMGプロセッサ用に切り替える
	onbankgroup	; グループ指定にバンクアドレスが含まれる
	offpolish	; 演算子の優先順位を無視する
	evalbits 16	; 定数評価時の有効ビットを16ビットとする
</pre>
<p>なお、これらの疑似命令の詳細については、<a href="#pseudo.html">第５章　疑似命令</a>の各疑似命令の項目を参照してください。</p>
<h3><a name="CHANGE">ISDMG用ソースファイルをISAS用に変更する時は</a></h3>
<p>ISASの機能を有効に使用するためには、ISAS用にソースファイルを変更する必要があります。ISDMG用のソースファイルをISAS用に変更する時には、以下の項目に注意して作業を進めてください。

</p><ul>
<li><p>ISDMGでは<a href="#ORDER">演算子の優先順位</a>に係わらず左から順に式を評価しますが、ISASでは<a href="#ORDER">演算子の優先順位</a>に従って式を評価します。</p>
</li><li><p>シンボルを確保するために必要なメモリが不足した時、ISASは動的にメモリを増やすことは行っていないので、<a href="#SYMBOL">-sオプション</a>でシンボルテーブルを増やしてください。この時、指定するシンボルテーブルの値が大きい程、かつその値が素数である程高速にアセンブルされます。</p>
</li><li><p>デフォルトではエラー情報は、デフォルトで標準出力に出力されます。なお、<a href="#errtag.html">ERRTAG疑似命令</a>によって、指定のファイルにエラー情報を出力する事ができます。</p>
</li></ul>
<hr/>
</body></html>
<hr id="source.html">
<html><body><h2>ソースファイル</h2>
<font size="-1">[ <a href="#movedmg.html">前ページへ</a> | <a href="#program.html">次ページへ</a> ]</font>
<hr/>
<h3><a name="FORMAT">ファイル形式</a></h3>
<p>ISASでアセンブルすることができるソースファイルは、各行の終わりにCR（0DH）とLF（0AH）、またはLF（0AH）のみが付加されているテキストファイル形式で記述している必要があります。</p>
<p>また、ソースファイル内のプログラムで使用できる文字を以下に示します。</p>
<table border="0">
<tr align="LEFT" valign="TOP">
<th align="LEFT" nowrap="" valign="TOP">英字</th>
<td><br/></td>
<td nowrap="">A(41H) 〜 Z(5AH)<br/>
	a(61H) 〜 z(7AH)</td>
</tr>
<tr align="LEFT" valign="TOP">
<th align="LEFT" nowrap="" valign="TOP">数字</th>
<td><br/></td>
<td nowrap="">0(30H) 〜 9(39H)</td>
</tr>
<tr align="LEFT" valign="TOP">
<th align="LEFT" nowrap="" valign="TOP">特殊文字</th>
<td><br/></td>
<td nowrap="">スペース(20H) 〜 &amp;(26H)<br/>
	((28H) 〜 /(2FH)<br/>
	:(3AH) 〜 &gt;(3EH)<br/>
	@(40H)<br/>
	^(5EH) 〜 _(5FH)<br/>
	|(7CH)<br/>
	‾(7EH)</td>
</tr>
<tr align="LEFT" valign="TOP">
<th align="LEFT" nowrap="" valign="TOP">制御文字</th>
<td><br/></td>
<td nowrap="">TAB(09H)<br/>
	CR(0DH)<br/>
	LF(0AH)</td>
</tr>
<tr align="LEFT" valign="TOP">
<th align="LEFT" nowrap="" valign="TOP">その他</th>
<td><br/></td>
<td>上記以外のキャラクタコードの文字は、文字または文字列（シングルクォーテーションまたはダブルクォーテーションで囲まれた範囲）、およびコメントフィールド内でのみ記述できます。</td>
</tr>
</table>
<p>なお、上記説明での括弧内は文字コードを示しています。</p>
<h3><a name="NAME">ファイル名</a></h3>
<p>ソースファイルの名前は、どのようなファイル名も付けてもかまいません。ただし、ISASはデフォルトでソースファイルの拡張子を".S"と判断するので、拡張子は".S"とするのが良いでしょう。このようにすると、ISAS起動時に拡張子を指定する必要はありません。もちろん、".S"以外の拡張子を持ったファイル名を付けた時は、ソースファイル名に拡張子も記述してください。なお、アセンブル時には拡張子に".O"を付けたオブジェクトファイルを、またリンク時には拡張子に".ISX"を付けたISXファイルをそれぞれデフォルトで出力するので、拡張子が".O"および".ISX"以外のファイル名を付けてください。</p>
<hr/>
</body></html>
<hr id="program.html">
<html><body><h2>プログラムの書式</h2>
<font size="-1">[ <a href="#source.html">前ページへ</a> | <a href="#symbol.html">次ページへ</a> ]</font>
<hr/>
<p>ソースファイルの1行は、次のように4つのフィールドに分かれています。プログラムを記述する時は、これらの各フィールドに従って記述します。</p>
<pre>
symbol	lda	$10	; これはテストです.
↑	↑	↑	↑
Symbol	Op-code	Operand	Comment
</pre>
<table border="1" width="100%">
<tr bgcolor="gray">
<th><br/></th>
<th align="LEFT" nowrap="" valign="TOP">フィールド名
	</th><th align="LEFT" nowrap="" valign="TOP">記述制限
</th></tr>
<tr align="LEFT" valign="TOP">
<td nowrap="">Symbol</td>
<td nowrap=""><a href="#SYMBOL">シンボルフィールド</a></td>
<td>1カラム目から64文字まで。</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="">Op-code</td>
<td nowrap=""><a href="#OPECODE">オペコードフィールド</a></td>
<td>2カラム目以降64文字まで。</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="">Operand</td>
<td nowrap=""><a href="#OPERAND">オペランドフィールド</a></td>
<td>2カラム目以降コメントフィールドと合わせて384文字まで。</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="">Comment</td>
<td nowrap=""><a href="#COMMENT">コメントフィールド</a></td>
<td>セミコロン（;）で始まり、どのカラムからでも良く、オペランドフィールドと合わせて384文字まで。</td>
</tr>
</table>
<p>ソースファイルの1行には、必ずしも上記の全てのフィールドが必要ではありません。また、複数のフィールドが1行に存在する時は、各フィールドはスペースまたはタブで区切ってください。ただし、コメントフィールドの直前に区切りのためのスペースやタブを挿入しなくても問題はありません。</p>
<p>また、ソースファイルの1行は512文字まで記述することができます。ただし、あまり長すぎるとエディタで編集し難くなるので、適当に改行することをお薦めします。</p>
<h3><a name="SYMBOL">シンボルフィールド</a></h3>
<p>1カラム目から記述する部分を示し、ここには定義するシンボル名やマクロ名を記述します。このシンボルフィールドは64文字分ありますが、シンボル名として判断される文字数はグローバルシンボルは32文字、ローカルシンボルは27文字、マクロ名は32文字までなので注意してください。</p>
<p>シンボルの直後には、コロン（:）を一つ付加して明示的にシンボルであることを示すことができますが、コロンを付加していない時と機能的に何等変わることはありません。また、グローバルシンボルの直後にコロンを二重に付加した時は、外部定義シンボルとして定義され、シンボリックデバッグに必要なシンボル情報としてISXファイルに出力されます。</p>
<pre>symbol1				; 正常
symbol2:			; 正常
symbol3::			; 正常（外部定義シンボルとして判断される）
	symbol4			; 誤り（オペコードとして判断される）
</pre>
<p>なお、シンボルについては"第４章　式"の"<a href="#symbol.html">シンボル</a>"、マクロ名については同じ章の"<a href="#name.html">名前</a>"の項目を参照してください。</p>
<h3><a name="OPECODE">オペコードフィールド</a></h3>
<p>2カラム目以降に初めて記述する部分を示し、オペコード、疑似命令、およびマクロを呼び出す時のマクロ名を記述します。シンボルフィールドにシンボルが記述されている場合は、シンボルフィールドとオペコードフィールドとの間に一つ以上のタブまたはスペースを挿入してください。</p>
<pre>	rts			; 正常
symbol	rts			; 正常
rts				; 誤り（オペコードとは判断されずシンボルと判断
				; される）
</pre>
<h3><a name="OPERAND">オペランドフィールド</a></h3>
<p>オペコードフィールドに記述されたオペコードに対するオペランド、疑似命令およびマクロに対するパラメータを記述するフィールドです。オペコードフィールドとオペランドフィールドとの間には、一つ以上のタブまたはスペースを挿入してください。</p>
<pre>	lda	#$10		; 正常
	lda#$10			; 誤り（オペコードとオペランドの間に区切りがな
				; い）
</pre>
<h3><a name="COMMENT">コメントフィールド</a></h3>
<p>コメントを記述するためのフィールドです。必ずセミコロン（;）から始まり、行の終わりまでがコメントフィールドとなります。セミコロンがシングルクォーテーション（' '）やダブルクォーテーション（" "）で囲まれていると文字や文字列と判断されるので 、これらで囲まれていてはいけません。また、このフィールドはどのカラムから始まってもかまいません。</p>
<pre>; これは正しいコメントの記述です.
	lda	#$10		; これも正しいコメントの記述です.
	db	"; これはコメントではなくデータです. "
</pre>
<p>なお、<a href="#title.html">TITLE疑似命令</a>はその疑似命令を記述した行の終わりまでをパラメータとして判断するため、<a href="#title.html">TITLE疑似命令</a>を記述した行にコメントを記述することはできません。</p>
<hr/>
</body></html>
<hr id="symbol.html">
<html><body><h2>シンボル</h2>
<font size="-1">[ <a href="#program.html">前ページへ</a> | <a href="#name.html">次ページへ</a> ]</font>
<hr/>
<p>シンボルには、広域的に使用できるグローバルシンボルと、局所的に使用できるローカルシンボルが用意されています。これらのシンボルには、以下の文字を使用することができます。なお、括弧内は文字コードを示します。</p>
<table border="0">
<tr align="LEFT" valign="TOP">
<th align="LEFT" nowrap="" valign="TOP">英字</th>
<td><br/></td>
<td nowrap="">A(41H) 〜 Z(5AH)<br/>
	a(61H) 〜 z(7AH)</td>
</tr>
<tr align="LEFT" valign="TOP">
<th align="LEFT" nowrap="" valign="TOP">数字</th>
<td><br/></td>
<td nowrap="">0(30H) 〜 9(39H)</td>
</tr>
<tr align="LEFT" valign="TOP">
<th align="LEFT" nowrap="" valign="TOP">特殊文字</th>
<td><br/></td>
<td nowrap="">$(24H)<br/>
	?(3FH)<br/>
	@(40H)<br/>
	_(5FH)</td>
</tr>
</table>
<p>ただし、シンボルの1文字目は英字、クエスチョンマーク（?）、またはアンダーバー（_）でなければなりません。通常、シンボルの1文字目が英字、またはクエスチョンマークの時はグローバルシンボル、アンダーバーの時はローカルシンボルとして判断されます。また、シンボル名の長さはグローバルシンボルは32文字、ローカルシンボルは27文字までが有効となります。これらの文字数を越えたシンボルを使用するとエラーが発生するので注意してください。</p>
<h3><a name="GLOBAL">グローバルシンボル</a></h3>
<p>シンボルを定義したソースファイル内の全領域で有効なシンボルをグローバルシンボルといいます。また、<a href="#public.html">PUBLIC</a>、<a href="#extern.html">EXTERN</a>、<a href="#global.html">GLOBAL</a>、<a href="#puball.html">PUBALL</a>等の疑似命令を使用することにより、シンボル定義したソースファイル以外でもそのシンボルを参照することができます。通常、サブルーチンの先頭アドレスやデータ領域には、簡単に参照できるようにグローバルシンボルを定義します。</p>
<p>グローバルシンボルは、デフォルトでは英字またはクエスチョンマークで始まり、32文字までの長さの名前を記述することができます。ただし、<a href="#lprefix.html">LPREFIX疑似命令</a>によってローカルシンボルのプレフィックスに指定された文字は使用することができません。</p>
<p>なお、グローバルシンボルに関係する疑似命令の詳細については、"第５章　疑似命令"の"<a href="#public.html">PUBLIC</a>"、"<a href="#extern.html">EXTERN</a>"、"<a href="#global.html">GLOBAL</a>"、"<a href="#puball.html">PUBALL</a>"、"<a href="#pubon.html">PUBON</a>"、"<a href="#puboff.html">PUBOFF</a>"、および"<a href="#lprefix.html">LPREFIX</a>"の各項目を参照してください。</p>
<h3><a name="LOCAL">ローカルシンボル</a></h3>
<p>グローバルシンボルから次のグローバルシンボルの間でのみ有効なシンボルをローカルシンボルといいます。</p>
<p>ローカルシンボルは、デフォルトではアンダーバーで始まり、このアンダーバーを含めて27文字までの長さの名前を記述することができます。なお、このローカルシンボルを示すプリフィックスは、<a href="#lprefix.html">LPREFIX疑似命令</a>によって任意の英字またはクエスチョンマークに変更することができます。詳しくは、"第５章　疑似命令"の"<a href="#lprefix.html">LPREFIX</a>"の項目を参照してください。</p>
<p>以下に、ローカルシンボルの簡単な使用例を示します。</p>
<pre>aaa				; グローバルシンボル
	nop
	jp	_xyz		; ローカルシンボル1にジャンプ
	:
_xyz				; ローカルシンボル1
	ret
	:
bbb				; グローバルシンボル
	nop
	jp	_xyz		; ローカルシンボル2にジャンプ
	:
_xyz				; ローカルシンボル2
	ret
ccc				; グローバルシンボル
</pre>
<p>この例では、ローカルシンボル1とローカルシンボル2は同じ名前ですが、ローカルシンボル1はグローバルシンボル"aaa"と"bbb"の間でのみ有効であり、ローカルシンボル2はグローバルシンボル"bbb"と"ccc"の間で有効となるため、正常にアセンブルすることができます。</p>
<p>このように、デバッグ時に特に必要としないシンボルをローカルシンボルとすることで、デバッグ時のシンボル領域の不足を防ぐことができます。</p><p>
</p><hr/>
</body></html>
<hr id="name.html">
<html><body><h2>名前</h2>
<font size="-1">[ <a href="#symbol.html">前ページへ</a> | <a href="#fix.html">次ページへ</a> ]</font>
<hr/>
<p>名前には、マクロ名と<a href="#group.html">GROUP疑似命令</a>で指定するグループ名があります。名前に使用することができる文字は次のとおりです。なお、括弧内は文字コードを示します。</p>
<table border="0">
<tr align="LEFT" valign="TOP">
<th align="LEFT" nowrap="" valign="TOP">英字</th>
<td><br/></td>
<td nowrap="">A(41H) 〜 Z(5AH)<br/>
	a(61H) 〜 z(7AH)</td>
</tr>
<tr align="LEFT" valign="TOP">
<th align="LEFT" nowrap="" valign="TOP">数字</th>
<td><br/></td>
<td nowrap="">0(30H) 〜 9(39H)</td>
</tr>
<tr align="LEFT" valign="TOP">
<th align="LEFT" nowrap="" valign="TOP">特殊文字</th>
<td><br/></td>
<td nowrap="">$(24H)<br/>
	?(3FH)<br/>
	@(40H)<br/>
	_(5FH)</td>
</tr>
</table>
<p>名前は、英字、クエスチョンマーク（?）、またはアンダーバー（_）で始まり、32文字までの長さの名前を記述することができます。</p>
<hr/>
</body></html>
<hr id="fix.html">
<html><body><h2>定数</h2>
<font size="-1">[ <a href="#name.html">前ページへ</a> | <a href="#prefix.html">次ページへ</a> ]</font>
<hr/>
<p>ここでは、ISASで使用できる<a href="#NUMBER">数値定数</a>、<a href="#FLOAT">浮動小数点定数</a>、<a href="#CHARACTER">文字定数</a>、および<a href="#CHARACTERS">文字列定数</a>の定数について説明します。</p>
<h3><a name="NUMBER">数値定数</a></h3>
<p>数値定数は、2進数、8進数、10進数、および16進数の形式で扱うことができます。これらの形式は基数によって指定することができます。数値定数の基数を指定するには、数値定数の前または後ろに基数を示す文字（基数演算子）を記述します。</p>
<p>ISASでは、数値定数に基数演算子が付加されていない時は、通常その数値定数を10進数として扱います。ただし、<a href="#radix.html">RADIX疑似命令</a>によって基数のデフォルト値が変更されている時は、指定された基数値が参照されます。また、数値定数に基数演算子が付加されている時は、<a href="#radix.html">RADIX疑似命令</a>の指定に係わらず基数演算子の指定が優先されます。なお、<a href="#radix.html">RADIX疑似命令</a>の詳細については、"第５章　疑似命令"の"<a href="#radix.html">RADIX</a>"の項目を参照してください。</p>
<table border="1" width="100%">
<tr bgcolor="gray">
<th align="LEFT" nowrap="" valign="TOP">基数</th>
<th align="LEFT" nowrap="" valign="TOP">前置基数演算子</th>
<th align="LEFT" nowrap="" valign="TOP">後置基数演算子</th>
<th align="LEFT" nowrap="" valign="TOP">ONCNUM疑似命令指定時</th>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="">2進数</td>
<td nowrap="">%10101100</td>
<td nowrap="">10101100b</td>
<td nowrap="">0b10101100</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="">8進数</td>
<td nowrap="">@123</td>
<td nowrap="">123o</td>
<td nowrap="">0o123</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="">10進数</td>
<td nowrap="">1234</td>
<td nowrap="">1234d</td>
<td nowrap="">1234</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="">16進数</td>
<td nowrap="">$1234</td>
<td nowrap="">1234h</td>
<td nowrap="">0x1234</td>
</tr>
</table>
<p>また、<a href="#oncnum.html">ONCNUM疑似命令</a>を指定した後には、これらの指定方法の他にC言語ライクに定数を記述することができます。なお、基数演算子は大文字と小文字の何れで記述してもかまいません。</p>
<h3><a name="FLOAT">浮動小数点定数</a></h3>
<p>V810SFプロセッサとしてISASを使用されている時は、浮動小数点定数を使用することができます。浮動小数点定数を指定する時には、予め<a href="#oncnum.html">ONCNUM疑似命令</a>を指定する必要があります。また、浮動小数点定数にはその直前に浮動小数点定数を表わす基数演算子0fを記述します。なお、浮動小数点定数は次の形式で表現することができます。

</p><ul>
<li>&lt;仮数部&gt;<!-- <仮数部> -->
</li><li>&lt;仮数部&gt;e&lt;指数部&gt;または&lt;仮数部&gt;E&lt;指数部&gt;<!-- <仮数部>e<指数部>または<仮数部>E<指数部> -->
</li></ul>

&lt;仮数部&gt;<!-- <仮数部> -->は、小数点を含む仮数値を記述します。小数点が不要な場合は記述する必要はありません。符号が必要な時には仮数値に符号を付加することができます。また、&lt;指数部&gt;<!-- <指数部> -->には指数値を記述します。符号が必要な時には指数値に符号を付加することができます。

<h3><a name="PAUSE">数値定数の区切り</a></h3>
<p>数値定数は、可読性を向上させるために数値表現の途中にアンダーバー（_）を挿入することができます。アンダーバーは、数値定数内であればどの位置に記述してもかまいません。例えば、次のように2進数の数値定数を4ビット毎にアンダーバーで区切ることにより、解りやすく記述することができます。</p>
<pre>	lda	#%0001001001001000	; 区切りを使用しない
	lda	#%0001_0010_0100_1000	; 区切りを使用する
</pre>
<h3><a name="HEX">16進数値定数指定時の注意</a></h3>
<p>16進数の数値定数を指定する時、数値定数の先頭の文字がAからFの値で、かつ、後置基数演算子を付加した時、シンボルと明確に区別するために数値定数の先頭に0を付けてください。例えば、次のように0の付け方によって、シンボルとして判断するか数値定数として判断するかが変わります。</p>
<pre>	jmp	abch			; シンボルabchにジャンプする
	jmp	0abch			; 0abch番地にジャンプする
</pre>
<h3><a name="CHARACTER">文字定数</a></h3>
<p>文字定数とは、一文字をシングルクォーテーション（' '）で囲んだものをいいます。文字定数は、イミディエイトアドレッシングのオペランド、および<a href="#defb.html">DEFB/DB疑似命令</a>のパラメータに指定することができます。</p>
<p>文字定数にシングルクォーテーションを記述したい時は、シングルクォーテーションを続けて記述します。</p>
<pre>	db	''''
</pre>
<p>この結果、「'」というデータを作成することができます。</p>
<h3><a name="CHARACTERS">文字列定数</a></h3>
<p>文字列定数とは、二文字以上の文字列をダブルクォーテーション（" "）で囲んだものをいいます。文字列定数は、<a href="#defb.html">DEFB/DB疑似命令</a>のパラメータで指定することができます。</p>
<p>文字列定数内にダブルクォーテーションを記述したい時は、ダブルクォーテーションを続けて記述します。</p>
<pre>	db	"これは""テスト""です."
</pre>
<p>この結果、「これは"テスト"です.」というデータを作成することができます。</p>
<h3><a name="LOCATION">ロケーションカウンタ</a></h3>
<p>ISASには、定数の代わりにアスタリスク（*）を記述することにより、記述位置のアドレスを取得することができるロケーションカウンタを用意しています。
例えば、ロケーションカウンタを6番地進めたい時には、<a href="#org.html">ORG疑似命令</a>とアスタリスク（*）を使って次のように記述します。</p>
<pre>	org	*+6			; ロケーションカウンタを6番地進める
</pre>
<p>また、オペランドにアスタリスク（*）を記述した時には、オペランドに対するオペコードが格納される先頭アドレスが取得されます。</p>
<pre>	lda	*			; ロケーションカウンタを取得する
</pre>
<hr/>
</body></html>
<hr id="prefix.html">
<html><body><h2>プリフィックス</h2>
<font size="-1">[ <a href="#fix.html">前ページへ</a> | <a href="#operator.html">次ページへ</a> ]</font>
<hr/>
<p>ISASでは、65816プロセッサの特殊なアドレッシングに対応するため、次に示すプリフィックスを用意しています。これらのプリフィックスをシンボルの直前に記述することにより、特定のアドレッシングを指定することができます。プリフィックスの指定方法には、INTELLIGENT SYSTEMS社用とWestern Design Center社用の2種類があります。</p>
<table border="1" width="100%">
<tr bgcolor="gray">
<th align="LEFT" nowrap="" valign="TOP">アドレッシング</th>
<th align="LEFT" nowrap="" valign="TOP">INTELLIGENT SYSTEMS社</th>
<th align="LEFT" nowrap="" valign="TOP">Western Design Center社</th>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><a href="#DIRECT">ダイレクト</a></td>
<td nowrap="">.（ピリオド）</td>
<td nowrap="">&lt;<!-- < -->（小なり記号）</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><a href="#ABSOLUTE">アブソリュート</a></td>
<td nowrap="">!（エクスクラメーション）</td>
<td nowrap="">&gt;<!-- > -->（大なり記号）</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><a href="#LONG">ロング</a></td>
<td nowrap="">‾（チルダ）</td>
<td nowrap="">^（キャレット）</td>
</tr>
</table>
<p>INTELLIGENT SYSTEMS社用のプリフィックスを使用する時は<a href="#isprefix.html">ISPREFIX疑似命令</a>を、Western Design Center社用のプリフィックスを使用する時は<a href="#wdprefix.html">WDPREFIX疑似命令</a>を指定してください。なお、何れの疑似命令も指定しない場合は、INTELLIGENT SYSTEMS社用のプリフィックスを使用する指定となります。詳しくは、"第５章　疑似命令"の"<a href="#isprefix.html">ISPREFIX</a>"および"<a href="#wdprefix.html">WDPREFIX</a>"の項目を参照してください。</p>
<h3><a name="DIRECT">ダイレクトアドレッシング</a></h3>
<p>65816プロセッサでは、256バイトのメモリを1ページとしたページ管理を行います。この内、0ページ（アドレス00HからFFHまでの領域）は他のページとは異なり、この0ページをアクセスする命令を2バイト命令として生成します。ISASは、オペランドに記述したアドレスが0ページかどうかを評価することにより、最適な命令長を自動的に決定します。ただし、外部参照するシンボルについてはISASはそのシンボルが0ページかどうかを認識することができません。このような時に、0ページのシンボルであることを明示するためにダイレクトアドレッシング用のプリフィックスを指定します。

</p><ul>
<li>.symbol　（INTELLIGENT SYSTEMS社）
</li><li>&lt;symbol<!-- <symbol -->　（Western Design Center社）
</li></ul>

例えば、ダイレクトアドレッシング用プリフィックスは次のように使用します。

<pre>	extern	reg0		; 外部参照されているため自動判別できない
	lda	.reg0		; 0ページのシンボルであることを明示的に示す
</pre>
<h3><a name="ABSOLUTE">アブソリュートアドレッシング</a></h3>
<p>前記のダイレクトアドレッシングの項目で、ISASは65816プロセッサではシンボルの持つ値が0（00H）から255（FFH）までの時、そのシンボルの値を参照する命令等では自動的にダイレクトアドレッシングとしてオブジェクトコードを生成することを説明しました。しかし、このような時でもアブソリュートアドレッシングのオブジェクトコードを生成したい時は、アブソリュートアドレッシング用のプリフィックスを指定してください。

</p><ul>
<li>!symbol　（INTELLIGENT SYSTEMS社）
</li><li>&gt;symbol<!-- >symbol -->　（Western Design Center社）
</li></ul>

例えば、アブソリュートアドレッシング用プリフィックスは次のように使用します。

<pre>	org	$00
reg0	ds	$01		; 0ページのシンボル
	lda	!reg0		; アブソリュートアドレッシングの指定
</pre>
<p>上記の例では、本来lda命令はダイレクトアドレッシングのオブジェクトコードを出力しますが、アブソリュートアドレッシング用プリフィックスを指定しているため、アブソリュートアドレッシングのオブジェクトコードが出力されます。</p>
<h3><a name="LONG">ロングアドレッシング</a></h3>
<p>65816プロセッサでは、64Kバイト以上のメモリ領域にアクセスするためのロングアドレッシングのモードがあります。ISASでは、このロングアドレッシングを指定するためのプリフィックスを用意しています。

</p><ul>
<li>‾symbol　（INTELLIGENT SYSTEMS社）
</li><li>^symbol　（Western Design Center社）
</li></ul>

例えば、ロングアドレッシング用プリフィックスは次のように使用します。

<pre>	extern	symbol
	lda	‾symbol		; ロングアドレッシングの指定
</pre>
<hr/>
</body></html>
<hr id="operator.html">
<html><body><h2>演算子</h2>
<font size="-1">[ <a href="#prefix.html">前ページへ</a> | <a href="#macrooperator.html">次ページへ</a> ]</font>
<hr/>
<p>ISASでは、次の各種演算子を用意しています。なお、演算の結果オーバーフローまたはアンダーフローが発生しても無視されます。</p>
<h3><a name="BACK">後置単項演算子</a></h3>
<table border="1" width="100%">
<tr bgcolor="gray">
<th align="LEFT" nowrap="" valign="TOP" width="100">演算子</th>
<th align="LEFT" nowrap="" valign="TOP" width="200">機能</th>
<th align="LEFT" nowrap="" valign="TOP">説明</th>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="">'b</td>
<td nowrap="">1バイトへの変換</td>
<td>n'bの時、((n)&amp;$ff)の値をとります。</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="">'w</td>
<td nowrap="">2バイトへの変換</td>
<td>n'wの時、((n)&amp;$ffff)の値をとります。</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="">'l</td>
<td nowrap="">4バイトへの変換</td>
<td>n'lの時、((n)&amp;$ffffffff)の値をとります。</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="">'lo</td>
<td nowrap="">下位2バイトの取得</td>
<td>n'loの時、(n)'wの値をとります。</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="">'hi</td>
<td nowrap="">上位2バイトの取得</td>
<td>n'hiの時、((n)&gt;&gt;16)'wの値をとります。</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="">'hi1</td>
<td nowrap="">上位2バイト+ビット15の取得</td>
<td>n'hi1の時、(((n)&gt;&gt;16)'w+((n)&gt;&gt;15)&amp;$1)の値をとります。</td>
</tr>
</table>
<p>なお、'lo、'hi、'hi1の後置単項演算子はV810SFプロセッサ用の演算子です。</p>
<h3><a name="FRONT">前置単項演算子</a></h3>
<table border="1" width="100%">
<tr bgcolor="gray">
<th align="LEFT" nowrap="" valign="TOP" width="100">演算子</th>
<th align="LEFT" nowrap="" valign="TOP" width="200">機能</th>
<th align="LEFT" nowrap="" valign="TOP">説明</th>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="">!</td>
<td nowrap="">否定</td>
<td>!nの時、nが真の時は偽となり、nが偽の時は真となります。</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="">‾</td>
<td nowrap="">1の補数</td>
<td>‾nの時、nをビット毎に1と0を反転させます。</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="">+</td>
<td nowrap="">正</td>
<td>+nの時、nの正の値をとります。</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="">-</td>
<td nowrap="">負</td>
<td>-nの時、nの負の値をとります。</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="">:</td>
<td nowrap="">上位バイトの取得</td>
<td>:nまたは^nの時、((n)&gt;&gt;16)'bの値をとります。</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="">&gt;</td>
<td nowrap="">上位アドレスの取得</td>
<td>&gt;nの時、((n)&gt;&gt;8)'bの値をとります。例えば、&gt;$1234の時は$12を結果として出力します。</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="">&lt;</td>
<td nowrap="">下位アドレスの取得</td>
<td>&lt;nの時、(n)'bの値をとります。例えば、&lt;$1234の時は$34を結果として出力します。</td>
</tr>
</table>
<h3><a name="DOUBLE">二項演算子</a></h3>
<table border="1" width="100%">
<tr bgcolor="gray">
<th align="LEFT" nowrap="" valign="TOP" width="100">演算子</th>
<th align="LEFT" nowrap="" valign="TOP" width="200">機能</th>
<th align="LEFT" nowrap="" valign="TOP">説明</th>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="">*</td>
<td nowrap="">乗算</td>
<td>n1*n2の時、n1にn2を掛けます。</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="">/</td>
<td nowrap="">除算</td>
<td>n1/n2の時、n1をn2で割ります。</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="">%</td>
<td nowrap="">剰余算</td>
<td>n1%n2の時、n1をn2で割った余りをとります。</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="">+</td>
<td nowrap="">加算</td>
<td>n1+n2の時、n1にn2を加えます。</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="">-</td>
<td nowrap="">減算</td>
<td>n1-n2の時、n1からn2を引きます。</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="">:</td>
<td nowrap="">バンク</td>
<td>n:mの時、((n)&lt;&lt;16|(m)'w)の値をとります。例えば、$80:$8000の時は$80バンクの$8000番地を表わしています。</td>
</tr>
</table>
<h3><a name="SHIFT">シフト演算子</a></h3>
<table border="1" width="100%">
<tr bgcolor="gray">
<th align="LEFT" nowrap="" valign="TOP" width="100">演算子</th>
<th align="LEFT" nowrap="" valign="TOP" width="200">機能</th>
<th align="LEFT" nowrap="" valign="TOP">説明</th>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="">&lt;&lt;</td>
<td nowrap="">左シフト</td>
<td>n1&lt;&lt;n2の時、n1を左にn2ビット分シフトします。シフト時は下位ビットから0が補充されます。</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="">&gt;&gt;</td>
<td nowrap="">右シフト</td>
<td>n1&gt;&gt;n2の時、n1を右にn2ビット分シフトします。シフト時は上位ビットから0が補充されます。</td>
</tr>
</table>
<h3><a name="COMPARE">比較演算子</a></h3>
<table border="1" width="100%">
<tr bgcolor="gray">
<th align="LEFT" nowrap="" valign="TOP" width="100">演算子</th>
<th align="LEFT" nowrap="" valign="TOP" width="200">機能</th>
<th align="LEFT" nowrap="" valign="TOP">説明</th>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="">&lt;</td>
<td nowrap="">小さい</td>
<td>n1&lt;n2の時、n1がn2より小さい時に真となります。</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="">&lt;=</td>
<td nowrap="">等しいか、小さい</td>
<td>n1&lt;=n2の時、n1がn2と等しいか、より小さい時に真となります。</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="">&gt;</td>
<td nowrap="">大きい</td>
<td>n1&gt;n2の時、n1がn2より大きい時に真となります。</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="">&gt;=</td>
<td nowrap="">等しいか、大きい</td>
<td>n1&gt;=n2の時、n1がn2と等しいか、より大きい時に真となります。</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="">==</td>
<td nowrap="">等しい</td>
<td>n1==n2の時、n1がn2と等しい時に真となります。</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="">!=</td>
<td nowrap="">等しくない</td>
<td>n1!=n2の時、n1がn2と等しくない時に真となります。</td>
</tr>
</table>
<h3><a name="BIT">ビット演算子</a></h3>
<table border="1" width="100%">
<tr bgcolor="gray">
<th align="LEFT" nowrap="" valign="TOP" width="100">演算子</th>
<th align="LEFT" nowrap="" valign="TOP" width="200">機能</th>
<th align="LEFT" nowrap="" valign="TOP">説明</th>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="">&amp;</td>
<td nowrap="">ビット毎の論理積</td>
<td>n1&amp;n2の時、n1とn2のビット毎の論理積（AND）をとります。</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="">^</td>
<td nowrap="">ビット毎の排他的論理和</td>
<td>n1^n2の時、n1とn2のビット毎の排他的論理和（XOR）をとります。</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="">|</td>
<td nowrap="">ビット毎の論理和</td>
<td>n1|n2の時、n1とn2のビット毎の論理和（OR）をとります。</td>
</tr>
</table>
<h3><a name="LOGIC">論理演算子</a></h3>
<table border="1" width="100%">
<tr bgcolor="gray">
<th align="LEFT" nowrap="" valign="TOP" width="100">演算子</th>
<th align="LEFT" nowrap="" valign="TOP" width="200">機能</th>
<th align="LEFT" nowrap="" valign="TOP">説明</th>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="">&amp;&amp;</td>
<td nowrap="">論理積</td>
<td>n1&amp;&amp;n2の時、n1とn2が共に真の時は真となり、何れか一方または両方が偽の時は偽となります。</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="">||</td>
<td nowrap="">論理和</td>
<td>n1||n2の時、n1またはn2が真の時は真となり、両方が偽の時は偽となります。</td>
</tr>
</table>
<h3><a name="ORDER">演算子の優先順位</a></h3>
<p>演算子には次の表のような優先順位があります。また優先順位が同じ時には演算方向を規定する結合規則があります。</p>
<table border="1" width="100%">
<tr bgcolor="gray">
<th align="LEFT" nowrap="" valign="TOP">優先順位</th>
<th align="LEFT" nowrap="" valign="TOP">演算子</th>
<th align="LEFT" nowrap="" valign="TOP">種類</th>
<th align="LEFT" nowrap="" valign="TOP">結合規則</th>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="">1</td>
<td nowrap="">( )</td>
<td nowrap="">括弧</td>
<td nowrap="">→</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="">2</td>
<td nowrap="">'b 'w 'l 'lo 'hi 'hi1</td>
<td nowrap="">後置単項演算子</td>
<td nowrap="">→</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="">3</td>
<td nowrap="">! ‾ + - : ^ &gt; &lt;</td>
<td nowrap="">前置単項演算子</td>
<td nowrap="">←</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="">4</td>
<td nowrap="">* / %</td>
<td nowrap="">二項演算子</td>
<td nowrap="">→</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="">5</td>
<td nowrap="">+ - :</td>
<td nowrap="">二項演算子</td>
<td nowrap="">→</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="">6</td>
<td nowrap="">&lt;&lt; &gt;&gt;</td>
<td nowrap="">シフト演算子</td>
<td nowrap="">→</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="">7</td>
<td nowrap="">&lt; &lt;= &gt; &gt;=</td>
<td nowrap="">比較演算子</td>
<td nowrap="">→</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="">8</td>
<td nowrap="">== !=</td>
<td nowrap="">比較演算子</td>
<td nowrap="">→</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="">9</td>
<td nowrap="">&amp;</td>
<td nowrap="">ビット演算子</td>
<td nowrap="">→</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="">10</td>
<td nowrap="">^</td>
<td nowrap="">ビット演算子</td>
<td nowrap="">→</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="">11</td>
<td nowrap="">|</td>
<td nowrap="">ビット演算子</td>
<td nowrap="">→</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="">12</td>
<td nowrap="">&amp;&amp;</td>
<td nowrap="">論理演算子</td>
<td nowrap="">→</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="">13</td>
<td nowrap="">||</td>
<td nowrap="">論理演算子</td>
<td nowrap="">→</td>
</tr>
</table>
<p>結合規則の"→"は左から右へ評価され、"←"は右から左へ評価されることを表わします。なお、'lo、'hi、'hi1の後置単項演算子はV810SFプロセッサ専用の演算子です。</p>
<hr/>
</body></html>
<hr id="macrooperator.html">
<html><body><h2>マクロ演算子</h2>
<font size="-1">[ <a href="#operator.html">前ページへ</a> | <a href="#pseudo.html">次ページへ</a> ]</font>
<hr/>
<p>マクロを定義する時や呼び出す時には、以下のマクロ演算子を使用することができます。</p>
<table border="1" width="100%">
<tr bgcolor="gray">
<th align="LEFT" nowrap="" valign="TOP">マクロ演算子</th>
<th align="LEFT" nowrap="" valign="TOP">説明</th>
<th align="LEFT" nowrap="" valign="TOP">備考</th>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><a href="#AMPERSAND">&amp;<!-- & --></a></td>
<td nowrap="">文字列に引数を連結する</td>
<td nowrap="">マクロ定義時に使用</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><a href="#EXCLAMATION">!</a></td>
<td nowrap="">キャラクタリテラルの指定</td>
<td nowrap="">マクロ定義時に使用</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><a href="#PERCENT">%</a></td>
<td nowrap="">実引数の評価</td>
<td nowrap="">マクロ定義時に使用</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><a href="#BRACKET">&lt;&gt;<!-- <> --></a></td>
<td nowrap="">実引数の明示化</td>
<td nowrap="">マクロ呼び出し時に使用</td>
</tr>
</table>
<h3><a name="AMPERSAND">&amp;</a></h3>
<p>文字列にアッパサンド（&amp;）直後の引数を連結します。マクロ定義内で次の書式に従って記述してください。

</p><ul>
<li>&lt;文字列&gt;&amp;&lt;仮引数&gt;<!-- <文字列>&<仮引数> -->
</li></ul>

&amp;の直後に記述している&lt;仮引数&gt;<!-- <仮引数> -->を&amp;と共に実引数に置き換え、その実引数を&lt;文字列&gt;<!-- <文字列> -->に連結して新たな名前や文字列を作ります。
<p>以下に&amp;を使用して、マクロ展開される時にアレンジしたシンボル名を定義するマクロ定義例を示します。</p>
<pre>errmsg	macro	no,msg
err&amp;no	db	msg			; 文字列errに仮引数noを連結指定
	endm
	:
	errmsg	1,"Invalid format"	; 仮引数noに実引数1を指定
	errmsg	2,"Invalid data"	; 仮引数noに実引数2を指定
</pre>
<p>このようにして定義、呼び出されたマクロは、次のように新たなシンボル名を定義するようにマクロ展開されます。</p>
<pre>err1	db	"Invalid format"
err2	db	"Invalid data"
</pre>
<h3><a name="EXCLAMATION">!</a></h3>
<p>キャラクタリテラルを指定します。マクロ定義内で次の書式に従って記述してください。

</p><ul>
<li>!&lt;文字&gt;<!-- <文字> -->
</li></ul>

キャラクタリテラルとは、マクロの引数に使用できない文字を実引数として使用したい時に、その文字を認識させるために直前に付加する感嘆符（!）のことをいいます。認識できない文字には、カンマ（,）、アッパサンド（&amp;）、感嘆符（!）、パーセント（%）、小なり括弧（&lt;）、および大なり括弧（&gt;）があり、&lt;文字&gt;<!-- <文字> -->にこれらの文字を使用する時にキャラクタリテラルを使用する必要があります。
<p>例えば、65816プロセッサで上位8ビットの値を取得する時には&lt;を使用しますが、マクロの引数に上位8ビット値の取得指定をしたい時には、次のようにキャラクタリテラルを使用することにより実引数に&lt;を使用できるようになります。</p>
<pre>test	macro	data
	lda	#data
	endm
	:
	test	!&lt;symbol		; 小なり括弧（&lt;）を含む引数を指定

	lda	#&lt;sumbol		; マクロ展開された内容
</pre>
<h3><a name="PERCENT">%</a></h3>
<p>実引数を評価した値をマクロに渡します。マクロ定義内で次の書式に従って記述してください。

</p><ul>
<li>%&lt;式&gt;<!-- <式> -->
</li></ul>

通常、マクロに与えられた実引数は文字列として扱われて仮引数と置き換えられますが、&lt;式&gt;<!-- <式> -->の直前にパーセント（%）を記述した式をマクロの仮引数に指定した場合、&lt;式&gt;<!-- <式> -->を評価した値を16進数表記に変換した文字列を仮引数に渡します。なお、%に続く&lt;式&gt;<!-- <式> -->は絶対値で評価できる必要があります。

<pre>maxdata	macro	max			; マクロ定義
	db	"Maximum No = %max"
	endm
	:
maxno	equ	1000
	maxdata	maxno			; マクロ呼び出し
</pre>
<p>このようなマクロを呼び出すと、次のように展開されます。</p>
<pre>	db	"Maximum No = $3e8"
</pre>
<h3><a name="BRACKET">&lt;&gt;<!-- <> --></a></h3>
<p>実引数を明示化して一つの実引数として判断します。マクロを呼び出す時に次の書式に従って記述してください。なお、外側の&lt;&gt;<!-- <> -->はマクロ演算子を示します。

</p><ul>
<li>&lt;&lt;文字列&gt;&gt;<!-- <<文字列>> -->
</li></ul>
<p>マクロに与える実引数は、カンマ（,）によって実引数の区切りを判断します。また、スペース（ ）はフィールドの区切りとして判断するため、これらの文字を含む文字列をマクロの実引数として指定することができません。このような時は、文字列を&lt;&gt;<!-- <> -->で括ることにより実引数として指定することができるようになります。なお、&lt;&gt;<!-- <> -->はマクロ展開で実引数が置き換わる時に&lt;&gt;<!-- <> -->が取り去られます。</p>
<p>ここで、次のようにカンマやスペースを含む文字列をマクロの実引数に指定した時の例を見てみましょう。</p>
<pre>setstr	macro	str
	db	"str"
	endm
	:
	setstr	&lt;INTELLIGENT SYSTEMS Co., Ltd.&gt;
	setstr	INTELLIGENT SYSTEMS Co., Ltd.
</pre>
<p>始めのマクロの呼び出しでは、&lt;&gt;<!-- <> -->によって文字列を括っているので正常に展開されています。</p>
<pre>	db	"INTELLIGENT SYSTEMS Co., Ltd."
</pre>
<p>しかし、二番目のマクロの呼び出しでは、文字列を&lt;&gt;<!-- <> -->で括っていなかったのでスペースが削除され、またカンマ以降が展開されていません。</p>
<pre>	db	"INTELLIGENTSYSTEMSCo."
</pre>
<hr/>
</body></html>
<hr id="pseudo.html">
<html><body><h2>疑似命令</h2>
<font size="-1">[ <a href="#macrooperator.html">前ページへ</a> | <a href="#assume65816.html">次ページへ</a> ]</font>
<hr/>
<p>ISASでは、次の疑似命令を使用することができます。なお、以下の疑似命令の他に、ISASには予約語として用意されている疑似命令があります。これは、IS65との互換性を確保するために用意された疑似命令であり、ISASでは無視されます。もちろん悪影響は与えず、デフォルトではウォーニングも出力されません。ただし、ISAS起動時に<a href="#WARNING">-w3オプション</a>を指定すると、"[] Not yet support.（まだ[]はサポートしていません。）"のウォーニングが出力されます。なお、予約語として用意されている疑似命令には、IF1、IF2、KANJI、ERROR、NERROR、ONMEM、OFFMEM、FINAL、ON816、およびOFF816があります。</p>
<h3><a name="ADDRESS">アドレス疑似命令</a></h3>
<p>ロケーションカウンタを操作する疑似命令です。</p>
<table border="1" width="100%">
<tr bgcolor="gray">
<th align="LEFT" nowrap="" valign="TOP" width="150">疑似命令</th>
<th align="LEFT" nowrap="" valign="TOP">説明</th>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><a href="#group.html">GROUP</a></td>
<td>グループを宣言します。</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><a href="#onbankgroup.html">ONBANKGROUP</a></td>
<td><a href="#org.html">ORG疑似命令</a>によるロケーションカウンタを、<a href="#group.html">GROUP疑似命令</a>で指定したバンクグループに属させます。</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><a href="#offbankgroup.html">OFFBANKGROUP</a></td>
<td><a href="#org.html">ORG疑似命令</a>によるロケーションカウンタを現在のバンクグループに属させません。</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><a href="#org.html">ORG</a></td>
<td>絶対アドレスでロケーションカウンタを指定します。</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><a href="#offset.html">OFFSET</a></td>
<td>相対アドレスでロケーションカウンタを指定します。</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><a href="#even.html">EVEN</a></td>
<td>アセンブル時のロケーションを2バイト境界または4バイト境界にアライメントします。</td>
</tr>
</table>
<h3><a name="SYMBOL">シンボル疑似命令</a></h3>
<p>シンボル定義に関する疑似命令です。</p>
<table border="1" width="100%">
<tr bgcolor="gray">
<th align="LEFT" nowrap="" valign="TOP" width="150">疑似命令</th>
<th align="LEFT" nowrap="" valign="TOP">説明</th>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><a href="#equ.html">EQU</a></td>
<td>シンボルに値を定義します。</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><a href="#substitute.html">=</a></td>
<td>再定義可能なシンボルに値を定義します。</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><a href="#capson.html">CAPSON</a></td>
<td>シンボルの英文字を、全て大文字として判断します。（デフォルト）</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><a href="#capsoff.html">CAPSOFF/SMALL</a></td>
<td>シンボルの英文字を、小文字と大文字を別文字として判断します。</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><a href="#lprefix.html">LPREFIX</a></td>
<td>ローカルシンボルを示すプリフィックスを指定します。</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><a href="#def.html">DEF</a></td>
<td>シンボルに文字列を定義します。</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><a href="#public.html">PUBLIC</a></td>
<td>シンボルを外部定義として宣言します。</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><a href="#extern.html">EXTERN</a></td>
<td>シンボルを外部参照として宣言します。</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><a href="#global.html">GLOBAL</a></td>
<td>シンボルを外部定義および外部参照として宣言します。</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><a href="#local.html">LOCAL</a></td>
<td>シンボルを内部定義として宣言します。</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><a href="#puball.html">PUBALL</a></td>
<td>ソースファイル内の全ての定義シンボルを外部定義シンボルとして宣言します。</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><a href="#pubon.html">PUBON</a></td>
<td><a href="#pubon.html">PUBON疑似命令</a>以降に定義されたシンボルを外部定義シンボルとして宣言します。</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><a href="#puboff.html">PUBOFF</a></td>
<td><a href="#pubon.html">PUBON疑似命令</a>によって指定された外部定義シンボルの宣言を解除します。（デフォルト）</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><a href="#undefext.html">UNDEFEXT</a></td>
<td>未定義シンボルを外部参照シンボルとみなします。</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><a href="#undeferr.html">UNDEFERR</a></td>
<td>未定義シンボルを発見した時にエラーを出力します。（デフォルト）</td>
</tr>
</table>
<h3><a name="AREA">領域疑似命令</a></h3>
<p>メモリに特定のデータを配置、または領域を確保するための疑似命令です。</p>
<table border="1" width="100%">
<tr bgcolor="gray">
<th align="LEFT" nowrap="" valign="TOP" width="150">疑似命令</th>
<th align="LEFT" nowrap="" valign="TOP">説明</th>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><a href="#defb.html">DEFB/DB</a></td>
<td>1バイト単位でデータをメモリに配置します。</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><a href="#defh.html">DEFH/DH</a></td>
<td>2バイト単位（下位バイト、上位バイトの順）でデータをメモリに配置します。</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><a href="#defw.html">DEFW/DW</a></td>
<td>2バイト単位（下位バイト、上位バイトの順）、または4バイト単位（V810SF時のみ）でデータをメモリに配置します。</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><a href="#defd.html">DEFD/DD</a></td>
<td>2バイト単位（上位バイト、下位バイトの順）でデータをメモリに配置します。</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><a href="#defl.html">DEFL/DL</a></td>
<td>3バイト単位でデータをメモリに配置します。</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><a href="#defs.html">DEFS/DS</a></td>
<td>指定された大きさの領域をメモリに確保します。</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><a href="#comm.html">COMM</a></td>
<td>共有領域をメモリに確保します。</td>
</tr>
</table>
<h3><a name="CONTROL">制御疑似命令</a></h3>
<p>ISASを制御するための疑似命令です。</p>
<table border="1" width="100%">
<tr bgcolor="gray">
<th align="LEFT" nowrap="" valign="TOP" width="150">疑似命令</th>
<th align="LEFT" nowrap="" valign="TOP">説明</th>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><a href="#end.html">END</a></td>
<td>プログラムの終了を指定します。</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><a href="#onrng.html">ONRNG</a></td>
<td>レンジ情報の出力を許可します。（デフォルト）</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><a href="#offrng.html">OFFRNG</a></td>
<td>レンジ情報の出力を禁止します。</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><a href="#is65.html">IS65</a></td>
<td>命令セットを65816プロセッサ用に切り替えます。（デフォルト）</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><a href="#isdmg.html">ISDMG</a></td>
<td>命令セットをDMGプロセッサ用に切り替えます。</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><a href="#issfx.html">ISSFX</a></td>
<td>命令セットをSuper-FXプロセッサ用に切り替えます。</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><a href="#issnd.html">ISSND</a></td>
<td>命令セットをSPC700プロセッサ用に切り替えます。</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><a href="#isv810.html">ISV810</a></td>
<td>命令セットをV810SFプロセッサ用に切り替えます。</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><a href="#is65bin.html">IS65BIN</a></td>
<td><a href="#binset.html">BINSET疑似命令</a>のパラメータの指定をIS65のBINSET疑似命令と同じ指定方法にします。</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><a href="#isasbin.html">ISASBIN</a></td>
<td><a href="#binset.html">BINSET疑似命令</a>のパラメータの指定をISAS標準の指定方法にします。（デフォルト）</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><a href="#lib.html">LIB/FILE/INCLUDE</a></td>
<td>指定したソースファイルを<a href="#lib.html">LIB/FILE/INCLUDE疑似命令</a>の位置に挿入します。</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><a href="#binset.html">BINSET</a></td>
<td><a href="#libbin.html">LIBBIN疑似命令</a>で読み込むファイルのオフセットとサイズを指定します。</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><a href="#libbin.html">LIBBIN</a></td>
<td>指定したバイナリファイルを<a href="#libbin.html">LIBBIN疑似命令</a>の位置に挿入します。</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><a href="#onpolish.html">ONPOLISH</a></td>
<td>式を演算子の優先順位によって評価します。</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><a href="#offpolish.html">OFFPOLISH</a></td>
<td>式を演算子の優先順位に係わらず左から順に評価します。</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><a href="#radix.html">RADIX</a></td>
<td>定数に基数演算子を省略した時の基数を指定します。</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><a href="#oncnum.html">ONCNUM</a></td>
<td>C言語ライクな定数指定を有効にします。</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><a href="#offcnum.html">OFFCNUM</a></td>
<td>C言語ライクな定数指定を無効にします。（デフォルト）</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><a href="#evalbits.html">EVALBITS</a></td>
<td>定数を評価する時の有効ビット数を指定します。</td>
</tr>
<tr aligh="left" valign="top">
<td nowrap=""><a href="#mradix.html">MRADIX</a></td>
<td>マクロ内の実引数にマクロ演算子<a href="#PERCENT">%</a>を用いて数値を与える時の基数を指定します。</td>
</tr>
</table>
<h3><a name="CONDITION">条件疑似命令</a></h3>
<p>条件疑似命令とは、特定の条件を満たした時にソースファイルをアセンブルするかどうかを指定する疑似命令です。</p>
<p>条件疑似命令を記述する時は、必ずIFで始まる疑似命令と対となるENDIF疑似命令を記述する必要があります。</p>
<pre>	if	flag		; IF疑似命令
	:
	endif			; ENDIF疑似命令を必ず記述する
</pre>
<p>ELSE疑似命令を記述する時は、これらの疑似命令の間に記述します。</p>
<pre>	if	flag		; IF疑似命令
	:
	else			; ELSE疑似命令はIF疑似命令とENDIF疑似命令の間に
	:			; 記述する
	endif			; ENDIF疑似命令
</pre>
<p>また、条件疑似命令をネスティングさせることができます。</p>
<pre>	if	flag1		; IF疑似命令
	if	flag2		; ネスティングされたIF疑似命令
	:
	endif			; 2番目のIF疑似命令と対になる
	endif			; 始めのIF疑似命令と対になる
</pre>
<p>ネスティングは、ISASが使用するスタックの許す限り、つまりアセンブル時にエラーが出力されない限り記述することができます。</p>
<table border="1" width="100%">
<tr bgcolor="gray">
<th align="LEFT" nowrap="" valign="TOP" width="150">疑似命令</th>
<th align="LEFT" nowrap="" valign="TOP">説明</th>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><a href="#if.html">IF/IFN</a></td>
<td>アセンブル条件が真の時評価します。</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><a href="#ife.html">IFE</a></td>
<td>アセンブル条件が偽の時評価します。</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><a href="#ifb.html">IFB</a></td>
<td>アセンブル条件が空白の時評価します。</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><a href="#ifnb.html">IFNB</a></td>
<td>アセンブル条件が空白以外の時評価します。</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><a href="#ifdef.html">IFDEF</a></td>
<td>アセンブル条件が定義されている時評価します。</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><a href="#ifndef.html">IFNDEF</a></td>
<td>アセンブル条件が定義されていない時評価します。</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><a href="#else.html">ELSE</a></td>
<td>IFで始まる疑似命令のアセンブル条件が評価されない時評価します。</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><a href="#endif.html">ENDIF</a></td>
<td>IFで始まる疑似命令で指定した条件範囲を終了します。</td>
</tr>
</table>
<h3><a name="MACRO">マクロ疑似命令</a></h3>
<p>一連の命令を一つにまとめたものをマクロといいます。また、マクロに一連の命令を登録することをマクロ定義といい、定義したマクロには必ずマクロ名と呼ばれる名前が付きます。このマクロ名を必要な場所に記述するだけで、定義したマクロを簡単に展開することができるので、視認性の高いプログラムを記述することができます。</p>
<table border="1" width="100%">
<tr bgcolor="gray">
<th align="LEFT" nowrap="" valign="TOP" width="150">疑似命令</th>
<th align="LEFT" nowrap="" valign="TOP">説明</th>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><a href="#macro.html">MACRO</a></td>
<td>マクロに一連の命令を定義します。</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><a href="#macroname.html">&lt;マクロ名&gt;<!-- <マクロ名> --></a></td>
<td>マクロ定義されたマクロを展開します。</td>
</tr>
</table>
<h3><a name="LIST">リスティング疑似命令</a></h3>
<p>リスティングファイルの出力に関する疑似命令です。なお、アセンブル時にエラーが発生した時はリスティングファイルは出力されないので注意してください。</p>
<table border="1" width="100%">
<tr bgcolor="gray">
<th align="LEFT" nowrap="" valign="TOP" width="150">疑似命令</th>
<th align="LEFT" nowrap="" valign="TOP">説明</th>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><a href="#page.html">PAGE</a></td>
<td>リスティングファイルの1ページの行数、および改ページを指定します。</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><a href="#title.html">TITLE</a></td>
<td>リスティングファイルの各ページのヘッダを指定します。</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><a href="#list.html">LIST</a></td>
<td>リスティングファイルへの出力を指定します。（デフォルト）</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><a href="#nlist.html">NLIST</a></td>
<td>リスティングファイルへの出力を抑制します。</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><a href="#dspif.html">DSPIF</a></td>
<td>条件疑似命令の全てのブロックをリスティングファイルに出力します。（デフォルト）</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><a href="#ndspif.html">NDSPIF</a></td>
<td>条件疑似命令の条件が真のブロックのみリスティングファイルに出力します。</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><a href="#dspm.html">DSPM</a></td>
<td>マクロの展開内容をリスティングファイルに出力します。（デフォルト）</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><a href="#ndspm.html">NDSPM</a></td>
<td>マクロの展開内容をリスティングファイルに出力しません。</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><a href="#errtag.html">ERRTAG</a></td>
<td>エラータグファイルを出力します。</td>
</tr>
</table>
<h3><a name="FOR65816">65816用疑似命令</a></h3>
<p>ISASを65816プロセッサ用アセンブラとして使用する時に有効な疑似命令です。</p>
<table border="1" width="100%">
<tr bgcolor="gray">
<th align="LEFT" nowrap="" valign="TOP" width="150">疑似命令</th>
<th align="LEFT" nowrap="" valign="TOP">説明</th>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><a href="#assume65816.html">ASSUME</a></td>
<td>現在のDBR（データバンクレジスタ）およびDR（ダイレクトページレジスタ）の値をアセンブラに通知します。</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><a href="#isprefix.html">ISPREFIX</a></td>
<td>INTELLIGENT SYSTEMS社用のプリフィックスを使用します。（デフォルト）</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><a href="#wdprefix.html">WDPREFIX</a></td>
<td>Western Design Center社用のプリフィックスを使用します。</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><a href="#on16a.html">ON16A</a></td>
<td>アキュームレータの操作を16ビットで処理します。</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><a href="#off16a.html">OFF16A</a></td>
<td>アキュームレータの操作を8ビットで処理します。（デフォルト）</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><a href="#on16i.html">ON16I</a></td>
<td>インデックスレジスタの操作を16ビットで処理します。</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><a href="#off16i.html">OFF16I</a></td>
<td>インデックスレジスタを8ビットで処理します。（デフォルト）</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><a href="#if16a.html">IF16A</a></td>
<td>アキュームレータの操作が16ビットモードの時評価します。</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><a href="#ifn16a.html">IFN16A</a></td>
<td>アキュームレータの操作が8ビットモードの時評価します。</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><a href="#if16i.html">IF16I</a></td>
<td>インデックスレジスタの操作が16ビットモードの時評価します。</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><a href="#ifn16i.html">IFN16I</a></td>
<td>インデックスレジスタの操作が8ビットモードの時評価します。</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><a href="#opti.html">OPTI</a></td>
<td>1パス目アセンブル時に未解決シンボルのオペランド長を指定します。</td>
</tr>
</table>
<h3><a name="FORSPC700">SPC700用疑似命令</a></h3>
<p>ISASをSPC700プロセッサ用アセンブラとして使用する時に有効な疑似命令です。なお、SPC700用疑似命令を使用する時は、<a href="#issnd.html">ISSND疑似命令</a>を指定した後に記述してください。</p>
<table border="1" width="100%">
<tr bgcolor="gray">
<th align="LEFT" nowrap="" valign="TOP" width="150">疑似命令</th>
<th align="LEFT" nowrap="" valign="TOP">説明</th>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><a href="#assumespc700.html">ASSUME</a></td>
<td>ダイレクトページフラグを制御します。</td>
</tr>
</table>
<h3><a name="FORV810SF">V810SF用疑似命令</a></h3>
<p>ISASをV810SFプロセッサ用アセンブラとして使用する時に有効な疑似命令です。なお、V810SF用疑似命令を使用する時は、<a href="#isv810.html">ISV810疑似命令</a>を指定した後に記述してください。</p>
<table border="1" width="100%">
<tr bgcolor="gray">
<th align="LEFT" nowrap="" valign="TOP" width="150">疑似命令</th>
<th align="LEFT" nowrap="" valign="TOP">説明</th>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><a href="#assumev810sf.html">ASSUME</a></td>
<td>メモリ参照命令のディスプレースメントにオフセット算出することをアセンブラに通知します。</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><a href="#rsvreg.html">RSVREG</a></td>
<td>V810SF命令展開の有無の指定、および命令展開時にアセンブラが使用する汎用レジスタを指定します。</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><a href="#decon.html">DECON</a></td>
<td>条件分岐命令でロングブランチするように命令展開することをアセンブラに通知します。</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><a href="#decoff.html">DECOFF</a></td>
<td><a href="#decon.html">DECON疑似命令</a>の指定を解除します。（デフォルト）</td>
</tr>
</table>
<hr/>
</body></html>
<hr id="assume65816.html">
<html><body><h2>ASSUME（65816用）</h2>
<font size="-1">[ <a href="#pseudo.html">前ページへ</a> | <a href="#assumespc700.html">次ページへ</a> ]</font>
<hr/>
<table border="0">
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>機能</b></td>
<td><br/></td>
<td>現在のDBR（データバンクレジスタ）およびDR（ダイレクトページレジスタ）の値をアセンブラに通知します。</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>書式</b></td>
<td><br/></td>
<td>
<pre>	ASSUME	&lt;DBR&gt;[,DR]<!-- <DBR>[,DR] -->
</pre>
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>説明</b></td>
<td><br/></td>
<td><p>ASSUME疑似命令により、アセンブラはデータ転送命令等のニーモニックをマシン語に翻訳する際に必要最小限のアドレッシングデータを生成することができます。例えば、LDA命令をマシン語に翻訳する時、DBRおよびDRの値によって2バイト、3バイトまたは4バイト長の命令になりますが、この疑似命令により必要最小限の長さにすることができます。</p>
<p>&lt;DBR&gt;<!-- <DBR> -->と[DR]には、それぞれデータバンクレジスタとダイレクトページレジスタの値を指定します。なお、[DR]は省略することができ、この時DRの値は変更されません。</p></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>参照</b></td>
<td><br/></td>
<td><a href="#is65.html">IS65</a></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>入力例</b></td>
<td><br/></td>
<td>
<pre>	is65
	assume	$40,$0000	; DBRに$40、DRに$0000を指定する
</pre>
</td>
</tr>
</table>
<hr/>
</body></html>
<hr id="assumespc700.html">
<html><body><h2>ASSUME（SPC700用）</h2>
<font size="-1">[ <a href="#assume65816.html">前ページへ</a> | <a href="#assumev810sf.html">次ページへ</a> ]</font>
<hr/>
<table border="0">
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>機能</b></td>
<td><br/></td>
<td>ダイレクトページフラグを制御します。
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>書式</b></td>
<td><br/></td>
<td>
<pre>	ASSUME	&lt;Pフラグ&gt;<!-- <Pフラグ> -->
</pre>
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>説明</b></td>
<td><br/></td>
<td>プログラムステータスワード内のダイレクトページフラグの値を指定します。&lt;Pフラグ&gt;<!-- <Pフラグ> -->には、0または1の値を指定することができます。</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>参照</b></td>
<td><br/></td>
<td><a href="#issnd.html">ISSND</a></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>入力例</b></td>
<td><br/></td>
<td>
<pre>	issnd
	assume	0		; ダイレクトページフラグに0を指定
	assume	1		; ダイレクトページフラグに1を指定
</pre>
</td>
</tr>
</table>
<hr/>
</body></html>
<hr id="assumev810sf.html">
<html><body><h2>ASSUME（V810SF用）</h2>
<font size="-1">[ <a href="#assumespc700.html">前ページへ</a> | <a href="#binset.html">次ページへ</a> ]</font>
<hr/>
<table border="0">
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>機能</b></td>
<td><br/></td>
<td>メモリ参照命令のディスプレースメントにオフセット算出することをアセンブラに通知します。
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>書式</b></td>
<td><br/></td>
<td>
<pre>	ASSUME	&lt;レジスタ&gt;[,式]<!-- <レジスタ>[,式] -->
</pre>
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>説明</b></td>
<td><br/></td>
<td><p>V810SFプロセッサのメモリ参照命令は、16ビット値のディスプレースメントを与えなければなりません。このため、ISASではASSUME疑似命令を用いて自動的にオフセット値を算出することができます。</p>
<p>メモリ参照命令（ld、st、in、out）のディスプレースメントに絶対アドレス値を持つシンボルを与え、ASSUME疑似命令で指定されたレジスタで修飾する時、そのシンボル値からASSUME疑似命令で定義された式を引き、オフセットアドレスを算出します。</p>
<p>&lt;レジスタ&gt;<!-- <レジスタ> -->には、レジスタとして予約されている文字列、またはレジスタ番号を指定します。また[式]には、修飾する&lt;レジスタ&gt;<!-- <レジスタ> -->の実行時の値を指定します。なお、この[式]で指定する値は1パスのアセンブル時に解決できる値を指定してください。アセンブル時に解決できない時はリンク時に解決することができますが、この時に生成される命令展開が冗長的になるので注意してください。</p>
<p>例えば、次のように記述した時はASSUME疑似命令指定時に式の値が解決されていないため、ld.w命令は冗長な命令展開をしてしまいます。</p>
<pre>	assume	r4,abc		; ASSUME疑似命令指定時にabcの値が未解決
abc	equ	123		; abcを定義
def	equ	124
	mov	#abc,r4
	ld.w	def[r4],r2
</pre>
<p>このような問題を避けるために、次のようにASSUME疑似命令指定時には解決された式を記述してください。</p>
<pre>abc	equ	123		; abcを定義
def	equ	124
	assume	r4,abc		; ASSUME疑似命令指定時にabcの値が解決済
	mov	#abc,r4		; み
	ld.w	def[r4],r2
</pre>
<p>なお、ASSUME疑似命令の指定を解除したい時は、[式]を指定せずにASSUME疑似命令を記述してください。</p>
<pre>	assume	r4		; r4レジスタのASSUME疑似命令指定を解除
</pre>
</td></tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>参照</b></td>
<td><br/></td>
<td><a href="#isv810.html">ISV810</a></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>入力例</b></td>
<td><br/></td>
<td>
<pre>	isv810
	pubon

DATA	group
	org	$05000000
base:
symbol0:ds	4
symbol1:ds	4

TEXT	group
	assume	gp,base		; ASSUME疑似命令の指定
	mov	#base,gp	; GPレジスタにbaseのアドレスを代入
	ld.w	symbol1[gp],r6	; GPで修飾

	end
</pre>
<p>ASSUME疑似命令を使用しない時、ld.w命令部分は次のように記述しなければならず、記述が繁雑になってしまいます。</p>
<pre>	ld.w	#symbol1-base[zero],r6
</pre>
<p>なお、シンボルの前にシャープ記号（#）を付加した時は、シンボル値を定数と見なし、ASSUME疑似命令の影響は受けません。</p>
<pre>	ld.w	#symbol1[zero],r6
</pre>
</td>
</tr>
</table>
<hr/>
</body></html>
<hr id="binset.html">
<html><body><h2>BINSET</h2>
<font size="-1">[ <a href="#assumev810sf.html">前ページへ</a> | <a href="#capsoff.html">次ページへ</a> ]</font>
<hr/>
<table border="0">
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>機能</b></td>
<td><br/></td>
<td><a href="#libbin.html">LIBBIN疑似命令</a>で読み込むファイルのオフセットとサイズを指定します。
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>書式</b></td>
<td><br/></td>
<td>
<pre>	BINSET	&lt;オフセット&gt;[,サイズ]<!-- <オフセット>[,サイズ] -->
</pre>
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>説明</b></td>
<td><br/></td>
<td><p><a href="#libbin.html">LIBBIN疑似命令</a>により読み込まれるバイナリファイルのオフセットとサイズを指定します。</p>
<p>&lt;オフセット&gt;<!-- <オフセット> -->には、<a href="#libbin.html">LIBBIN疑似命令</a>によって読み込まれるバイナリファイルの先頭からのオフセットを指定します。ファイルサイズ以上の値を&lt;オフセット&gt;<!-- <オフセット> -->に指定した場合は、&lt;オフセット&gt;<!-- <オフセット> -->に0が指定されたと見なされます。</p>
<p>[サイズ]には、<a href="#libbin.html">LIBBIN疑似命令</a>によって指定されるバイナリファイルの読み込みサイズを指定します。[サイズ]に0を指定、または[サイズ]を省略した時は、ファイルの最後までを読み込みます。ただし、<a href="#is65bin.html">IS65BIN疑似命令</a>を指定、またはISAS起動時に<a href="#IS65">-is65オプション</a>を指定した時には、&lt;オフセット&gt;<!-- <オフセット> -->から8000Hバイト分、またはバイナリファイルの&lt;オフセット&gt;<!-- <オフセット> -->からのサイズが8000Hバイトに満たない時は、&lt;オフセット&gt;<!-- <オフセット> -->からファイルの最後までを読み込みます。</p>
<p>なお、<a href="#libbin.html">LIBBIN疑似命令</a>の詳細については、"<a href="#pseudo.html">第５章　疑似命令</a>"の"<a href="#libbin.html">LIBBIN</a>"の項目を参照してください。</p></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>参照</b></td>
<td><br/></td>
<td><a href="#is65bin.html">IS65BIN</a>、<a href="#isasbin.html">ISASBIN</a>、<a href="#libbin.html">LIBBIN</a></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>入力例</b></td>
<td><br/></td>
<td>
<pre>	binset	$0,$100		; バイナリファイルの先頭から100Hバイト
				; 分を読み込む指定
	libbin	char.bin	; 読み込むバイナリファイル
</pre>
</td>
</tr>
</table>
<hr/>
</body></html>
<hr id="capsoff.html">
<html><body><h2>CAPSOFF/SMALL</h2>
<font size="-1">[ <a href="#binset.html">前ページへ</a> | <a href="#capson.html">次ページへ</a> ]</font>
<hr/>
<table border="0">
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>機能</b></td>
<td><br/></td>
<td>シンボルの英文字を、小文字と大文字を別文字として判断します。
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>書式</b></td>
<td><br/></td>
<td>
<pre>	CAPSOFF
</pre>
<p>または</p>
<pre>	SMALL
</pre>
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>説明</b></td>
<td><br/></td>
<td><p>CAPSOFF疑似命令、またはSMALL疑似命令を指定すると、シンボルの英文字部分の大文字と小文字を異なる文字として判断します。例えば、シンボル名"ABC"とシンボル名"abc"は異なるシンボルとして判断します。</p>
<p>なお、CAPSOFF疑似命令とSMALL疑似命令はスペルのみ異なり、動作は同じです。</p></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>参照</b></td>
<td><br/></td>
<td><a href="#capson.html">CAPSON</a></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>入力例</b></td>
<td><br/></td>
<td>
<pre>	capsoff
ABC				; シンボル名"ABC"を定義する
	:
abc				; シンボル名"abc"はシンボル名"ABC"とは
	:			; 異なるシンボルとしてして判断するので
	:			; エラーは発生しない
</pre>
</td>
</tr>
</table>
<hr/>
</body></html>
<hr id="capson.html">
<html><body><h2>CAPSON</h2>
<font size="-1">[ <a href="#capsoff.html">前ページへ</a> | <a href="#comm.html">次ページへ</a> ]</font>
<hr/>
<table border="0">
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>機能</b></td>
<td><br/></td>
<td>シンボルの英文字を、全て大文字として判断します。（デフォルト）
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>書式</b></td>
<td><br/></td>
<td>
<pre>	CAPSON
</pre>
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>説明</b></td>
<td><br/></td>
<td><p>CAPSON疑似命令を指定すると、シンボルの英文字部分は大文字と小文字の何れで記述していても、全て大文字として判断します。例えば、シンボル名"ABC"とシンボル名"abc"は同じシンボルであると判断します。</p>
<p>なお、CAPSON疑似命令、および<a href="#capsoff.html">CAPSOFF/SMALL疑似命令</a>が指定されていない時は、CAPSON疑似命令が指定された時と同じように、シンボルの英文字を全て大文字として判断します。</p></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>参照</b></td>
<td><br/></td>
<td><a href="#capsoff.html">CAPSOFF/SMALL</a></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>入力例</b></td>
<td><br/></td>
<td>
<pre>	capson
ABC				; シンボル名"ABC"を定義する
	:
abc				; シンボル名"abc"を"ABC"として判断する
	:			; のでエラーが発生する
</pre>
</td>
</tr>
</table>
<hr/>
</body></html>
<hr id="comm.html">
<html><body><h2>COMM</h2>
<font size="-1">[ <a href="#capson.html">前ページへ</a> | <a href="#decoff.html">次ページへ</a> ]</font>
<hr/>
<table border="0">
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>機能</b></td>
<td><br/></td>
<td>共有領域をメモリに確保します。
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>書式</b></td>
<td><br/></td>
<td>
<pre>&lt;名前&gt;	COMM	&lt;サイズ&gt;[,アライメント]<!-- <名前>	COMM	<サイズ>[,アライメント] -->
</pre>
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>説明</b></td>
<td><br/></td>
<td><p>COMM疑似命令によって指定された領域は、リンク時にグループの最後にまとめて領域を確保します。この時、同一グループ内で同じ&lt;名前&gt;<!-- <名前> -->をCOMM疑似命令によって指定した領域は、同じものと判断し共有の領域を確保します。また、<a href="#defs.html">DEFS/DS疑似命令</a>によって確保される領域を示すシンボルが&lt;名前&gt;<!-- <名前> -->と同じ時にはこの領域を使用し、COMM疑似命令によって新たに領域を確保されることはありません。このように、COMM疑似命令を使用することにより効率良くメモリを使用することができます。</p>
<p>&lt;名前&gt;<!-- <名前> -->には確保する領域を示すシンボルを、&lt;サイズ&gt;<!-- <サイズ> -->には確保する領域のサイズをバイト単位で指定します。また、[アライメント]には確保する領域を再配置するためのアライメント値を記述します。再配置とは、指定の領域を偶数アドレス、または4の倍数アドレスから配置するように調整することをいい、COMM疑似命令はリンク時に<a href="#group.html">GROUP疑似命令</a>で指定されたグループの先頭からの絶対的なロケーションに対して再配置を行ないます。[アライメント]に2を指定すると偶数アドレスから、4を指定すると4の倍数アドレスから再配置されます。なお、[アライメント]を省略した時は再配置は行われません。</p>
<p>ISASとISLKでは、COMM疑似命令によって共有する領域のサイズをチェックしていません。このため、COMM疑似命令で同一の&lt;名前&gt;<!-- <名前> -->を指定、または<a href="#defs.html">DEFS/DS疑似命令</a>によって確保される領域を示すシンボルと同じ&lt;名前&gt;<!-- <名前> -->をCOMM疑似命令で指定する時は、それぞれ確保する領域のサイズに同じ値を指定するように注意してください。</p></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>参照</b></td>
<td><br/></td>
<td><a href="#defs.html">DEFS/DS</a></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>入力例</b></td>
<td><br/></td>
<td>
<pre>ソースファイル1
work	group
temp	comm	10,2		; 共有領域の確保
	:

ソースファイル2
work	group
temp	comm	10,2		; 共有領域の確保
	:
</pre>
<p>この例では、それぞれのファイルで指定されたtempの領域は同一の領域として判断され、workグループの最後に偶数アドレスから10バイトのみ確保されます。</p>
</td>
</tr>
</table>
<hr/>
</body></html>
<hr id="decoff.html">
<html><body><h2>DECOFF（V810SF用）</h2>
<font size="-1">[ <a href="#comm.html">前ページへ</a> | <a href="#decon.html">次ページへ</a> ]</font>
<hr/>
<table border="0">
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>機能</b></td>
<td><br/></td>
<td><a href="#decon.html">DECON疑似命令</a>の指定を解除します。（デフォルト）
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>書式</b></td>
<td><br/></td>
<td>
<pre>	DECOFF
</pre>
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>説明</b></td>
<td><br/></td>
<td><p><a href="#decon.html">DECON疑似命令</a>の指定を解除し、条件分岐命令でロングブランチするように命令展開しないことをアセンブラに通知します。</p>
<p>この疑似命令を記述した後の条件分岐命令で、-256から255を越える相対アドレスに分岐する時、または1パス目で分岐先アドレスが不明な時は、命令展開が行われないために"Out of range.[]（レンジオーバーです。目的のアドレスに届きません。[]）"のエラーが出力されます。</p>
<p>なお、<a href="#decon.html">DECON疑似命令</a>やDECOFF疑似命令が指定されていない時は、デフォルトでは命令展開されない指定になっています。</p></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>参照</b></td>
<td><br/></td>
<td><a href="#isv810.html">ISV810</a>、<a href="#decon.html">DECON</a></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>入力例</b></td>
<td><br/></td>
<td>
<pre>	isv810
	decon	branch
	:
	decoff			; DECON疑似命令の指定を解除
</pre>
</td>
</tr>
</table>
<hr/>
</body></html>
<hr id="decon.html">
<html><body><h2>DECON（V810SF用）</h2>
<font size="-1">[ <a href="#decoff.html">前ページへ</a> | <a href="#def.html">次ページへ</a> ]</font>
<hr/>
<table border="0">
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>機能</b></td>
<td><br/></td>
<td>条件分岐命令でロングブランチするように命令展開することをアセンブラに通知します。
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>書式</b></td>
<td><br/></td>
<td>
<pre>	DECON	BRANCH
</pre>
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>説明</b></td>
<td><br/></td>
<td><p>V810SFの条件分岐命令では、オペランドには9ビットのディスプレースメントしか指定することができません。DECON疑似命令を指定することにより、-256から255を越える相対アドレスに分岐する時、または1パス目で分岐先アドレスが不明な時に命令展開されます。例えば、BGT命令は次のように命令展開されます。</p>
<pre>	bgt     abc
	↓
	ble	_skip
	jr	abc
_skip:
</pre>
<p>なお、シンボルの前にピリオド（.）のプリフィックスを付加すると命令展開は行われません。</p></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>参照</b></td>
<td><br/></td>
<td><a href="#isv810.html">ISV810</a>、<a href="#decoff.html">DECOFF</a></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>入力例</b></td>
<td><br/></td>
<td>
<pre>	isv810
	decon	branch		; 条件分岐命令での命令展開を指定
</pre>
</td>
</tr>
</table>
<hr/>
</body></html>
<hr id="def.html">
<html><body><h2>DEF</h2>
<font size="-1">[ <a href="#decon.html">前ページへ</a> | <a href="#defb.html">次ページへ</a> ]</font>
<hr/>
<table border="0">
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>機能</b></td>
<td><br/></td>
<td>シンボルに文字列を定義します。
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>書式</b></td>
<td><br/></td>
<td>
<pre>&lt;名前&gt;	DEF	&lt;文字列&gt;<!-- <名前>	DEF	<文字列> -->
</pre>
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>説明</b></td>
<td><br/></td>
<td><p>&lt;名前&gt;<!-- <名前> -->に指定したシンボルに、&lt;文字列&gt;<!-- <文字列> -->に指定された文字列を定義します。&lt;文字列&gt;<!-- <文字列> -->は、行の最後またはコメントフィールドまでを文字列として判断するため、文字列の途中にスペースやタブを挿入してもかまいません。</p>
<p>DEF疑似命令は、定義された&lt;名前&gt;<!-- <名前> -->が参照される時に&lt;文字列&gt;<!-- <文字列> -->を展開します。<a href="#equ.html">EQU疑似命令</a>や<a href="#substitute.html">=疑似命令</a>ではシンボルに既知の値を定義する必要がありますが、DEF疑似命令では展開時に&lt;文字列&gt;<!-- <文字列> -->内のシンボルが既知であれば良く、定義時に未定義のシンボルを&lt;文字列&gt;<!-- <文字列> -->に使用することができます。また、&lt;名前&gt;<!-- <名前> -->は再定義することができます。</p>
<p>例えば、次の入力例のようにV810SFのレジスタ名をDEF疑似命令を用いてシンボルに定義すると、プログラムの可読性が高くなり、また、修正も容易になります。</p>
<p>なお、DEF疑似命令で定義されたシンボルは、オペコードフィールドとオペランドフィールドでのみ使用することができます。</p></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>入力例</b></td>
<td><br/></td>
<td>
<pre>_ram	def	r10		; シンボル_ramに文字列r10を定義する
	push	_ram		; アセンブル時に"push r10"に展開される
	:
_ram	def	r11		; シンボル_ramに文字列r11を再定義する
	push	_ram		; アセンブル時に"push r11"に展開される
</pre>
</td>
</tr>
</table>
<hr/>
</body></html>
<hr id="defb.html">
<html><body><h2>DEFB/DB</h2>
<font size="-1">[ <a href="#def.html">前ページへ</a> | <a href="#defd.html">次ページへ</a> ]</font>
<hr/>
<table border="0">
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>機能</b></td>
<td><br/></td>
<td>1バイト単位でデータをメモリに配置します。
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>書式</b></td>
<td><br/></td>
<td>
<pre>	DEFB	&lt;式&gt;[,式] ... [,式]<!-- <式>[,式] ... [,式] -->
</pre>
<p>または</p>
<pre>	DB	&lt;式&gt;[,式] ... [,式]<!-- <式>[,式] ... [,式] -->
</pre>
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>説明</b></td>
<td><br/></td>
<td><p>&lt;式&gt;<!-- <式> -->には、任意の定数、文字、または文字列を与えることができます。&lt;式&gt;<!-- <式> -->の内容は、先頭のデータから順にメモリに配置されます。複数の&lt;式&gt;<!-- <式> -->を与える時は、それぞれの&lt;式&gt;<!-- <式> -->をカンマ（,）で区切ってください。</p>
<p>なお、DEFB疑似命令とDB疑似命令はスペルのみ異なり、動作は同じです。</p></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>参照</b></td>
<td><br/></td>
<td><a href="#defh.html">DEFH/DH</a>、<a href="#defw.html">DEFW/DW</a>、<a href="#defd.html">DEFD/DD</a>、<a href="#defl.html">DEFL/DL</a></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>入力例</b></td>
<td><br/></td>
<td>
<pre>	defb	$10		; 定数
	defb	'a'		; 文字
	defb	"TEST"		; 文字列
</pre>
</td>
</tr>
</table>
<hr/>
</body></html>
<hr id="defd.html">
<html><body><h2>DEFD/DD</h2>
<font size="-1">[ <a href="#defb.html">前ページへ</a> | <a href="#defh.html">次ページへ</a> ]</font>
<hr/>
<table border="0">
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>機能</b></td>
<td><br/></td>
<td>2バイト単位（上位バイト、下位バイトの順）でデータをメモリに配置します。
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>書式</b></td>
<td><br/></td>
<td>
<pre>	DEFD	&lt;式&gt;[,式] ... [,式]<!-- <式>[,式] ... [,式] -->
</pre>
<p>または</p>
<pre>	DD	&lt;式&gt;[,式] ... [,式]<!-- <式>[,式] ... [,式] -->
</pre>
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>説明</b></td>
<td><br/></td>
<td><p>&lt;式&gt;<!-- <式> -->には、2バイトのデータを与えることができ、上位バイト、下位バイトの順にメモリに配置されます。先に説明したDEFW/DW疑似命令とはメモリに配置するデータの順番が異なります。複数の&lt;式&gt;<!-- <式> -->を与える時は、それぞれの&lt;式&gt;<!-- <式> -->をカンマ（,）で区切ってください。</p>
<p>なお、DEFD疑似命令とDD疑似命令はスペルのみ異なり、動作は同じです。</p></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>参照</b></td>
<td><br/></td>
<td><a href="#defb.html">DEFB/DB</a>、<a href="#defh.html">DEFH/DH</a>、<a href="#defw.html">DEFW/DW</a>、<a href="#defl.html">DEFL/DL</a></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>入力例</b></td>
<td><br/></td>
<td>
<pre>	defd	$1234		; メモリ上に12H、34Hの順に配置
</pre>
</td>
</tr>
</table>
<hr/>
</body></html>
<hr id="defh.html">
<html><body><h2>DEFH/DH</h2>
<font size="-1">[ <a href="#defd.html">前ページへ</a> | <a href="#defl.html">次ページへ</a> ]</font>
<hr/>
<table border="0">
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>機能</b></td>
<td><br/></td>
<td>2バイト単位（下位バイト、上位バイトの順）でデータをメモリに配置します。
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>書式</b></td>
<td><br/></td>
<td>
<pre>	DEFH	&lt;式&gt;[,式] ... [,式]<!-- <式>[,式] ... [,式] -->
</pre>
<p>または</p>
<pre>	DH	&lt;式&gt;[,式] ... [,式]<!-- <式>[,式] ... [,式] -->
</pre>
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>説明</b></td>
<td><br/></td>
<td><p>&lt;式&gt;<!-- <式> -->には、2バイトのデータを与えることができ、下位バイト、上位バイトの順にメモリに配置されます。複数の&lt;式&gt;<!-- <式> -->を与える時は、それぞれの&lt;式&gt;<!-- <式> -->をカンマ（,）で区切ってください。V810SFプロセッサ用としてアセンブルする時、DEFW/DW疑似命令は4バイト単位でデータをメモリに配置するので、2バイト単位でデータを配置したい時に、このDEFH/DH疑似命令を使用します。</p>
<p>なお、DEFH疑似命令とDH疑似命令はスペルのみ異なり、動作は同じです。</p></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>参照</b></td>
<td><br/></td>
<td><a href="#defb.html">DEFB/DB</a>、<a href="#defw.html">DEFW/DW</a>、<a href="#defd.html">DEFD/DD</a>、<a href="#defl.html">DEFL/DL</a></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>入力例</b></td>
<td><br/></td>
<td>
<pre>	defh	$1234		; メモリ上に34H、12Hの順に配置
</pre>
</td>
</tr>
</table>
<hr/>
</body></html>
<hr id="defl.html">
<html><body><h2>DEFL/DL</h2>
<font size="-1">[ <a href="#defh.html">前ページへ</a> | <a href="#defs.html">次ページへ</a> ]</font>
<hr/>
<table border="0">
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>機能</b></td>
<td><br/></td>
<td>3バイト単位でデータをメモリに配置します。
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>書式</b></td>
<td><br/></td>
<td>
<pre>	DEFL	&lt;式&gt;[,式] ... [,式]<!-- <式>[,式] ... [,式] -->
</pre>
<p>または</p>
<pre>	DL	&lt;式&gt;[,式] ... [,式]<!-- <式>[,式] ... [,式] -->
</pre>
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>説明</b></td>
<td><br/></td>
<td><p>&lt;式&gt;<!-- <式> -->には、3バイトのデータを与えることができ、下位バイトから上位バイトの順にメモリに配置されます。複数の&lt;式&gt;<!-- <式> -->を与える時は、それぞれの&lt;式&gt;<!-- <式> -->をカンマ（,）で区切ってください。</p>
<p>なお、DEFL疑似命令とDL疑似命令はスペルのみ異なり、動作は同じです。</p></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>参照</b></td>
<td><br/></td>
<td><a href="#defb.html">DEFB/DB</a>、<a href="#defh.html">DEFH/DH</a>、<a href="#defw.html">DEFW/DW</a>、<a href="#defd.html">DEFD/DD</a></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>入力例</b></td>
<td><br/></td>
<td>
<pre>	defl	$123456		; メモリ上に56H、34H、12Hの順に配置
</pre>
</td>
</tr>
</table>
<hr/>
</body></html>
<hr id="defs.html">
<html><body><h2>DEFS/DS</h2>
<font size="-1">[ <a href="#defl.html">前ページへ</a> | <a href="#defw.html">次ページへ</a> ]</font>
<hr/>
<table border="0">
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>機能</b></td>
<td><br/></td>
<td>指定された大きさの領域をメモリに確保します。
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>書式</b></td>
<td><br/></td>
<td>
<pre>	DEFS	&lt;サイズ&gt;[,式]<!-- <サイズ>[,式] -->
</pre>
<p>または</p>
<pre>	DS	&lt;サイズ&gt;[,式]<!-- <サイズ>[,式] -->
</pre>
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>説明</b></td>
<td><br/></td>
<td><p>&lt;サイズ&gt;<!-- <サイズ> -->で指定された大きさの領域をDEFS/DS疑似命令を記述した部分に確保します。&lt;サイズ&gt;<!-- <サイズ> -->には、確保する領域のサイズをバイト単位で指定します。また、[式]には、確保する領域にセットする1バイトのデータを指定します。[式]が省略された時は、ロケーションカウンタのみを進めます。</p>
<p>なお、DEFS疑似命令とDS疑似命令はスペルのみ異なり、動作は同じです。</p></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>参照</b></td>
<td><br/></td>
<td><a href="#comm.html">COMM</a></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>入力例</b></td>
<td><br/></td>
<td>
<pre>	defs	$10		; 10Hバイト分の領域を確保する
	defs	$20,$ff		; 20Hバイト分の領域を確保し、FFHのデー
	:			; タをセットする
</pre>
</td>
</tr>
</table>
<hr/>
</body></html>
<hr id="defw.html">
<html><body><h2>DEFW/DW</h2>
<font size="-1">[ <a href="#defs.html">前ページへ</a> | <a href="#dspif.html">次ページへ</a> ]</font>
<hr/>
<table border="0">
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>機能</b></td>
<td><br/></td>
<td>2バイト単位（下位バイト、上位バイトの順）、または4バイト単位（V810SF時のみ）でデータをメモリに配置します。
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>書式</b></td>
<td><br/></td>
<td>
<pre>	DEFW	&lt;式&gt;[,式] ... [,式]<!-- <式>[,式] ... [,式] -->
</pre>
<p>または</p>
<pre>	DW	&lt;式&gt;[,式] ... [,式]<!-- <式>[,式] ... [,式] -->
</pre>
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>説明</b></td>
<td><br/></td>
<td><p>V810SF以外のプロセッサ用としてアセンブルする時には、&lt;式&gt;<!-- <式> -->には2バイトのデータを与えることができ、下位バイト、上位バイトの順にメモリに配置されます。次に説明するDEFD/DD疑似命令とはメモリに配置するデータの順番が異なります。</p>
<p>また、V810SFプロセッサ用としてアセンブルする時には、4バイトのデータ与えることができ、下位バイトから順にメモリに配置されます。複数の&lt;式&gt;<!-- <式> -->を与える時は、それぞれの&lt;式&gt;<!-- <式> -->をカンマ（,）で区切ってください。</p>
<p>なお、DEFW疑似命令とDW疑似命令はスペルのみ異なり、動作は同じです。</p></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>参照</b></td>
<td><br/></td>
<td><a href="#defb.html">DEFB/DB</a>、<a href="#defh.html">DEFH/DH</a>、<a href="#defd.html">DEFD/DD</a>、<a href="#defl.html">DEFL/DL</a></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>入力例</b></td>
<td><br/></td>
<td>
<pre>	defw	$1234		; メモリ上に34H、12Hの順に配置
	isv810
	defw	$12345678	; メモリ上に78H、56H、34H、12Hの順に配
	:			; 置（V810SF時）
</pre>
</td>
</tr>
</table>
<hr/>
</body></html>
<hr id="dspif.html">
<html><body><h2>DSPIF</h2>
<font size="-1">[ <a href="#defw.html">前ページへ</a> | <a href="#dspm.html">次ページへ</a> ]</font>
<hr/>
<table border="0">
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>機能</b></td>
<td><br/></td>
<td>条件疑似命令の全てのブロックをリスティングファイルに出力します。（デフォルト）
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>書式</b></td>
<td><br/></td>
<td>
<pre>	DSPIF
</pre>
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>説明</b></td>
<td><br/></td>
<td><p>条件疑似命令内に記述している全てのブロックの内容をリスティングファイルに出力します。この疑似命令は、<a href="#ndspif.html">NDSPIF疑似命令</a>によって指定されたリスティングファイルへの条件出力を解除する時に使用します。</p>
<p>なお、DSPIF疑似命令と<a href="#ndspif.html">NDSPIF疑似命令</a>が共に指定されていない時は、DSPIF疑似命令を指定した時と同じように条件疑似命令の全てのブロックがリスティングファイルに出力されます。</p></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>参照</b></td>
<td><br/></td>
<td><a href="#ndspif.html">NDSPIF</a></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>入力例</b></td>
<td><br/></td>
<td>
<pre>	dspif
	if	1
	:			; リスティングファイルに出力される
	else
	:			; リスティングファイルに出力される
	endif
</pre>
</td>
</tr>
</table>
<hr/>
</body></html>
<hr id="dspm.html">
<html><body><h2>DSPM</h2>
<font size="-1">[ <a href="#dspif.html">前ページへ</a> | <a href="#else.html">次ページへ</a> ]</font>
<hr/>
<table border="0">
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>機能</b></td>
<td><br/></td>
<td>マクロの展開内容をリスティングファイルに出力します。（デフォルト）
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>書式</b></td>
<td><br/></td>
<td>
<pre>	DSPM
</pre>
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>説明</b></td>
<td><br/></td>
<td><p>マクロが呼び出されている部分に、そのマクロを展開した内容もリスティングファイルに出力します。マクロの展開内容をリスティングファイルに出力したくない場合は、<a href="#ndspm.html">NDSPM疑似命令</a>を指定してください。</p>
<p>なお、DSPM疑似命令と<a href="#ndspm.html">NDSPM疑似命令</a>が共に指定されていない時は、DSPM疑似命令を指定した時と同じようにマクロの展開内容がリスティングファイルに出力されます。</p></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>参照</b></td>
<td><br/></td>
<td><a href="#ndspm.html">NDSPM</a></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>入力例</b></td>
<td><br/></td>
<td>
<pre>sample	macro			; マクロ
	lda	#$10
	endm
	:
	dspm			; マクロ展開内容のリスティング出力指定
	sample			; マクロの展開
</pre>
<p>このようなプログラムをアセンブルすると、リスティングファイルには次のように出力されます。</p>
<pre>sample.s                               94-01-01 00:00:00......PAGE 0001

LINE# LOC      CODE             LINE

    5:00000000                  sample  macro
    6:00000000                          lda     #$10
    7:00000000                          endm
    8:00000000                  
    9:00000000                          dspm
   10:00000000                          sample
   10:00000000 A910           1         lda     #$10
</pre>
</td>
</tr>
</table>
<hr/>
</body></html>
<hr id="else.html">
<html><body><h2>ELSE</h2>
<font size="-1">[ <a href="#dspm.html">前ページへ</a> | <a href="#end.html">次ページへ</a> ]</font>
<hr/>
<table border="0">
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>機能</b></td>
<td><br/></td>
<td>IFで始まる疑似命令のアセンブル条件が評価されない時評価します。
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>書式</b></td>
<td><br/></td>
<td>
<pre>	ELSE
</pre>
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>説明</b></td>
<td><br/></td>
<td><p>ELSE疑似命令の前に記述されているIFで始まる疑似命令のアセンブル条件が評価されない時、次の<a href="#endif.html">ENDIF疑似命令</a>までのブロックをアセンブルします。ELSE疑似命令は、必ずIFで始まる疑似命令と<a href="#endif.html">ENDIF疑似命令</a>の間に記述しなければいけません。</p>
<pre>	if	&lt;条件&gt;<!-- <条件> -->
	:			; アセンブル条件が評価された時にアセン
	:			; ブルされる
	else			; IF疑似命令とENDIF疑似命令の間に記述
	:			; アセンブル条件が評価されない時にアセ
	:			; ンブルされる
	endif
</pre></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>参照</b></td>
<td><br/></td>
<td><a href="#if.html">IF/IFN</a>、<a href="#ife.html">IFE</a>、<a href="#ifb.html">IFB</a>、<a href="#ifnb.html">IFNB</a>、<a href="#ifdef.html">IFDEF</a>、<a href="#ifndef.html">IFNDEF</a>、<a href="#endif.html">ENDIF</a></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>入力例</b></td>
<td><br/></td>
<td>
<pre>	ifn	1		; IFN疑似命令のアセンブル条件が真
	lda	#$10		; この部分はアセンブルされる
	else
	lda	#$20		; この部分はアセンブルされない
	endif
</pre>
</td>
</tr>
</table>
<hr/>
</body></html>
<hr id="end.html">
<html><body><h2>END</h2>
<font size="-1">[ <a href="#else.html">前ページへ</a> | <a href="#endif.html">次ページへ</a> ]</font>
<hr/>
<table border="0">
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>機能</b></td>
<td><br/></td>
<td>プログラムの終了を指定します。
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>書式</b></td>
<td><br/></td>
<td>
<pre>	END
</pre>
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>説明</b></td>
<td><br/></td>
<td><p>ISASはEND疑似命令までをアセンブルし、END疑似命令以降はアセンブルしません。通常、END疑似命令はソースファイルの最後に記述されます。なお、END疑似命令が記述されていない時は、ソースファイルの最後までアセンブルされます。</p></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>入力例</b></td>
<td><br/></td>
<td>
<pre>	:
	rts
	end			; ソースファイルの終了
</pre>
</td>
</tr>
</table>
<hr/>
</body></html>
<hr id="endif.html">
<html><body><h2>ENDIF</h2>
<font size="-1">[ <a href="#end.html">前ページへ</a> | <a href="#equ.html">次ページへ</a> ]</font>
<hr/>
<table border="0">
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>機能</b></td>
<td><br/></td>
<td>IFで始まる疑似命令で指定した条件範囲を終了します。
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>書式</b></td>
<td><br/></td>
<td>
<pre>	ENDIF
</pre>
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>説明</b></td>
<td><br/></td>
<td><p>IFで始まる疑似命令を記述した後は、必ず対となるENDIF疑似命令を記述する必要があります。</p></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>参照</b></td>
<td><br/></td>
<td><a href="#if.html">IF/IFN</a>、<a href="#ife.html">IFE</a>、<a href="#ifb.html">IFB</a>、<a href="#ifnb.html">IFNB</a>、<a href="#ifdef.html">IFDEF</a>、<a href="#ifndef.html">IFNDEF</a>、<a href="#else.html">ELSE</a></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>入力例</b></td>
<td><br/></td>
<td>
<pre>	ifn	1		; IFN疑似命令
	lda	#$00
	endif			; アセンブル範囲の終わりを指定する
</pre>
</td>
</tr>
</table>
<hr/>
</body></html>
<hr id="equ.html">
<html><body><h2>EQU</h2>
<font size="-1">[ <a href="#endif.html">前ページへ</a> | <a href="#errtag.html">次ページへ</a> ]</font>
<hr/>
<table border="0">
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>機能</b></td>
<td><br/></td>
<td>シンボルに値を定義します。
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>書式</b></td>
<td><br/></td>
<td>
<pre>&lt;名前&gt;	EQU	&lt;式&gt;<!-- <名前>	EQU	<式> -->
</pre>
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>説明</b></td>
<td><br/></td>
<td><p>&lt;名前&gt;<!-- <名前> -->の部分に記述したシンボルに&lt;式&gt;<!-- <式> -->の値を割り当てるもので、定義後&lt;名前&gt;<!-- <名前> -->を参照することにより、その&lt;式&gt;<!-- <式> -->の値を得ることができます。なお、EQU疑似命令は&lt;名前&gt;<!-- <名前> -->を再定義することができませんが、<a href="#substitute.html">=疑似命令</a>は&lt;名前&gt;<!-- <名前> -->を再定義することができます。</p></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>参照</b></td>
<td><br/></td>
<td><a href="#substitute.html">=</a></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>入力例</b></td>
<td><br/></td>
<td>
<pre>sample	equ	$10		; シンボル名sampleに$10を割り当てる
	lda	#sample		; 10Hをレジスタにロード
sample	equ	$20		; 再定義できないのでエラーが発生する
</pre>
</td>
</tr>
</table>
<hr/>
</body></html>
<hr id="errtag.html">
<html><body><h2>ERRTAG</h2>
<font size="-1">[ <a href="#equ.html">前ページへ</a> | <a href="#evalbits.html">次ページへ</a> ]</font>
<hr/>
<table border="0">
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>機能</b></td>
<td><br/></td>
<td>エラータグファイルを出力します。
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>書式</b></td>
<td><br/></td>
<td>
<pre>	ERRTAG
</pre>
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>説明</b></td>
<td><br/></td>
<td><p>アセンブル時にエラーやウォーニングが発生した場合に画面に表示されるメッセージをファイルにも出力します。このエラータグファイルは、ソースファイル名の拡張子を".ERR"に変更したファイル名を付け、ソースファイルと同じディレクトリに作成されます。</p></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>入力例</b></td>
<td><br/></td>
<td>
<pre>	errtag			; エラータグファイルの出力指定
bank	group
	org	$0
	lda	symbol		; ここでエラーが発生
	end
</pre>
<p>このようなプログラムをアセンブルすると、エラータグファイルには次のように出力されます。</p>
<pre>test.s		(4): ERROR Undefined symbol.[SYMBOL]
fatal errors = 1
</pre>
</td>
</tr>
</table>
<hr/>
</body></html>
<hr id="evalbits.html">
<html><body><h2>EVALBITS</h2>
<font size="-1">[ <a href="#errtag.html">前ページへ</a> | <a href="#even.html">次ページへ</a> ]</font>
<hr/>
<table border="0">
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>機能</b></td>
<td><br/></td>
<td>定数を評価する時の有効ビット数を指定します。
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>書式</b></td>
<td><br/></td>
<td>
<pre>	EVALBITS	&lt;式&gt;<!-- <式> -->
</pre>
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>説明</b></td>
<td><br/></td>
<td><p>EVALBITS疑似命令は、IS65との互換を採るために用意した疑似命令です。演算処理を行う時に定数の有効ビット数を、IS65では16ビットで処理を行っていたのに対し、ISASでは32ビットで処理しています。例えば、アドレスの演算においてIS65ではバンクに影響を与えることはありませんでしたが、ISASではバンクにまで影響を与えます。</p>
<p>&lt;式&gt;<!-- <式> -->には、定数を評価する時の有効ビット数を0から32までの値で指定します。なお、ISAS起動時に<a href="#IS65">-is65オプション</a>を指定するとEVALBITS 16となり、<a href="#IS65">-is65オプション</a>を指定しない時はEVALBITS 32となるため、通常この疑似命令を指定する必要はありません。</p></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>入力例</b></td>
<td><br/></td>
<td>
<pre>	is65
	evalbits	16	; 16ビットで定数を評価する
</pre>
</td>
</tr>
</table>
<hr/>
</body></html>
<hr id="even.html">
<html><body><h2>EVEN</h2>
<font size="-1">[ <a href="#evalbits.html">前ページへ</a> | <a href="#extern.html">次ページへ</a> ]</font>
<hr/>
<table border="0">
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>機能</b></td>
<td><br/></td>
<td>アセンブル時のロケーションを2バイト、4バイト、8バイト、16バイト、32バイト、または64バイトの境界にアライメントします。
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>書式</b></td>
<td><br/></td>
<td>
<pre>	EVEN	[式]
</pre>
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>説明</b></td>
<td><br/></td>
<td><p>EVEN疑似命令直後に記述されたコードまたはデータのロケーションを、2バイト、4バイト、8バイト、16バイト、32バイト、または64バイトの境界にアライメント（配置）します。</p>
<p>EVEN疑似命令は、アセンブル時に<a href="#group.html">GROUP疑似命令</a>で指定されたグループの先頭からの相対的なロケーションに対して指定された境界から配置します。このため、<a href="#group.html">GROUP疑似命令</a>を記述した直後にEVEN疑似命令を記述する必要があります。EVEN疑似命令を記述する前に<a href="#group.html">GROUP疑似命令</a>が記述されていないと、"Undefined group.（グループが定義されていません。）"のエラーが発生するので注意してください。</p>
<pre>text	group			; GROUP疑似命令を指定
	even	4		; GROUP疑似命令の直後にEVEN疑似命令を指
				; 定
</pre>
<p>また、<a href="#org.html">ORG疑似命令</a>によって絶対アドレスが指定されている時は、その指定アドレスからのロケーションに対して配置されます。</p>
<p>[式]には、2、4、8、16、32、または64の値を指定します。それぞれ、2バイト、4バイト、8バイト、16バイト、32バイト、64バイトの境界から配置することを示します。2バイト境界とは偶数アドレスから配置され、4バイト境界は4の倍数アドレスから配置されるように、指定したバイト数の倍数アドレスから配置されることをいいます。また、[式]を省略した時は、2を指定した時と同じように2バイト境界から配置されます。</p>
<p>なお、この疑似命令によって指定されているアライメント以外から配置されている命令を再配置した時は、命令の直前に00Hのコードが挿入されます。</p>
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>参照</b></td>
<td><br/></td>
<td><a href="#group.html">GROUP</a>、<a href="#org.html">ORG</a></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>入力例</b></td>
<td><br/></td>
<td>
<pre>test	group
	org	$8000
	db	$00		; 1バイトデータ
	even	2		; 2バイト境界への配置指定
	:			; この命令は偶数アドレスから再配置され
	:			; る
</pre>
</td>
</tr>
</table>
<hr/>
</body></html>
<hr id="extern.html">
<html><body><h2>EXTERN</h2>
<font size="-1">[ <a href="#even.html">前ページへ</a> | <a href="#global.html">次ページへ</a> ]</font>
<hr/>
<table border="0">
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>機能</b></td>
<td><br/></td>
<td>シンボルを外部参照として宣言します。
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>書式</b></td>
<td><br/></td>
<td>
<pre>	EXTERN	&lt;名前&gt;[,名前] ... [,名前]<!-- <名前>[,名前] ... [,名前] -->
</pre>
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>説明</b></td>
<td><br/></td>
<td><p>ソースファイル内で参照しているシンボルが、他のソースファイルで定義されていることをアセンブラに通知します。&lt;名前&gt;<!-- <名前> -->には、外部参照されるシンボル名を記述します。複数の&lt;名前&gt;<!-- <名前> -->を与える時は、それぞれの&lt;名前&gt;<!-- <名前> -->をカンマ（,）で区切ってください。</p></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>参照</b></td>
<td><br/></td>
<td><a href="#public.html">PUBLIC</a>、<a href="#puball.html">PUBALL</a>、<a href="#pubon.html">PUBON</a>、<a href="#puboff.html">PUBOFF</a>、<a href="#global.html">GLOBAL</a>、<a href="#local.html">LOCAL</a></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>入力例</b></td>
<td><br/></td>
<td>
<pre>ソースファイル1
	public	sample		; 定義しているシンボルsampleが外部で参
	:			; 照されるため外部定義シンボル宣言する
sample	ds	$55

ソースファイル2
	extern	sample		; 参照しているシンボルsampleが外部で定
	:			; 義されるため外部参照シンボル宣言する
	lda	sample
</pre>
</td>
</tr>
</table>
<hr/>
</body></html>
<hr id="global.html">
<html><body><h2>GLOBAL</h2>
<font size="-1">[ <a href="#extern.html">前ページへ</a> | <a href="#group.html">次ページへ</a> ]</font>
<hr/>
<table border="0">
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>機能</b></td>
<td><br/></td>
<td>シンボルを外部定義および外部参照として宣言します。
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>書式</b></td>
<td><br/></td>
<td>
<pre>	GLOBAL	&lt;名前&gt;[,名前] ... [,名前]<!-- <名前>,<名前>, ... ,<名前> -->
</pre>
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>説明</b></td>
<td><br/></td>
<td><p>ソースファイル内で定義または参照しているシンボルが、他のソースファイルで定義または参照していることをアセンブラに通知します。&lt;名前&gt;<!-- <名前> -->には、外部定義または外部参照するシンボル名を記述します。複数の&lt;名前&gt;<!-- <名前> -->を与える時は、それぞれの&lt;名前&gt;<!-- <名前> -->をカンマ（,）で区切ってください。</p>
<p>このGLOBAL疑似命令は、<a href="#public.html">PUBLIC疑似命令</a>、および<a href="#extern.html">EXTERN疑似命令</a>のように外部定義／参照で使い分ける必要がないため、簡単に記述することができます。</p></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>参照</b></td>
<td><br/></td>
<td><a href="#public.html">PUBLIC</a>、<a href="#puball.html">PUBALL</a>、<a href="#pubon.html">PUBON</a>、<a href="#puboff.html">PUBOFF</a>、<a href="#extern.html">EXTERN</a>、<a href="#local.html">LOCAL</a></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>入力例</b></td>
<td><br/></td>
<td>
<pre>ソースファイル1
	global	symbol,buf	; 外部定義と外部参照をまとめて宣言
symbol				; シンボルを定義
	lda	buf		; シンボルを参照

ソースファイル2
	global	symbol,buf
	jsr	symbol		; シンボルを参照
	:
buf	db	$10		; シンボルを定義
</pre>
</td>
</tr>
</table>
<hr/>
</body></html>
<hr id="group.html">
<html><body><h2>GROUP</h2>
<font size="-1">[ <a href="#global.html">前ページへ</a> | <a href="#if.html">次ページへ</a> ]</font>
<hr/>
<table border="0">
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>機能</b></td>
<td><br/></td>
<td>グループを宣言します。
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>書式</b></td>
<td><br/></td>
<td>
<pre>&lt;名前&gt;	GROUP	[式]<!-- <名前>	GROUP	[式] -->
</pre>
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>説明</b></td>
<td><br/></td>
<td><p>グループとは、任意のプログラムを一つにまとめた単位をいいます。一つのグループは一つのバンクに対応し、リンク時には同じ名前のグループ毎に特定のバンクに配置されます。</p>
<p>&lt;名前&gt;<!-- <名前> -->には、グループ名を指定します。[式]には、<a href="#onbankgroup.html">ONBANKGROUP疑似命令</a>を指定した場合のみ、グループを配置するバンクアドレスを指定します。</p>
<p><a href="#onbankgroup.html">ONBANKGROUP疑似命令</a>が指定されている時は、グループを[式]で指定されたバンクアドレスに割り付けます。なお、[式]が省略された場合は、0バンクアドレスとみなされます。また、<a href="#offbankgroup.html">OFFBANKGROUP疑似命令</a>が指定されている時は、[式]を指定する必要はありません。バンクアドレスは、<a href="#org.html">ORG疑似命令</a>で指定されたアドレスが採用されます。</p>
<p>GROUP疑似命令は、ソースファイル毎に分割されたモジュールをどのグループに割り付けるかを定義する疑似命令であり、各ソースファイルの先頭やモジュール毎に分割したい所で記述するようにしてください。</p></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>参照</b></td>
<td><br/></td>
<td><a href="#onbankgroup.html">ONBANKGROUP</a>、<a href="#offbankgroup.html">OFFBANKGROUP</a>、<a href="#org.html">ORG</a></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>入力例</b></td>
<td><br/></td>
<td>
<pre>	onbankgroup		; ONBANKGROUPの指定
bank7	group	7		; モジュールをグループ名"bank7"に割り付
	:			; け、7バンクに配置する
	:
	offbankgroup		; OFFBANKGROUPの指定
bank8	group			; グループ名のみを指定
	org	8:8000		; 8バンクの8000H番地に配置する

</pre>
</td>
</tr>
</table>
<hr/>
</body></html>
<hr id="if.html">
<html><body><h2>IF/IFN</h2>
<font size="-1">[ <a href="#group.html">前ページへ</a> | <a href="#if16a.html">次ページへ</a> ]</font>
<hr/>
<table border="0">
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>機能</b></td>
<td><br/></td>
<td>アセンブル条件が真の時評価します。
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>書式</b></td>
<td><br/></td>
<td>
<pre>	IF	&lt;式&gt;<!-- <式> -->
</pre>
<p>または</p>
<pre>	IFN	&lt;式&gt;<!-- <式> -->
</pre>
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>説明</b></td>
<td><br/></td>
<td><p>アセンブル条件の&lt;式&gt;<!-- <式> -->が真の時、つまり&lt;式&gt;<!-- <式> -->の値が0以外の時、次の<a href="#else.html">ELSE疑似命令</a>または<a href="#endif.html">ENDIF疑似命令</a>までのブロックをアセンブルします。</p>
<p>なお、IF疑似命令とIFN疑似命令はスペルのみ異なり、動作は同じです。</p></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>参照</b></td>
<td><br/></td>
<td><a href="#ife.html">IFE</a>、<a href="#ifb.html">IFB</a>、<a href="#ifnb.html">IFNB</a>、<a href="#ifdef.html">IFDEF</a>、<a href="#ifndef.html">IFNDEF</a>、<a href="#else.html">ELSE</a>、<a href="#endif.html">ENDIF</a></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>入力例</b></td>
<td><br/></td>
<td>
<pre>	if	1		; アセンブル条件が真であるためアセンブ
	lda	#$00		; ルされる
	endif
	if	0		; アセンブル条件が偽であるためアセンブ
	sta	#$00		; ルされない
	endif
</pre>
</td>
</tr>
</table>
<hr/>
</body></html>
<hr id="if16a.html">
<html><body><h2>IF16A（65816用）</h2>
<font size="-1">[ <a href="#if.html">前ページへ</a> | <a href="#if16i.html">次ページへ</a> ]</font>
<hr/>
<table border="0">
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>機能</b></td>
<td><br/></td>
<td>アキュームレータの操作が16ビットモードの時評価します。
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>書式</b></td>
<td><br/></td>
<td>
<pre>	IF16A
</pre>
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>説明</b></td>
<td><br/></td>
<td><p>ON16A疑似命令によってアキュームレータの操作が16ビットモードの時、次の<a href="#else.html">ELSE疑似命令</a>または<a href="#endif.html">ENDIF疑似命令</a>までをアセンブルします。なお、IF16A疑似命令の記述の後には必ず<a href="#endif.html">ENDIF疑似命令</a>が必要です。</p></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>参照</b></td>
<td><br/></td>
<td><a href="#is65.html">IS65</a>、<a href="#on16a.html">ON16A</a>、<a href="#off16a.html">OFF16A</a>、<a href="#on16i.html">ON16I</a>、<a href="#off16i.html">OFF16I</a>、<a href="#ifn16a.html">IFN16A</a>、<a href="#if16i.html">IF16I</a>、<a href="#ifn16i.html">IFN16I</a></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>入力例</b></td>
<td><br/></td>
<td>
<pre>	is65
	on16a			; アキュームレータの16ビットモードの指
	:			; 定
	if16a			; ON16A疑似命令が指定されているためアセ
	lda	srcbuf		; ンブル処理される
	sta	destbuf
	endif
</pre>
</td>
</tr>
</table>
<hr/>
</body></html>
<hr id="if16i.html">
<html><body><h2>IF16I（65816用）</h2>
<font size="-1">[ <a href="#if16a.html">前ページへ</a> | <a href="#ifb.html">次ページへ</a> ]</font>
<hr/>
<table border="0">
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>機能</b></td>
<td><br/></td>
<td>インデックスレジスタの操作が16ビットモードの時評価します。
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>書式</b></td>
<td><br/></td>
<td>
<pre>	IF16I
</pre>
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>説明</b></td>
<td><br/></td>
<td><p><a href="#on16i.html">ON16I疑似命令</a>によってインデックスレジスタの操作が16ビットモードの時、次の<a href="#else.html">ELSE疑似命令</a>または<a href="#endif.html">ENDIF疑似命令</a>までをアセンブルします。なお、IF16I疑似命令の記述の後には必ず<a href="#endif.html">ENDIF疑似命令</a>が必要です。</p></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>参照</b></td>
<td><br/></td>
<td><a href="#is65.html">IS65</a>、<a href="#on16a.html">ON16A</a>、<a href="#off16a.html">OFF16A</a>、<a href="#on16i.html">ON16I</a>、<a href="#off16i.html">OFF16I</a>、<a href="#if16a.html">IF16A</a>、<a href="#ifn16a.html">IFN16A</a>、<a href="#ifn16i.html">IFN16I</a></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>入力例</b></td>
<td><br/></td>
<td>
<pre>	is65
	on16i			; インデックスレジスタの16ビットモード
	:			; の指定
	if16i			; ON16I疑似命令が指定されているためアセ
	ldx	srcbuf		; ンブル処理される
	stx	destbuf
	endif
</pre>
</td>
</tr>
</table>
<hr/>
</body></html>
<hr id="ifb.html">
<html><body><h2>IFB</h2>
<font size="-1">[ <a href="#if16i.html">前ページへ</a> | <a href="#ifdef.html">次ページへ</a> ]</font>
<hr/>
<table border="0">
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>機能</b></td>
<td><br/></td>
<td>アセンブル条件が空白の時評価します。
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>書式</b></td>
<td><br/></td>
<td>
<pre>	IFB	&lt;&lt;式&gt;&gt;<!-- <<式>> --> （外側の&lt;&gt;<!-- <> -->は必要です）
</pre>
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>説明</b></td>
<td><br/></td>
<td><p>アセンブル条件の&lt;&lt;式&gt;&gt;<!-- <<式>> -->が空白の時、次の<a href="#else.html">ELSE疑似命令</a>または<a href="#endif.html">ENDIF疑似命令</a>までのブロックをアセンブルします。</p>
<p>この疑似命令は、マクロ定義内で条件アセンブルを制御する時に使用します。&lt;&lt;式&gt;&gt;<!-- <<式>> -->は、マクロ定義において宣言される仮引数の名前の一つでなければなりません。マクロ展開時に渡された&lt;&lt;式&gt;&gt;<!-- <<式>> -->が空白の時、つまり引数が渡されていない時にブロックがマクロ展開されます。</p></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>参照</b></td>
<td><br/></td>
<td><a href="#if.html">IF/IFN</a>、<a href="#ife.html">IFE</a>、<a href="#ifnb.html">IFNB</a>、<a href="#ifdef.html">IFDEF</a>、<a href="#ifndef.html">IFNDEF</a>、<a href="#else.html">ELSE</a>、<a href="#endif.html">ENDIF</a></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>入力例</b></td>
<td><br/></td>
<td>
<pre>test	macro	flag
	ifb	&lt;flag&gt;<!-- <flag> -->		; 仮引数が空白の時アセンブルするように
	lda	#$10		; 指定
	endif
	endm
	:
	test			; 引数が空白なのでアセンブルされる
	test	1		; 引数が空白ではないのでアセンブルされ
	:			; ない
</pre>
</td>
</tr>
</table>
<hr/>
</body></html>
<hr id="ifdef.html">
<html><body><h2>IFDEF</h2>
<font size="-1">[ <a href="#ifb.html">前ページへ</a> | <a href="#ife.html">次ページへ</a> ]</font>
<hr/>
<table border="0">
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>機能</b></td>
<td><br/></td>
<td>アセンブル条件が定義されている時評価します。
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>書式</b></td>
<td><br/></td>
<td>
<pre>	IFDEF	&lt;シンボル&gt;<!-- <シンボル> -->
</pre>
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>説明</b></td>
<td><br/></td>
<td><p>アセンブル条件の&lt;シンボル&gt;<!-- <シンボル> -->が既に定義されている時、次の<a href="#else.html">ELSE疑似命令</a>または<a href="#endif.html">ENDIF疑似命令</a>までのブロックをアセンブルします。</p></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>参照</b></td>
<td><br/></td>
<td><a href="#if.html">IF/IFN</a>、<a href="#ife.html">IFE</a>、<a href="#ifb.html">IFB</a>、<a href="#ifnb.html">IFNB</a>、<a href="#ifndef.html">IFNDEF</a>、<a href="#else.html">ELSE</a>、<a href="#endif.html">ENDIF</a></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>入力例</b></td>
<td><br/></td>
<td>
<pre>symbol
	ifdef	symbol		; シンボル名symbolが定義されているので
	lda	#$00		; アセンブルされる
	endif
</pre>
</td>
</tr>
</table>
<hr/>
</body></html>
<hr id="ife.html">
<html><body><h2>IFE</h2>
<font size="-1">[ <a href="#ifdef.html">前ページへ</a> | <a href="#ifn16a.html">次ページへ</a> ]</font>
<hr/>
<table border="0">
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>機能</b></td>
<td><br/></td>
<td>アセンブル条件が偽の時評価します。
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>書式</b></td>
<td><br/></td>
<td>
<pre>	IFE	&lt;式&gt;<!-- <式> -->
</pre>
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>説明</b></td>
<td><br/></td>
<td><p>アセンブル条件の&lt;式&gt;<!-- <式> -->が偽の時、つまり&lt;式&gt;<!-- <式> -->の値が0の時、次の<a href="#else.html">ELSE疑似命令</a>または<a href="#endif.html">ENDIF疑似命令</a>までのブロックをアセンブルします。</p></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>参照</b></td>
<td><br/></td>
<td><a href="#if.html">IF/IFN</a>、<a href="#ifb.html">IFB</a>、<a href="#ifnb.html">IFNB</a>、<a href="#ifdef.html">IFDEF</a>、<a href="#ifndef.html">IFNDEF</a>、<a href="#else.html">ELSE</a>、<a href="#endif.html">ENDIF</a></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>入力例</b></td>
<td><br/></td>
<td>
<pre>	ife	0		; アセンブル条件が偽であるためアセンブ
	lda	#$00		; ルされる
	endif
	ife	1		; アセンブル条件が真であるためアセンブ
	sta	#$00		; ルされない
	endif
</pre>
</td>
</tr>
</table>
<hr/>
</body></html>
<hr id="ifn16a.html">
<html><body><h2>IFN16A（65816用）</h2>
<font size="-1">[ <a href="#ife.html">前ページへ</a> | <a href="#ifn16i.html">次ページへ</a> ]</font>
<hr/>
<table border="0">
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>機能</b></td>
<td><br/></td>
<td>アキュームレータの操作が8ビットモードの時評価します。
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>書式</b></td>
<td><br/></td>
<td>
<pre>	IFN16A
</pre>
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>説明</b></td>
<td><br/></td>
<td><p><a href="#off16a.html">OFF16A疑似命令</a>の指定、または<a href="#on16a.html">ON16A疑似命令</a>の無指定によってアキュームレータの操作が8ビットモードの時、次の<a href="#else.html">ELSE疑似命令</a>または<a href="#endif.html">ENDIF疑似命令</a>までをアセンブルします。なお、IFN16A疑似命令の記述の後には必ず<a href="#endif.html">ENDIF疑似命令</a>が必要です。</p></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>参照</b></td>
<td><br/></td>
<td><a href="#is65.html">IS65</a>、<a href="#on16a.html">ON16A</a>、<a href="#off16a.html">OFF16A</a>、<a href="#on16i.html">ON16I</a>、<a href="#off16i.html">OFF16I</a>、<a href="#if16a.html">IF16A</a>、<a href="#if16i.html">IF16I</a>、<a href="#ifn16i.html">IFN16I</a></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>入力例</b></td>
<td><br/></td>
<td>
<pre>	is65
	off16a			; アキュームレータの8ビットモードの指定
	ifn16a			; OFF16A疑似命令が指定されているためア
	lda	srcbuf		; センブル処理される
	sta	destbuf
	endif
</pre>
</td>
</tr>
</table>
<hr/>
</body></html>
<hr id="ifn16i.html">
<html><body><h2>IFN16I（65816用）</h2>
<font size="-1">[ <a href="#ifn16a.html">前ページへ</a> | <a href="#ifnb.html">次ページへ</a> ]</font>
<hr/>
<table border="0">
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>機能</b></td>
<td><br/></td>
<td>インデックスレジスタの操作が8ビットモードの時評価します。
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>書式</b></td>
<td><br/></td>
<td>
<pre>	IFN16I
</pre>
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>説明</b></td>
<td><br/></td>
<td><p><a href="#off16i.html">OFF16I疑似命令</a>の指定、または<a href="#on16i.html">ON16I疑似命令</a>の無指定によってインデックスレジスタの操作が8ビットモードの時、次の<a href="#else.html">ELSE疑似命令</a>または<a href="#endif.html">ENDIF疑似命令</a>までをアセンブルします。なお、IFN16I疑似命令の記述の後には必ず<a href="#endif.html">ENDIF疑似命令</a>が必要です。</p></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>参照</b></td>
<td><br/></td>
<td><a href="#is65.html">IS65</a>、<a href="#on16a.html">ON16A</a>、<a href="#off16a.html">OFF16A</a>、<a href="#on16i.html">ON16I</a>、<a href="#off16i.html">OFF16I</a>、<a href="#if16a.html">IF16A</a>、<a href="#ifn16a.html">IFN16A</a>、<a href="#if16i.html">IF16I</a></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>入力例</b></td>
<td><br/></td>
<td>
<pre>	is65
	off16i			; インデックスレジスタの8ビットモードの
	:			; 指定
	ifn16i			; OFF16I疑似命令が指定されているためア
	ldx	srcbuf		; センブル処理される
	stx	destbuf
	endif
</pre>
</td>
</tr>
</table>
<hr/>
</body></html>
<hr id="ifnb.html">
<html><body><h2>IFNB</h2>
<font size="-1">[ <a href="#ifn16i.html">前ページへ</a> | <a href="#ifndef.html">次ページへ</a> ]</font>
<hr/>
<table border="0">
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>機能</b></td>
<td><br/></td>
<td>アセンブル条件が空白以外の時評価します。
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>書式</b></td>
<td><br/></td>
<td>
<pre>	IFNB	&lt;&lt;文字&gt;&gt; （外側の&lt;&gt;は必要です）<!-- IFNB	<<文字>> （外側の<>は必要です） -->
</pre>
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>説明</b></td>
<td><br/></td>
<td><p>アセンブル条件の&lt;&lt;式&gt;&gt;<!-- <<式>> -->が空白以外の時、次の<a href="#else.html">ELSE疑似命令</a>または<a href="#endif.html">ENDIF疑似命令</a>までのブロックをアセンブルします。</p>
<p>この疑似命令は、マクロ定義内で条件アセンブルを制御する時に使用します。&lt;&lt;式&gt;&gt;<!-- <<式>> -->は、マクロ定義において宣言される仮引数の名前の一つでなければなりません。マクロ展開時に渡された&lt;&lt;式&gt;&gt;<!-- <<式>> -->が空白以外の時、つまり引数が渡されている時にブロックがマクロ展開されます。</p></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>参照</b></td>
<td><br/></td>
<td><a href="#if.html">IF/IFN</a>、<a href="#ife.html">IFE</a>、<a href="#ifb.html">IFB</a>、<a href="#ifdef.html">IFDEF</a>、<a href="#ifndef.html">IFNDEF</a>、<a href="#else.html">ELSE</a>、<a href="#endif.html">ENDIF</a></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>入力例</b></td>
<td><br/></td>
<td>
<pre>test	macro	flag
	ifnb	&lt;flag&gt;<!-- <flag> -->		; 仮引数が空白以外の時アセンブルするよ
	lda	#$10		; うに指定
	endif
	endm
	:
	test			; 引数が空白なのでアセンブルされない
	test	1		; 引数が空白ではないのでアセンブルされ
	:			; る
</pre>
</td>
</tr>
</table>
<hr/>
</body></html>
<hr id="ifndef.html">
<html><body><h2>IFNDEF</h2>
<font size="-1">[ <a href="#ifnb.html">前ページへ</a> | <a href="#is65.html">次ページへ</a> ]</font>
<hr/>
<table border="0">
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>機能</b></td>
<td><br/></td>
<td>アセンブル条件が定義されていない時評価します。
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>書式</b></td>
<td><br/></td>
<td>
<pre>	IFNDEF	&lt;シンボル&gt;<!-- <シンボル> -->
</pre>
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>説明</b></td>
<td><br/></td>
<td><p>アセンブル条件の&lt;シンボル&gt;<!-- <シンボル> -->がまだ定義されていない時、次の<a href="#else.html">ELSE疑似命令</a>または<a href="#endif.html">ENDIF疑似命令</a>までのブロックをアセンブルします。</p></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>参照</b></td>
<td><br/></td>
<td><a href="#if.html">IF/IFN</a>、<a href="#ife.html">IFE</a>、<a href="#ifb.html">IFB</a>、<a href="#ifnb.html">IFNB</a>、<a href="#ifdef.html">IFDEF</a>、<a href="#else.html">ELSE</a>、<a href="#endif.html">ENDIF</a></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>入力例</b></td>
<td><br/></td>
<td>
<pre>	ifndef	symbol		; シンボル名symbolが定義されていないの
	lda	#$00		; でアセンブルされる
	endif
</pre>
</td>
</tr>
</table>
<hr/>
</body></html>
<hr id="is65.html">
<html><body><h2>IS65</h2>
<font size="-1">[ <a href="#ifndef.html">前ページへ</a> | <a href="#is65bin.html">次ページへ</a> ]</font>
<hr/>
<table border="0">
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>機能</b></td>
<td><br/></td>
<td>命令セットを65816プロセッサ用に切り替えます。（デフォルト）
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>書式</b></td>
<td><br/></td>
<td>
<pre>	IS65
</pre>
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>説明</b></td>
<td><br/></td>
<td><p>65816プロセッサ用としてISASを使用する時に指定します。</p>
<p>なお、IS65、<a href="#isdmg.html">ISDMG</a>、<a href="#issfx.html">ISSFX</a>、<a href="#issnd.html">ISSND</a>、および<a href="#isv810.html">ISV810疑似命令</a>が指定されていない時には、ISASは65816プロセッサ用アセンブラとして機能します。</p></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>参照</b></td>
<td><br/></td>
<td><a href="#isdmg.html">ISDMG</a>、<a href="#issfx.html">ISSFX</a>、<a href="#issnd.html">ISSND</a>、<a href="#isv810.html">ISV810</a></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>入力例</b></td>
<td><br/></td>
<td>
<pre>	is65
	:			; 65816プロセッサ用命令を記述
</pre>
</td>
</tr>
</table>
<hr/>
</body></html>
<hr id="is65bin.html">
<html><body><h2>IS65BIN</h2>
<font size="-1">[ <a href="#is65.html">前ページへ</a> | <a href="#isasbin.html">次ページへ</a> ]</font>
<hr/>
<table border="0">
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>機能</b></td>
<td><br/></td>
<td><a href="#binset.html">BINSET疑似命令</a>のパラメータの指定をIS65のBINSET疑似命令と同じ指定方法にします。
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>書式</b></td>
<td><br/></td>
<td>
<pre>	IS65BIN
</pre>
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>説明</b></td>
<td><br/></td>
<td><p>ISASの<a href="#binset.html">BINSET疑似命令</a>は、次の<a href="#libbin.html">LIBBIN疑似命令</a>の指定により<a href="#binset.html">BINSET疑似命令</a>のパラメータはクリアされます。これに対し、IS65のBINSET疑似命令は、再度BINSET疑似命令を指定するまで、パラメータの値がLIBBIN疑似命令に反映されます。このようにISASとIS65のBINSET疑似命令は一部機能が異なりますが、IS65BIN疑似命令を指定することにより、IS65のBINSET疑似命令と同等に機能させることができます。</p>
<p>この疑似命令は、IS65用に作成されたソースファイルをISASでアセンブルされる時にのみ指定します。ただし、ISAS起動時に<a href="#IS65">-is65オプション</a>を指定すると、自動的にIS65BIN疑似命令が指定された状態になるため、通常この疑似命令を指定することは少ないでしょう。</p></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>参照</b></td>
<td><br/></td>
<td><a href="#binset.html">BINSET</a>、<a href="#isasbin.html">ISASBIN</a></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>入力例</b></td>
<td><br/></td>
<td>
<pre>	is65bin			; BINSET疑似命令をIS65のBINSET疑似命令と同機能にする
	binset	$100,$200	; 
	libbin	sample1.bin	; ファイルのオフセット$100から$200バイト分読み込む
	libbin	sample2.bin	; ファイルのオフセット$100から$200バイト分読み込む
</pre>
</td>
</tr>
</table>
<hr/>
</body></html>
<hr id="isasbin.html">
<html><body><h2>ISASBIN</h2>
<font size="-1">[ <a href="#is65bin.html">前ページへ</a> | <a href="#isdmg.html">次ページへ</a> ]</font>
<hr/>
<table border="0">
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>機能</b></td>
<td><br/></td>
<td><a href="#binset.html">BINSET疑似命令</a>のパラメータの指定をISAS標準の指定方法にします。（デフォルト）
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>書式</b></td>
<td><br/></td>
<td>
<pre>	ISASBIN
</pre>
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>説明</b></td>
<td><br/></td>
<td><p>ISASの<a href="#binset.html">BINSET疑似命令</a>は、次の<a href="#libbin.html">LIBBIN疑似命令</a>の指定により<a href="#binset.html">BINSET疑似命令</a>のパラメータはクリアされます。これに対し、IS65のBINSET疑似命令は、再度BINSET疑似命令を指定するまで、パラメータの値がLIBBIN疑似命令に反映されます。このようにISASとIS65のBINSET疑似命令は一部機能が異なりますが、ISASBIN疑似命令を指定、またはIS65BIN疑似命令を指定しない時には、ISASの標準的な<a href="#binset.html">BINSET疑似命令</a>として機能させることができます。</p></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>参照</b></td>
<td><br/></td>
<td><a href="#binset.html">BINSET</a>、<a href="#is65bin.html">IS65BIN</a></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>入力例</b></td>
<td><br/></td>
<td>
<pre>	isasbin			; BINSET疑似命令をISAS標準の機能にする
	binset			; 
	libbin	sample1.bin	; ファイルのオフセット$100から$200バイト分読み込む
	libbin	sample2.bin	; ファイルのオフセット0からファイルサイズ分読み込む
</pre>
</td>
</tr>
</table>
<hr/>
</body></html>
<hr id="isdmg.html">
<html><body><h2>ISDMG</h2>
<font size="-1">[ <a href="#isasbin.html">前ページへ</a> | <a href="#isprefix.html">次ページへ</a> ]</font>
<hr/>
<table border="0">
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>機能</b></td>
<td><br/></td>
<td>命令セットをDMGプロセッサ用に切り替えます。
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>書式</b></td>
<td><br/></td>
<td>
<pre>	ISDMG
</pre>
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>説明</b></td>
<td><br/></td>
<td><p>DMGプロセッサ用としてISASを使用する時に指定します。ただし、ISAS起動時に<a href="#ISDMG">-isdmgオプション</a>を指定すると、自動的にISDMG疑似命令が指定された状態となります。このため、ISDMG用のソースファイルをISASでアセンブルする時に<a href="#ISDMG">-isdmgオプション</a>を指定することにより、ソースファイルにISDMG疑似命令を追加編集することなくアセンブルすることが可能です。</p>
<p>なお、<a href="#is65.html">IS65</a>、ISDMG、<a href="#issfx.html">ISSFX</a>、<a href="#issnd.html">ISSND</a>、および<a href="#isv810.html">ISV810疑似命令</a>が指定されていない時には、ISASは65816プロセッサ用アセンブラとして機能します。</p></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>参照</b></td>
<td><br/></td>
<td><a href="#is65.html">IS65</a>、<a href="#issfx.html">ISSFX</a>、<a href="#issnd.html">ISSND</a>、<a href="#isv810.html">ISV810</a></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>入力例</b></td>
<td><br/></td>
<td>
<pre>	isdmg
	:			; DMGプロセッサ用命令を記述
</pre>
</td>
</tr>
</table>
<hr/>
</body></html>
<hr id="isprefix.html">
<html><body><h2>ISPREFIX（65816用）</h2>
<font size="-1">[ <a href="#isdmg.html">前ページへ</a> | <a href="#issfx.html">次ページへ</a> ]</font>
<hr/>
<table border="0">
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>機能</b></td>
<td><br/></td>
<td>INTELLIGENT SYSTEMS社用のプリフィックスを使用します。（デフォルト）
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>書式</b></td>
<td><br/></td>
<td>
<pre>	ISPREFIX
</pre>
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>説明</b></td>
<td><br/></td>
<td>
<p>ダイレクトアドレッシング、アブソリュートアドレッシング、およびロングアドレッシングを明示的するためのプリフィックスに、INTELLIGENT SYSTEMS社用のプリフィックスを使用します。次に示すプリフィックスをシンボルの直前に記述することにより、特定のアドレッシングを指定することができます。</p>
<table border="0">
<tr align="LEFT" valign="TOP">
<td>ダイレクトアドレッシング</td>
<td>.（ピリオド）</td>
</tr>
<tr align="LEFT" valign="TOP">
<td>アブソリュートアドレッシング</td>
<td>!（エクスクラメーション）</td>
</tr>
<tr align="LEFT" valign="TOP">
<td>ロングアドレッシング</td>
<td>‾（チルダ）</td>
</tr>
</table>
<p>なお、ISPREFIX疑似命令および<a href="#wdprefix.html">WDPREFIX疑似命令</a>の何れの疑似命令も指定しない時は、INTELLIGENT SYSTEMS社用のプリフィックスを使用する指定になります。</p>
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>参照</b></td>
<td><br/></td>
<td><a href="#is65.html">IS65</a>、<a href="#wdprefix.html">WDPREFIX</a></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>入力例</b></td>
<td><br/></td>
<td>
<pre>	is65
	extern	reg0, symbol
	isprefix
	lda	.reg0		; ダイレクトアドレッシング
	lda	!reg0		; アブソリュートアドレッシング
	lda	‾symbol		; ロングアドレッシング
</pre>
</td>
</tr>
</table>
<hr/>
</body></html>
<hr id="issfx.html">
<html><body><h2>ISSFX</h2>
<font size="-1">[ <a href="#isprefix.html">前ページへ</a> | <a href="#issnd.html">次ページへ</a> ]</font>
<hr/>
<table border="0">
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>機能</b></td>
<td><br/></td>
<td>命令セットをSuper-FXプロセッサ用に切り替えます。
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>書式</b></td>
<td><br/></td>
<td>
<pre>	ISSFX
</pre>
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>説明</b></td>
<td><br/></td>
<td><p>Super-FXプロセッサ用としてISASを使用する時に指定します。</p>
<p>なお、<a href="#is65.html">IS65</a>、<a href="#isdmg.html">ISDMG</a>、ISSFX、<a href="#issnd.html">ISSND</a>、および<a href="#isv810.html">ISV810疑似命令</a>が指定されていない時には、ISASは65816プロセッサ用アセンブラとして機能します。</p></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>参照</b></td>
<td><br/></td>
<td><a href="#is65.html">IS65</a>、<a href="#isdmg.html">ISDMG</a>、<a href="#issnd.html">ISSND</a>、<a href="#isv810.html">ISV810</a></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>入力例</b></td>
<td><br/></td>
<td>
<pre>	issfx
	:			; Super-FXプロセッサ用命令を記述
</pre>
</td>
</tr>
</table>
<hr/>
</body></html>
<hr id="issnd.html">
<html><body><h2>ISSND</h2>
<font size="-1">[ <a href="#issfx.html">前ページへ</a> | <a href="#isv810.html">次ページへ</a> ]</font>
<hr/>
<table border="0">
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>機能</b></td>
<td><br/></td>
<td>命令セットをSPC700プロセッサ用に切り替えます。
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>書式</b></td>
<td><br/></td>
<td>
<pre>	ISSND
</pre>
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>説明</b></td>
<td><br/></td>
<td><p>SPC700プロセッサ用としてISASを使用する時に指定します。</p>
<p>なお、<a href="#is65.html">IS65</a>、<a href="#isdmg.html">ISDMG</a>、<a href="#issfx.html">ISSFX</a>、ISSND、および<a href="#isv810.html">ISV810疑似命令</a>が指定されていない時には、ISASは65816プロセッサ用アセンブラとして機能します。</p></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>参照</b></td>
<td><br/></td>
<td><a href="#is65.html">IS65</a>、<a href="#isdmg.html">ISDMG</a>、<a href="#issfx.html">ISSFX</a>、<a href="#isv810.html">ISV810</a></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>入力例</b></td>
<td><br/></td>
<td>
<pre>	issnd
	:			; SPC700プロセッサ用命令を記述
</pre>
</td>
</tr>
</table>
<hr/>
</body></html>
<hr id="isv810.html">
<html><body><h2>ISV810</h2>
<font size="-1">[ <a href="#issnd.html">前ページへ</a> | <a href="#lib.html">次ページへ</a> ]</font>
<hr/>
<table border="0">
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>機能</b></td>
<td><br/></td>
<td>命令セットをV810SFプロセッサ用に切り替えます。
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>書式</b></td>
<td><br/></td>
<td>
<pre>	ISV810
</pre>
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>説明</b></td>
<td><br/></td>
<td><p>V810SFプロセッサ用としてISASを使用する時に指定します。</p>
<p>なお、<a href="#is65.html">IS65</a>、<a href="#isdmg.html">ISDMG</a>、<a href="#issfx.html">ISSFX</a>、<a href="#issnd.html">ISSND</a>、およびISV810疑似命令が指定されていない時には、ISASは65816プロセッサ用アセンブラとして機能します。</p></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>参照</b></td>
<td><br/></td>
<td><a href="#is65.html">IS65</a>、<a href="#isdmg.html">ISDMG</a>、<a href="#issfx.html">ISSFX</a>、<a href="#issnd.html">ISSND</a></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>入力例</b></td>
<td><br/></td>
<td>
<pre>	isv810
	:			; V810SFプロセッサ用命令を記述
</pre>
</td>
</tr>
</table>
<hr/>
</body></html>
<hr id="lib.html">
<html><body><h2>LIB/FILE/INCLUDE</h2>
<font size="-1">[ <a href="#isv810.html">前ページへ</a> | <a href="#libbin.html">次ページへ</a> ]</font>
<hr/>
<table border="0">
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>機能</b></td>
<td><br/></td>
<td>指定したソースファイルをLIB/FILE/INCLUDE疑似命令の位置に挿入します。
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>書式</b></td>
<td><br/></td>
<td>
<pre>	LIB	&lt;ファイル名&gt;<!-- <ファイル名> -->
</pre>
<p>または</p>
<pre>	FILE	&lt;ファイル名&gt;<!-- <ファイル名> -->
</pre>
<p>または</p>
<pre>	INCLUDE	&lt;ファイル名&gt;<!-- <ファイル名> -->
</pre>
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>説明</b></td>
<td><br/></td>
<td>
<p>&lt;ファイル名&gt;<!-- <ファイル名> -->で指定されたソースファイルを、LIB/FILE/INCLUDE疑似命令の位置に挿入しアセンブルします。</p>
<p>&lt;ファイル名&gt;<!-- <ファイル名> -->には、読み込むソースファイルのファイル名を指定します。このファイル名にはドライブやディレクトリを追加して指定することもできます。&lt;ファイル名&gt;<!-- <ファイル名> -->の拡張子を省略した時は、ISASは拡張子".S"を付加したファイル名として判断します。</p>
<p>指定したソースファイルが見つからない時、ISASは次の順に従いソースファイルを順次検索します。
</p><ul>
<li>ISASの<a href="#INCLUDE">-Iオプション</a>で指定したディレクトリ。
</li><li><a href="#ISINC">ISINC環境変数</a>で指定したディレクトリ。
</li></ul>
また、ファイルの拡張子が省略されている時には、更に拡張子を".X65"に付加し直したファイル名で上記手順に従い検索します。
<p>なお、LIB疑似命令とFILE疑似命令、およびINCLUDE疑似命令はスペルのみ異なり、動作は同じです。</p>
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>参照</b></td>
<td><br/></td>
<td><a href="#libbin.html">LIBBIN</a></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>入力例</b></td>
<td><br/></td>
<td>
<pre>	lib	sample.s	; sample.sファイルをソース中に挿入する
</pre>
</td>
</tr>
</table>
<hr/>
</body></html>
<hr id="libbin.html">
<html><body><h2>LIBBIN</h2>
<font size="-1">[ <a href="#lib.html">前ページへ</a> | <a href="#list.html">次ページへ</a> ]</font>
<hr/>
<table border="0">
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>機能</b></td>
<td><br/></td>
<td>指定したバイナリファイルをLIBBIN疑似命令の位置に挿入します。
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>書式</b></td>
<td><br/></td>
<td>
<pre>	LIBBIN	&lt;ファイル名&gt;<!-- <ファイル名> -->
</pre>
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>説明</b></td>
<td><br/></td>
<td>
<p>&lt;ファイル名&gt;<!-- <ファイル名> -->で指定されたバイナリファイルを、LIBBIN疑似命令の位置に読み込みます。</p>
<p>&lt;ファイル名&gt;<!-- <ファイル名> -->には、読み込むバイナリファイルのファイル名を指定します。このファイル名にはドライブやディレクトリを追加して指定することもできます。&lt;ファイル名&gt;<!-- <ファイル名> -->の拡張子を省略した時は、ISASは拡張子".BIN"を付加したファイル名として判断します。</p>
<p>指定したバイナリファイルが見つからない時、ISASは次の順に従いバイナリファイルを順次検索します。
</p><ul>
<li>ISASの<a href="#INCLUDE">-Iオプション</a>で指定したディレクトリ。
</li><li><a href="#ISINC">ISINC環境変数</a>で指定したディレクトリ。
</li></ul>
<p>直前に<a href="#binset.html">BINSET疑似命令</a>が指定されている時は、その疑似命令によって指定されたパラメータに従い読み込まれます。一度LIBBIN疑似命令が使用されると、<a href="#binset.html">BINSET疑似命令</a>のパラメータはクリア（オフセット=0、サイズ=バイナリファイルのサイズ）されます。また、直前に<a href="#binset.html">BINSET疑似命令</a>が指定されていない時は、クリア状態と同じパラメータで読み込まれます。</p>
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>参照</b></td>
<td><br/></td>
<td><a href="#binset.html">BINSET</a>、<a href="#lib.html">LIB/FILE/INCLUDE</a></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>入力例</b></td>
<td><br/></td>
<td>
<pre>	binset	$100		; バイナリファイルの先頭+100Hの位置から
				; 残り全てを読み込む
	libbin	char.bin	; 読み込まれるバイナリファイル
</pre>
</td>
</tr>
</table>
<hr/>
</body></html>
<hr id="list.html">
<html><body><h2>LIST</h2>
<font size="-1">[ <a href="#libbin.html">前ページへ</a> | <a href="#local.html">次ページへ</a> ]</font>
<hr/>
<table border="0">
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>機能</b></td>
<td><br/></td>
<td>リスティングファイルへの出力を指定します。（デフォルト）
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>書式</b></td>
<td><br/></td>
<td>
<pre>	LIST
</pre>
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>説明</b></td>
<td><br/></td>
<td><p>LIST疑似命令以降に記述された内容をリスティングファイルに出力します。この疑似命令は、<a href="#nlist.html">NLIST疑似命令</a>によって指定されたリスティングファイルへの出力抑制を解除する時に使用します。</p>
<p>なお、LIST疑似命令と<a href="#nlist.html">NLIST疑似命令</a>が共に指定されていない時は、LIST疑似命令を指定した時と同じようにプログラムの内容はリスティングファイルに出力されます。</p></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>参照</b></td>
<td><br/></td>
<td><a href="#nlist.html">NLIST</a></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>入力例</b></td>
<td><br/></td>
<td>
<pre>	nlist			; リスティングファイルへの出力を禁止
	:			: この部分はリスティングファイルには出
	:			; 力されない
	list			; リスティングファイルへの出力を許可
	:			; この部分はリスティングファイルには出
	:			; 力される
</pre>
</td>
</tr>
</table>
<hr/>
</body></html>
<hr id="local.html">
<html><body><h2>LOCAL</h2>
<font size="-1">[ <a href="#list.html">前ページへ</a> | <a href="#lprefix.html">次ページへ</a> ]</font>
<hr/>
<table border="0">
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>機能</b></td>
<td><br/></td>
<td>シンボルを内部定義として宣言します。
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>書式</b></td>
<td><br/></td>
<td>
<pre>	LOCAL	&lt;名前&gt;[,名前] ... [,名前]<!-- <名前>[,名前] ... [,名前] -->
</pre>
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>説明</b></td>
<td><br/></td>
<td><p>LOCAL疑似命令を宣言したソースファイル内でのみ有効なシンボルであることをアセンブラに通知します。&lt;名前&gt;<!-- <名前> -->には、内部定義するシンボル名を記述します。複数の&lt;名前&gt;<!-- <名前> -->を与える時は、それぞれの&lt;名前&gt;<!-- <名前> -->をカンマ（,）で区切ってください。LOCAL疑似命令により内部定義として宣言されたシンボルと同名のシンボルを、他のソースファイルで内部定義しても問題はありません。</p>
<p>また、マクロ定義内で記述した場合は、そのマクロ内でのみ有効なシンボルとして宣言されます。</p></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>参照</b></td>
<td><br/></td>
<td><a href="#public.html">PUBLIC</a>、<a href="#puball.html">PUBALL</a>、<a href="#pubon.html">PUBON</a>、<a href="#puboff.html">PUBOFF</a>、<a href="#extern.html">EXTERN</a>、<a href="#global.html">GLOBAL</a></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>入力例</b></td>
<td><br/></td>
<td>
<pre>ソースファイル1
	local	symbol		; ソースファイル1でのみ有効
symbol
	:
	jsr	symbol

ソースファイル2
	local	symbol		; ソースファイル2でのみ有効
symbol
	:
	jsr	symbol
</pre>
</td>
</tr>
</table>
<hr/>
</body></html>
<hr id="lprefix.html">
<html><body><h2>LPREFIX</h2>
<font size="-1">[ <a href="#local.html">前ページへ</a> | <a href="#macro.html">次ページへ</a> ]</font>
<hr/>
<table border="0">
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>機能</b></td>
<td><br/></td>
<td>ローカルシンボルを示すプリフィックスを指定します。
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>書式</b></td>
<td><br/></td>
<td>
<pre>	LPREFIX	&lt;文字&gt;<!-- <文字> -->
</pre>
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>説明</b></td>
<td><br/></td>
<td><p>ISASは、通常アンダーバー（_）の文字（この文字をプリフィックスといいます）で始まるシンボルをローカルシンボルとして判断します。LPREFIX疑似命令は、このローカルシンボルを示すプリフィックスを異なる文字に変更することができます。</p>
<p>&lt;文字&gt;<!-- <文字> -->には、英字またはクエスチョンマーク（?）の一文字をシングルクォーテーションで括って指定します。また、&lt;文字&gt;<!-- <文字> -->にスペースを指定するとローカルシンボルが使用できないようにすることが可能です。</p></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>入力例</b></td>
<td><br/></td>
<td>
<pre>	lprefix	'L'		; 'L'で始まるシンボルをローカルシンボル
				; として判断する
Ltest				; これはローカルシンボルである
_test				; これはグローバルシンボルである
</pre>
</td>
</tr>
</table>
<hr/>
</body></html>
<hr id="macro.html">
<html><body><h2>MACRO</h2>
<font size="-1">[ <a href="#lprefix.html">前ページへ</a> | <a href="#mradix.html">次ページへ</a> ]</font>
<hr/>
<table border="0">
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>機能</b></td>
<td><br/></td>
<td>マクロに一連の命令を定義します。
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>書式</b></td>
<td><br/></td>
<td>
<pre>&lt;マクロ名&gt;	MACRO	[仮引数][,仮引数] ... [,仮引数]<!-- <マクロ名>	MACRO	[仮引数][,仮引数] ... [,仮引数] -->
		[命令]
		ENDM
</pre>
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>説明</b></td>
<td><br/></td>
<td><p>&lt;マクロ名&gt;<!-- <マクロ名> -->に指定されたマクロに、[命令]の部分に記述された一連の命令を定義します。</p>
<p>&lt;マクロ名&gt;<!-- <マクロ名> -->は、マクロを展開する時のキーワードとなります。そのため、ニーモニックや疑似命令と同じ名前は付けることはできません。また、使用できる文字や文字数はシンボルと同じ扱いになります。</p>
<p>[仮引数]に仮引数を記述することにより、マクロに引数を与えることができます。与えられた仮引数は、[命令]に記述された仮引数と同じ名前の部分に値を代入します。なお、複数個の仮引数を指定する場合は、それぞれの[仮引数]をカンマ（,）で区切ってください。</p>
<p>[命令]には、マクロ定義したいニーモニックや疑似命令を記述します。また、[命令]の中で更に別のマクロを呼び出す（マクロ定義のネスティング）ことができます。マクロ定義のネスティングは最大256回まで行うことができます。</p>
<p>[命令]の最後には、必ずMACRO疑似命令と対になるENDM疑似命令を記述する必要があります。</p></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>参照</b></td>
<td><br/></td>
<td><a href="#macroname.html">&lt;マクロ名&gt;<!-- <マクロ名> --></a></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>入力例</b></td>
<td><br/></td>
<td>
<pre>mov	macro	dest,src	; マクロ定義
	lda	src
	sta	dest
	endm
	:
	mov	symbol2,symbol1	; マクロ展開
</pre>
</td>
</tr>
</table>
<hr/>
</body></html>
<hr id="mradix.html">
<html><body><h2>MRADIX</h2>
<font size="-1">[ <a href="#macro.html">前ページへ</a> | <a href="#ndspif.html">次ページへ</a> ]</font>
<hr/>
<table border="0">
<tr align="left" valign="top">
<td nowrap=""><b>機能</b></td>
<td><br/></td>
<td>マクロ内の実引数にマクロ演算子<a href="#PERCENT">%</a>を用いて数値を与える時の基数を指定します。
</td>
</tr>
<tr><td>　</td></tr>
<tr align="left" valign="top">
<td nowrap=""><b>書式</b></td>
<td><br/></td>
<td>
<pre>	MRADIX	&lt;式&gt;<!-- <式> -->
</pre>
</td>
</tr>
<tr><td>　</td></tr>
<tr align="left" valign="top">
<td nowrap=""><b>説明</b></td>
<td><br/></td>
<td><p>マクロ内の実引数にマクロ演算子<a href="#PERCENT">%</a>を用いて数値を与える場合、その基数をアセンブラに指示します。&lt;式&gt;<!-- <式> -->には、10、16の何れかの値を指定し、それぞれ10進数、16進数を示します。なお、MRADIX疑似命令が指定されていない時のデフォルトは16進数表記となります。</p></td>
</tr>
<tr><td>　</td></tr>
<tr align="left" valign="top">
<td nowrap=""><b>参照</b></td>
<td><br/></td>
<td><a href="#PERCENT">%</a></td>
</tr>
<tr><td>　</td></tr>
<tr align="left" valign="top">
<td nowrap=""><b>入力例</b></td>
<td><br/></td>
<td>
<pre>set	macro	label
	db	%label		; db 10
	endm

	mradix	10		; デフォルトの基数を10進数に指定
	set	10		; db 10としてアセンブル
</pre>
</td>
</tr>
</table>
<hr/>
</body></html>
<hr id="ndspif.html">
<html><body><h2>NDSPIF</h2>
<font size="-1">[ <a href="#mradix.html">前ページへ</a> | <a href="#ndspm.html">次ページへ</a> ]</font>
<hr/>
<table border="0">
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>機能</b></td>
<td><br/></td>
<td>条件疑似命令の条件が真のブロックのみリスティングファイルに出力します。
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>書式</b></td>
<td><br/></td>
<td>
<pre>	NDSPIF
</pre>
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>説明</b></td>
<td><br/></td>
<td><p>条件疑似命令内のブロックの内、条件疑似命令の条件が真のブロック部分のみをリスティングファイルに出力します。この疑似命令は、<a href="#dspif.html">DSPIF疑似命令</a>によって指定されたリスティングファイルへの無条件出力指定を抑制する時に使用します。</p>
<p>なお、<a href="#dspif.html">DSPIF疑似命令</a>とNDSPIF疑似命令が共に指定されていない時は、<a href="#dspif.html">DSPIF疑似命令</a>を指定した時と同じように条件疑似命令の全てのブロックがリスティングファイルに出力されます。</p></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>参照</b></td>
<td><br/></td>
<td><a href="#dspif.html">DSPIF</a></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>入力例</b></td>
<td><br/></td>
<td>
<pre>	ndspif
	if	1
	:			; 条件が真のブロック部分のためリスティ
	:			; ングファイルに出力される
	else
	:			; 条件が偽のブロック部分のためリスティ
	:			; ングファイルには出力されない
	endif
</pre>
</td>
</tr>
</table>
<hr/>
</body></html>
<hr id="ndspm.html">
<html><body><h2>NDSPM</h2>
<font size="-1">[ <a href="#ndspif.html">前ページへ</a> | <a href="#nlist.html">次ページへ</a> ]</font>
<hr/>
<table border="0">
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>機能</b></td>
<td><br/></td>
<td>マクロの展開内容をリスティングファイルに出力しません。
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>書式</b></td>
<td><br/></td>
<td>
<pre>	NDSPM
</pre>
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>説明</b></td>
<td><br/></td>
<td><p>マクロが呼び出されている部分に、そのマクロを展開した内容をリスティングファイルに出力することを禁止します。マクロの展開内容をリスティングファイルに出力したい場合は、<a href="#dspm.html">DSPM疑似命令</a>を指定してください。</p>
<p>なお、<a href="#dspm.html">DSPM疑似命令</a>とNDSPM疑似命令が共に指定されていない時は、<a href="#dspm.html">DSPM疑似命令</a>を指定した時と同じようにマクロの展開内容がリスティングファイルに出力されます。</p></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>参照</b></td>
<td><br/></td>
<td><a href="#dspm.html">DSPM</a></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>入力例</b></td>
<td><br/></td>
<td>
<pre>sample	macro			; マクロ
	lda	#$10
	endm

	ndspm			; マクロ展開内容のリスティング出力指定
	sample			; マクロの展開
</pre>
<p>このようなプログラムをアセンブルすると、リスティングファイルには次のように出力されます。</p>
<pre>sample.s                               94-01-01 00:00:00......PAGE 0001

LINE# LOC      CODE             LINE

    5:00000000                  sample  macro
    6:00000000                          lda     #$10
    7:00000000                          endm
    8:00000000                  
    9:00000002                          ndspm
   10:00000002 A910           1         sample
</pre>
</td>
</tr>
</table>
<hr/>
</body></html>
<hr id="nlist.html">
<html><body><h2>NLIST</h2>
<font size="-1">[ <a href="#ndspm.html">前ページへ</a> | <a href="#off16a.html">次ページへ</a> ]</font>
<hr/>
<table border="0">
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>機能</b></td>
<td><br/></td>
<td>リスティングファイルへの出力を抑制します。
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>書式</b></td>
<td><br/></td>
<td>
<pre>	NLIST
</pre>
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>説明</b></td>
<td><br/></td>
<td><p>NLIST疑似命令以降に記述された内容をリスティングファイルに出力しません。この疑似命令は、<a href="#list.html">LIST疑似命令</a>によって指定されたリスティングファイルへの出力を抑制する時に使用します。</p>
<p>なお、<a href="#list.html">LIST疑似命令</a>とNLIST疑似命令が共に指定されていない時は、<a href="#list.html">LIST疑似命令</a>を指定した時と同じようにプログラムの内容はリスティングファイルに出力されます。</p></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>参照</b></td>
<td><br/></td>
<td><a href="#list.html">LIST</a></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>入力例</b></td>
<td><br/></td>
<td>
<pre>	nlist			; リスティングファイルへの出力を禁止
	:			: この部分はリスティングファイルには出
	:			; 力されない
	list			; リスティングファイルへの出力を許可
	:			; この部分はリスティングファイルには出
	:			; 力される
</pre>
</td>
</tr>
</table>
<hr/>
</body></html>
<hr id="off16a.html">
<html><body><h2>OFF16A（65816用）</h2>
<font size="-1">[ <a href="#nlist.html">前ページへ</a> | <a href="#off16i.html">次ページへ</a> ]</font>
<hr/>
<table border="0">
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>機能</b></td>
<td><br/></td>
<td>アキュームレータの操作を8ビットで処理します。（デフォルト）
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>書式</b></td>
<td><br/></td>
<td>
<pre>	OFF16A
</pre>
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>説明</b></td>
<td><br/></td>
<td><p>OFF16A疑似命令を指定した後に記述されたアキュームレータを操作する命令を処理する時、データの有効範囲を8ビットで処理することをアセンブラに通知します。</p>
<p>OFF16A疑似命令の指定は、<a href="#on16a.html">ON16A疑似命令</a>によって解除することができます。なお、OFF16A疑似命令および<a href="#on16a.html">ON16A疑似命令</a>が記述されていない時は、アキュームレータの操作を8ビットとして処理します。</p></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>参照</b></td>
<td><br/></td>
<td><a href="#is65.html">IS65</a>、<a href="#on16a.html">ON16A</a>、<a href="#on16i.html">ON16I</a>、<a href="#off16i.html">OFF16I</a>、<a href="#if16a.html">IF16A</a>、<a href="#ifn16a.html">IFN16A</a>、<a href="#if16i.html">IF16I</a>、<a href="#ifn16i.html">IFN16I</a></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>入力例</b></td>
<td><br/></td>
<td>
<pre>	is65
	on16a
	lda	#$1234		; アキュームレータを16ビットで処理
	:
	off16a
	lda	#$12		; アキュームレータを8ビットで処理
</pre>
</td>
</tr>
</table>
<hr/>
</body></html>
<hr id="off16i.html">
<html><body><h2>OFF16I（65816用）</h2>
<font size="-1">[ <a href="#off16a.html">前ページへ</a> | <a href="#offbankgroup.html">次ページへ</a> ]</font>
<hr/>
<table border="0">
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>機能</b></td>
<td><br/></td>
<td>インデックスレジスタを8ビットで処理します。（デフォルト）
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>書式</b></td>
<td><br/></td>
<td>
<pre>	OFF16I
</pre>
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>説明</b></td>
<td><br/></td>
<td><p>OFF16I疑似命令を指定した後に記述されたインデックスレジスタを操作する命令を処理する時、データの有効範囲を8ビットで処理することをアセンブラに通知します。</p>
<p>OFF16I疑似命令の指定は、<a href="#on16i.html">ON16I疑似命令</a>によって解除することができます。なお、OFF16I疑似命令および<a href="#on16i.html">ON16I疑似命令</a>が記述されていない時は、インデックスレジスタの操作を8ビットとして処理します。</p></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>参照</b></td>
<td><br/></td>
<td><a href="#is65.html">IS65</a>、<a href="#on16a.html">ON16A</a>、<a href="#off16a.html">OFF16A</a>、<a href="#on16i.html">ON16I</a>、<a href="#if16a.html">IF16A</a>、<a href="#ifn16a.html">IFN16A</a>、<a href="#if16i.html">IF16I</a>、<a href="#ifn16i.html">IFN16I</a></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>入力例</b></td>
<td><br/></td>
<td>
<pre>	is65
	on16i
	ldx	#$1234		; インデックスレジスタを16ビットで処理
	:
	off16i
	ldx	#$12		; インデックスレジスタを8ビットで処理
</pre>
</td>
</tr>
</table>
<hr/>
</body></html>
<hr id="offbankgroup.html">
<html><body><h2>OFFBANKGROUP</h2>
<font size="-1">[ <a href="#off16i.html">前ページへ</a> | <a href="#offcnum.html">次ページへ</a> ]</font>
<hr/>
<table border="0">
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>機能</b></td>
<td><br/></td>
<td><a href="#org.html">ORG疑似命令</a>によるロケーションカウンタを現在のバンクグループに属させません。
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>書式</b></td>
<td><br/></td>
<td>
<pre>	OFFBANKGROUP
</pre>
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>説明</b></td>
<td><br/></td>
<td><p><a href="#org.html">ORG疑似命令</a>によって指定されたロケーションカウンタを、3バイトのロングアドレスと判断します。このため、常に<a href="#org.html">ORG疑似命令</a>によって指定された値が絶対アドレスと判断され、<a href="#group.html">GROUP疑似命令</a>でバンクアドレスを指定する必要はありません。</p>
<p>なお、ISAS起動時に<a href="#IS65">-is65オプション</a>が指定されていない時は、デフォルトでOFFBANKGROUP疑似命令が指定されます。</p></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>参照</b></td>
<td><br/></td>
<td><a href="#group.html">GROUP</a>、<a href="#onbankgroup.html">ONBANKGROUP</a>、<a href="#org.html">ORG</a></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>入力例</b></td>
<td><br/></td>
<td>
<pre>	offbankgroup
bank3	group
	org	$3:$8000	; モジュールは3Hバンクの8000H番地から配
	:			; 置される
</pre>
</td>
</tr>
</table>
<hr/>
</body></html>
<hr id="offcnum.html">
<html><body><h2>OFFCNUM</h2>
<font size="-1">[ <a href="#offbankgroup.html">前ページへ</a> | <a href="#offpolish.html">次ページへ</a> ]</font>
<hr/>
<table border="0">
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>機能</b></td>
<td><br/></td>
<td>C言語ライクな定数指定を無効にします。（デフォルト）
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>書式</b></td>
<td><br/></td>
<td>
<pre>	OFFCNUM
</pre>
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>説明</b></td>
<td><br/></td>
<td><p>C言語と同じように16進数の定数を表わす時に、定数の直前に"0x"の基数演算子を指定することはできません。また、同様に2進数を"0b"、8進数を"0o"で表現することはできません。ただし、従来の基数演算子は使用することができます。</p>
<p>なお、基数演算子の詳細については、"第４章　式"の"<a href="#fix.html">定数</a>"の項目を参照してください。</p></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>参照</b></td>
<td><br/></td>
<td><a href="#oncnum.html">ONCNUM</a></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>入力例</b></td>
<td><br/></td>
<td>
<pre>	offcnum
	sta	#0x10		; エラーとなる
	stx	#$10		; これは16進数の定数として判断する
</pre>
</td>
</tr>
</table>
<hr/>
</body></html>
<hr id="offpolish.html">
<html><body><h2>OFFPOLISH</h2>
<font size="-1">[ <a href="#offcnum.html">前ページへ</a> | <a href="#offrng.html">次ページへ</a> ]</font>
<hr/>
<table border="0">
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>機能</b></td>
<td><br/></td>
<td>式を演算子の優先順位に係わらず左から順に評価します。
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>書式</b></td>
<td><br/></td>
<td>
<pre>	OFFPOLISH
</pre>
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>説明</b></td>
<td><br/></td>
<td><p>オペランドに記述している式を評価する時、<a href="#ORDER">演算子の優先順位</a>に係わらず左から順に評価します。この疑似命令は、従来のIS65アセンブラ用に記述したソースファイルをISASでアセンブルする時に使用します。なお、ISAS起動時に<a href="#IS65">-is65オプション</a>を指定した時は、自動的にOFFPOLISH疑似命令が指定されます。</p></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>参照</b></td>
<td><br/></td>
<td><a href="#onpolish.html">ONPOLISH</a></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>入力例</b></td>
<td><br/></td>
<td>
<pre>	offpolish
	lda	10h+20h*30h	; 加算が行われた後に乗算が行われる
</pre>
</td>
</tr>
</table>
<hr/>
</body></html>
<hr id="offrng.html">
<html><body><h2>OFFRNG</h2>
<font size="-1">[ <a href="#offpolish.html">前ページへ</a> | <a href="#offset.html">次ページへ</a> ]</font>
<hr/>
<table border="0">
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>機能</b></td>
<td><br/></td>
<td>レンジ情報の出力を禁止します。
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>書式</b></td>
<td><br/></td>
<td>
<pre>	OFFRNG
</pre>
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>説明</b></td>
<td><br/></td>
<td><p>OFFRNG疑似命令の記述以降のプログラムのレンジ情報を、ISASが出力するオブジェクトファイルに出力しません。</p>
<p>レンジ情報とは、記述された内容がプログラムなのかデータなのかを記録したものです。OFFRNG疑似命令を指定すると、この疑似命令を指定した部分をデバッガでデバッグする時、データ領域であっても逆アセンブル表示されるためデバッグし難くなりますが、アセンブル時間は短縮されます。この疑似命令の指定は、デバッグの終了した部分に指定すると良いでしょう。</p>
<p>なお、OFFRNG疑似命令が指定されていない時は、常にレンジ情報が出力されます。</p></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>参照</b></td>
<td><br/></td>
<td><a href="#onrng.html">ONRNG</a></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>入力例</b></td>
<td><br/></td>
<td>
<pre>	onrng
	db	$10,$20		; デバッグ時にもこのように逆アセンブル
	:			; される
	offrng
	db	$a9,$10		; デバッグ時には"lda #$10"と逆アセンブ
	:			; ルされる
</pre>
</td>
</tr>
</table>
<hr/>
</body></html>
<hr id="offset.html">
<html><body><h2>OFFSET</h2>
<font size="-1">[ <a href="#offrng.html">前ページへ</a> | <a href="#on16a.html">次ページへ</a> ]</font>
<hr/>
<table border="0">
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>機能</b></td>
<td><br/></td>
<td>相対アドレスでロケーションカウンタを指定します。
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>書式</b></td>
<td><br/></td>
<td>
<pre>	OFFSET	&lt;式&gt;<!-- <式> -->
</pre>
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>説明</b></td>
<td><br/></td>
<td><p>現在のロケーションカウンタから&lt;式&gt;<!-- <式> -->で指定したアドレス分だけロケーションカウンタを進めます。</p>
<p><a href="#onbankgroup.html">ONBANKGROUP疑似命令</a>が指定されている時は、&lt;式&gt;<!-- <式> -->には2バイトのアブソリュートアドレスを指定します。2バイト以上のアドレスを指定した時は下位2バイトのみが有効となります。また、<a href="#offbankgroup.html">OFFBANKGROUP疑似命令</a>が指定されている時は、バンクアドレスを含む3バイトのロングアドレスを指定します。バンクアドレスが省略された時は0バンクアドレスとみなされます。</p></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>参照</b></td>
<td><br/></td>
<td><a href="#group.html">GROUP</a>、<a href="#onbankgroup.html">ONBANKGROUP</a>、<a href="#offbankgroup.html">OFFBANKGROUP</a>、<a href="#org.html">ORG</a></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>入力例</b></td>
<td><br/></td>
<td>
<pre>	onbankgroup
bank80	group	$80		; 80Hバンクの指定
	org	$8000		; 8000H番地に配置する
	lda	#$00		; これは2バイト命令
	offset	$10		: 8012番地に配置される
	:
	offbankgroup
bank81	group
	offset	$00:$20		; OFFBANKGROUP疑似命令指定時は、バンク
	:			; アドレスを含む3バイトで指定
</pre>
</td>
</tr>
</table>
<hr/>
</body></html>
<hr id="on16a.html">
<html><body><h2>ON16A（65816用）</h2>
<font size="-1">[ <a href="#offset.html">前ページへ</a> | <a href="#on16i.html">次ページへ</a> ]</font>
<hr/>
<table border="0">
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>機能</b></td>
<td><br/></td>
<td>アキュームレータの操作を16ビットで処理します。
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>書式</b></td>
<td><br/></td>
<td>
<pre>	ON16A
</pre>
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>説明</b></td>
<td><br/></td>
<td><p>ON16A疑似命令を指定した後に記述されたアキュームレータを操作する命令を処理する時、データの有効範囲を16ビットで処理することをアセンブラに通知します。</p>
<p>ON16A疑似命令の指定は、<a href="#off16a.html">OFF16A疑似命令</a>によって解除することができます。なお、ON16A疑似命令および<a href="#off16a.html">OFF16A疑似命令</a>が記述されていない時は、アキュームレータの操作を8ビットとして処理します。</p></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>参照</b></td>
<td><br/></td>
<td><a href="#is65.html">IS65</a>、<a href="#off16a.html">OFF16A</a>、<a href="#on16i.html">ON16I</a>、<a href="#off16i.html">OFF16I</a>、<a href="#if16a.html">IF16A</a>、<a href="#ifn16a.html">IFN16A</a>、<a href="#if16i.html">IF16I</a>、<a href="#ifn16i.html">IFN16I</a></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>入力例</b></td>
<td><br/></td>
<td>
<pre>	is65
	on16a
	lda	#$1234		; アキュームレータを16ビットで処理
	:
	off16a
	lda	#$12		; アキュームレータを8ビットで処理
</pre>
</td>
</tr>
</table>
<hr/>
</body></html>
<hr id="on16i.html">
<html><body><h2>ON16I（65816用）</h2>
<font size="-1">[ <a href="#on16a.html">前ページへ</a> | <a href="#onbankgroup.html">次ページへ</a> ]</font>
<hr/>
<table border="0">
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>機能</b></td>
<td><br/></td>
<td>インデックスレジスタの操作を16ビットで処理します。
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>書式</b></td>
<td><br/></td>
<td>
<pre>	ON16I
</pre>
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>説明</b></td>
<td><br/></td>
<td><p>ON16I疑似命令を指定した後に記述されたインデックスレジスタを操作する命令を処理する時、データの有効範囲を16ビットで処理することをアセンブラに通知します。</p>
<p>ON16I疑似命令の指定は、<a href="#off16i.html">OFF16I疑似命令</a>によって解除することができます。なお、ON16I疑似命令および<a href="#off16i.html">OFF16I疑似命令</a>が記述されていない時は、インデックスレジスタの操作を8ビットとして処理します。</p></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>参照</b></td>
<td><br/></td>
<td><a href="#is65.html">IS65</a>、<a href="#on16a.html">ON16A</a>、<a href="#off16a.html">OFF16A</a>、<a href="#off16i.html">OFF16I</a>、<a href="#if16a.html">IF16A</a>、<a href="#ifn16a.html">IFN16A</a>、<a href="#if16i.html">IF16I</a>、<a href="#ifn16i.html">IFN16I</a></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>入力例</b></td>
<td><br/></td>
<td>
<pre>	is65
	on16i
	ldx	#$1234		; インデックスレジスタを16ビットで処理
	:
	off16i
	ldx	#$12		; インデックスレジスタを8ビットで処理
</pre>
</td>
</tr>
</table>
<hr/>
</body></html>
<hr id="onbankgroup.html">
<html><body><h2>ONBANKGROUP</h2>
<font size="-1">[ <a href="#on16i.html">前ページへ</a> | <a href="#oncnum.html">次ページへ</a> ]</font>
<hr/>
<table border="0">
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>機能</b></td>
<td><br/></td>
<td><a href="#org.html">ORG疑似命令</a>によるロケーションカウンタを、<a href="#group.html">GROUP疑似命令</a>で指定したバンクグループに属させます。
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>書式</b></td>
<td><br/></td>
<td>
<pre>	ONBANKGROUP
</pre>
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>説明</b></td>
<td><br/></td>
<td><p><a href="#group.html">GROUP疑似命令</a>によって指定されたバンクアドレスと<a href="#org.html">ORG疑似命令</a>によって指定されたロケーションカウンタから、絶対アドレスを判断します。このため、<a href="#group.html">GROUP疑似命令</a>によってバンクアドレスを、<a href="#org.html">ORG疑似命令</a>によってロケーションカウンタを指定する必要があります。通常、65816のようにバンク管理されたプログラムを作成する時に使用します。</p>
<p>なお、ISAS起動時に<a href="#IS65">-is65オプション</a>が指定された時は、デフォルトでONBANKGROUP疑似命令が指定されます。</p></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>参照</b></td>
<td><br/></td>
<td><a href="#group.html">GROUP</a>、<a href="#offbankgroup.html">OFFBANKGROUP</a>、<a href="#org.html">ORG</a></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>入力例</b></td>
<td><br/></td>
<td>
<pre>	onbankgroup
bank80	group	$80		; バンクの指定
	org	$8000		; アドレスの指定
	:			; モジュールは80Hバンクの8000H番地から
	:			; 配置される
</pre>
</td>
</tr>
</table>
<hr/>
</body></html>
<hr id="oncnum.html">
<html><body><h2>ONCNUM</h2>
<font size="-1">[ <a href="#onbankgroup.html">前ページへ</a> | <a href="#onpolish.html">次ページへ</a> ]</font>
<hr/>
<table border="0">
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>機能</b></td>
<td><br/></td>
<td>C言語ライクな定数指定を有効にします。
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>書式</b></td>
<td><br/></td>
<td>
<pre>	ONCNUM
</pre>
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>説明</b></td>
<td><br/></td>
<td><p>ONCNUM疑似命令を指定することにより、C言語と同じように16進数の定数を表わす時に、定数の直前に"0x"の基数演算子を指定することができます。また、2進数には"0b"、8進数には"0o"を付加して表現することができます。もちろん、従来の基数演算子も合わせて使用することができます。</p>
<p>なお、基数演算子の詳細については、"第４章　式"の"<a href="#fix.html">定数</a>"の項目を参照してください。</p></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>参照</b></td>
<td><br/></td>
<td><a href="#offcnum.html">OFFCNUM</a></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>入力例</b></td>
<td><br/></td>
<td>
<pre>	oncnum
	sta	#0x10		; 16進数の定数として判断する
	stx	#$10		; これも16進数の定数として判断する
</pre>
</td>
</tr>
</table>
<hr/>
</body></html>
<hr id="onpolish.html">
<html><body><h2>ONPOLISH</h2>
<font size="-1">[ <a href="#oncnum.html">前ページへ</a> | <a href="#onrng.html">次ページへ</a> ]</font>
<hr/>
<table border="0">
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>機能</b></td>
<td><br/></td>
<td>式を演算子の優先順位によって評価します。
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>書式</b></td>
<td><br/></td>
<td>
<pre>	ONPOLISH
</pre>
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>説明</b></td>
<td><br/></td>
<td><p>オペランドに記述している式を評価する時、<a href="#ORDER">演算子の優先順位</a>に従って評価します。C言語のように演算子の優先順位を考慮した式を記述したい時に、この疑似命令を指定します。なお、ISAS起動時に<a href="#IS65">-is65オプション</a>を指定した時は、自動的にONPOLISH疑似命令が指定されます。</p>
<p>演算子の優先順位については、"第４章　式"の"<a href="#ORDER">演算子の優先順位</a>"の項目を参照してください。</p></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>参照</b></td>
<td><br/></td>
<td><a href="#offpolish.html">OFFPOLISH</a></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>入力例</b></td>
<td><br/></td>
<td>
<pre>	onpolish
	lda	10h+20h*30h	; 乗算が行われた後に加算が行われる
</pre>
</td>
</tr>
</table>
<hr/>
</body></html>
<hr id="onrng.html">
<html><body><h2>ONRNG</h2>
<font size="-1">[ <a href="#onpolish.html">前ページへ</a> | <a href="#opti.html">次ページへ</a> ]</font>
<hr/>
<table border="0">
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>機能</b></td>
<td><br/></td>
<td>レンジ情報の出力を許可します。（デフォルト）
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>書式</b></td>
<td><br/></td>
<td>
<pre>	ONRNG
</pre>
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>説明</b></td>
<td><br/></td>
<td><p>ONRNG疑似命令の記述以降のプログラムのレンジ情報を、ISASが出力するオブジェクトファイルに出力します。</p>
<p>レンジ情報とは、記述された内容がプログラムなのかデータなのかを記録したものです。ONRNG疑似命令を指定することにより、この疑似命令を指定した部分をデバッガでデバッグする時、プログラム領域は逆アセンブル表示で、またデータ領域は<a href="#defb.html">DEFB/DB</a>、<a href="#defh.html">DEFH/DH</a>、<a href="#defw.html">DEFW/DW</a>、<a href="#defd.html">DEFD/DD</a>、<a href="#defl.html">DEFL/DL</a>、または<a href="#defs.html">DEFS/DS疑似命令</a>によって表示されます。</p>
<p>なお、ONRNG疑似命令および<a href="#offrng.html">OFFRNG疑似命令</a>が指定されていない時は、常にレンジ情報が出力されます。</p></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>参照</b></td>
<td><br/></td>
<td><a href="#offrng.html">OFFRNG</a></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>入力例</b></td>
<td><br/></td>
<td>
<pre>	onrng
	db	$10,$20		; デバッグ時にもこのように逆アセンブル
	:			; される
</pre>
</td>
</tr>
</table>
<hr/>
</body></html>
<hr id="opti.html">
<html><body><h2>OPTI（65816用）</h2>
<font size="-1">[ <a href="#onrng.html">前ページへ</a> | <a href="#org.html">次ページへ</a> ]</font>
<hr/>
<table border="0">
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>機能</b></td>
<td><br/></td>
<td>1パス目アセンブル時に未解決シンボルのオペランド長を指定します。
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>書式</b></td>
<td><br/></td>
<td>
<pre>	OPTI	&lt;式&gt;<!-- <式> -->
</pre>
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>説明</b></td>
<td><br/></td>
<td><p>1パス目のアセンブル時に解決できないオペランド部のシンボルが見つかった場合、確保するシンボルのオペランド長を指定します。&lt;式&gt;<!-- <式> -->に0から5までの値を指定することにより、未解決シンボルのオペランド長を決定する優先順位を指定することができます。</p>
<table border="1" width="100%">
<tr bgcolor="gray">
<th align="LEFT" nowrap="" valign="TOP">&lt;式&gt;<!-- <式> --></th>
<th align="LEFT" colspan="3" nowrap="" valign="TOP">アドレッシングの優先順位</th>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="">0</td>
<td nowrap="">ダイレクト</td>
<td nowrap="">アブソリュート</td>
<td nowrap="">ロング</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="">1</td>
<td nowrap="">アブソリュート</td>
<td nowrap="">ダイレクト</td>
<td nowrap="">ロング</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="">2</td>
<td nowrap="">アブソリュート</td>
<td nowrap="">ロング</td>
<td nowrap="">ダイレクト</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="">3</td>
<td nowrap="">ダイレクト</td>
<td nowrap="">ロング</td>
<td nowrap="">アブソリュート</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="">4</td>
<td nowrap="">ロング</td>
<td nowrap="">ダイレクト</td>
<td nowrap="">アブソリュート</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="">5</td>
<td nowrap="">ロング</td>
<td nowrap="">アブソリュート</td>
<td nowrap="">ダイレクト</td>
</tr>
</table>
<p>例えば、次のようにOPTI疑似命令の&lt;式&gt;<!-- <式> -->が1の時、</p>
<pre>	opti	1
	op_code	symbol
symbol	dw	00H
</pre>
<p>ope_codeが指定できるアドレッシングを次の優先順位に従ってチェックし、未解決シンボルsymbolのオペランド長として確保します。</p>
<ol>
<li>アブソリュートアドレッシングを指定することができる時は2バイト
</li><li>ダイレクトアドレッシングを指定することができる時は1バイト
</li><li>何れも指定できない時は3バイト
</li></ol>
<p>なお、ISAS起動時に<a href="#IS65">-is65オプション</a>を指定した時のOPTI疑似命令のデフォルト値は1、指定しない時のデフォルト値は5となっています。</p></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>参照</b></td>
<td><br/></td>
<td><a href="#is65.html">IS65</a></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>入力例</b></td>
<td><br/></td>
<td>
<pre>	is65
	opti	2		; アブソリュート、ロング、ダイレクトの
	:			; 順に最適化する
</pre>
</td>
</tr>
</table>
<hr/>
</body></html>
<hr id="org.html">
<html><body><h2>ORG</h2>
<font size="-1">[ <a href="#opti.html">前ページへ</a> | <a href="#page.html">次ページへ</a> ]</font>
<hr/>
<table border="0">
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>機能</b></td>
<td><br/></td>
<td>絶対アドレスでロケーションカウンタを指定します。
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>書式</b></td>
<td><br/></td>
<td>
<pre>	ORG	&lt;式&gt;<!-- <式> -->
</pre>
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>説明</b></td>
<td><br/></td>
<td><p>ロケーションカウンタを&lt;式&gt;<!-- <式> -->に絶対アドレスで指定します。</p>
<p><a href="#onbankgroup.html">ONBANKGROUP疑似命令</a>が指定されている時は、&lt;式&gt;<!-- <式> -->には2バイトのアブソリュートアドレスを指定します。2バイト以上のアドレスを指定した時は下位2バイトのみが有効となります。また、<a href="#offbankgroup.html">OFFBANKGROUP疑似命令</a>が指定されている時は、バンクアドレスを含む3バイトのロングアドレスを指定します。バンクアドレスが省略された時は0バンクアドレスとみなされます。</p>
<p>ORG疑似命令は複数個指定しても良く、また低位アドレスから高位アドレスへの順に指定する必要もありません。ただし、モジュールが重なった時は上書きされるため、後から指定されたモジュールが有効となります。</p>
<p>バンクの先頭に配置されるモジュールの先頭には、このORG疑似命令によってロケーションカウンタを必ず指定する必要があります。</p></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>参照</b></td>
<td><br/></td>
<td><a href="#group.html">GROUP</a>、<a href="#onbankgroup.html">ONBANKGROUP</a>、<a href="#offbankgroup.html">OFFBANKGROUP</a>、<a href="#offset.html">OFFSET</a></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>入力例</b></td>
<td><br/></td>
<td>
<pre>	onbankgroup
bank80	group	$80		; 80Hバンクの指定
	org	$8000		; 8000H番地に配置する
	:
	offbankgroup
bank81	group
	org	$0:$9000	; 0Hバンクの9000H番地に配置する
</pre>
</td>
</tr>
</table>
<hr/>
</body></html>
<hr id="page.html">
<html><body><h2>PAGE</h2>
<font size="-1">[ <a href="#org.html">前ページへ</a> | <a href="#puball.html">次ページへ</a> ]</font>
<hr/>
<table border="0">
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>機能</b></td>
<td><br/></td>
<td>リスティングファイルの1ページの行数、および改ページを指定します。
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>書式</b></td>
<td><br/></td>
<td>
<pre>	PAGE	[行数]
</pre>
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>説明</b></td>
<td><br/></td>
<td><p>[行数]には、リスティングファイルの1ページの行数を10から255までの値で指定します。また、[行数]に0を指定すると、改ページを行わないようにすることができます。任意の場所で改ページを行いたい時には、[行数]を指定せずにPAGE疑似命令を記述することによりPAGE疑似命令の直前で改ページが行われるようになります。</p>
<p>なお、PAGE疑似命令を指定しない時のデフォルト行数は66行です。</p></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>参照</b></td>
<td><br/></td>
<td><a href="#title.html">TITLE</a></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>入力例</b></td>
<td><br/></td>
<td>
<pre>	page	50		; 1ページ50行に指定
	:
	page			; この行の直前で改ページを行う
</pre>
</td>
</tr>
</table>
<hr/>
</body></html>
<hr id="puball.html">
<html><body><h2>PUBALL</h2>
<font size="-1">[ <a href="#page.html">前ページへ</a> | <a href="#public.html">次ページへ</a> ]</font>
<hr/>
<table border="0">
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>機能</b></td>
<td><br/></td>
<td>ソースファイル内の全ての定義シンボルを外部定義シンボルとして宣言します。
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>書式</b></td>
<td><br/></td>
<td>
<pre>	PUBALL
</pre>
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>説明</b></td>
<td><br/></td>
<td><p>ソースファイル内で定義している全てのシンボルが、他のソースファイルでの参照の有無に係らず外部定義シンボルとしてアセンブラに通知します。PUBALL疑似命令を指定した時は、<a href="#public.html">PUBLIC</a>、<a href="#pubon.html">PUBON</a>、<a href="#puboff.html">PUBOFF疑似命令</a>は指定する必要はなく、また、指定されていても無視されます。ただし、PUBALL疑似命令を指定後に<a href="#puboff.html">PUBOFF疑似命令</a>を指定すると、"Already PUBALL.（既にPUBALL状態です。）"のウォーニングが出力されます。</p>
<p>PUBALL疑似命令はローカルシンボルに対しては影響を与えません。</p></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>参照</b></td>
<td><br/></td>
<td><a href="#public.html">PUBLIC</a>、<a href="#pubon.html">PUBON</a>、<a href="#puboff.html">PUBOFF</a></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>入力例</b></td>
<td><br/></td>
<td>
<pre>ソースファイル1
	puball			; シンボルsample1、sample2は外部定義シ
	:			; ンボルとして宣言される
sample1	equ	$10
sample2	equ	$20

ソースファイル2
	extern	sample1,sample2	; 外部参照が可能
	lda	sample1
	ldx	sample2
</pre>
</td>
</tr>
</table>
<hr/>
</body></html>
<hr id="public.html">
<html><body><h2>PUBLIC</h2>
<font size="-1">[ <a href="#puball.html">前ページへ</a> | <a href="#puboff.html">次ページへ</a> ]</font>
<hr/>
<table border="0">
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>機能</b></td>
<td><br/></td>
<td>シンボルを外部定義として宣言します。
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>書式</b></td>
<td><br/></td>
<td>
<pre>	PUBLIC	&lt;名前&gt;[,名前] ... [,名前]<!-- <名前>[,名前] ... [,名前] -->
</pre>
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>説明</b></td>
<td><br/></td>
<td><p>ソースファイル内で定義しているシンボルが、他のソースファイルで参照されていることをアセンブラに通知します。&lt;名前&gt;<!-- <名前> -->には、外部定義されるシンボル名を記述します。複数の&lt;名前&gt;<!-- <名前> -->を与える時は、それぞれの&lt;名前&gt;<!-- <名前> -->をカンマ（,）で区切ってください。なお、<a href="#puball.html">PUBALL疑似命令</a>を指定した時は、PUBLIC疑似命令を指定する必要はありません。</p>
<p>ワーク用RAMなどのアドレスの決まった領域のシンボルは、PUBLIC疑似命令で外部定義するよりも、シンボル定義したファイルを<a href="#lib.html">LIB/FILE/INCLUDE疑似命令</a>で各ソースファイルの先頭で読み込んだ方が、アセンブルおよびリンクがより高速に処理されます。</p></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>参照</b></td>
<td><br/></td>
<td><a href="#puball.html">PUBALL</a>、<a href="#pubon.html">PUBON</a>、<a href="#puboff.html">PUBOFF</a>、<a href="#extern.html">EXTERN</a>、<a href="#global.html">GLOBAL</a>、<a href="#local.html">LOCAL</a></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>入力例</b></td>
<td><br/></td>
<td>
<pre>ソースファイル1
	public	sample		; 定義しているシンボルsampleが外部で参
	:			; 照されるため外部定義シンボル宣言する
sample	ds	$55

ソースファイル2
	extern	sample		; 参照しているシンボルsampleが外部で定
	:			; 義されるため外部参照シンボル宣言する
	lda	sample
</pre>
</td>
</tr>
</table>
<hr/>
</body></html>
<hr id="puboff.html">
<html><body><h2>PUBOFF</h2>
<font size="-1">[ <a href="#public.html">前ページへ</a> | <a href="#pubon.html">次ページへ</a> ]</font>
<hr/>
<table border="0">
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>機能</b></td>
<td><br/></td>
<td><a href="#pubon.html">PUBON疑似命令</a>によって指定された外部定義シンボルの宣言を解除します。
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>書式</b></td>
<td><br/></td>
<td>
<pre>	PUBOFF
</pre>
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>説明</b></td>
<td><br/></td>
<td><p>PUBOFF疑似命令は、<a href="#pubon.html">PUBON疑似命令</a>で指定された外部定義シンボルの宣言を解除します。なお、<a href="#puball.html">PUBALL疑似命令</a>がソースファイル内で記述されている場合は、PUBOFF疑似命令は無視されます。ただし、<a href="#puball.html">PUBALL疑似命令</a>を指定後にPUBOFF疑似命令を指定すると、"Already PUBALL.（既にPUBALL状態です。）"のウォーニングが出力されます。</p></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>参照</b></td>
<td><br/></td>
<td><a href="#public.html">PUBLIC</a>、<a href="#puball.html">PUBALL</a>、<a href="#pubon.html">PUBON</a></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>入力例</b></td>
<td><br/></td>
<td>
<pre>	pubon
sample1				; 外部定義シンボルとして宣言される
	puboff			; PUBON疑似命令の解除
sample2				; 外部定義シンボルとして宣言されない
</pre>
</td>
</tr>
</table>
<hr/>
</body></html>
<hr id="pubon.html">
<html><body><h2>PUBON</h2>
<font size="-1">[ <a href="#puboff.html">前ページへ</a> | <a href="#radix.html">次ページへ</a> ]</font>
<hr/>
<table border="0">
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>機能</b></td>
<td><br/></td>
<td>PUBON疑似命令以降に定義されたシンボルを外部定義シンボルとして宣言します。
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>書式</b></td>
<td><br/></td>
<td>
<pre>	PUBON
</pre>
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>説明</b></td>
<td><br/></td>
<td><p>PUBON疑似命令は、<a href="#puboff.html">PUBOFF疑似命令</a>までに定義されたシンボルを外部定義シンボルとして宣言します。ソースファイル内に記述している複数のシンボルを、別途外部定義シンボルとして宣言せずに、まとめて外部定義シンボルとして宣言したい時に使用します。なお、<a href="#puball.html">PUBALL疑似命令</a>がソースファイル内で記述されている場合は、PUBON疑似命令は無視されます。</p></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>参照</b></td>
<td><br/></td>
<td><a href="#public.html">PUBLIC</a>、<a href="#puball.html">PUBALL</a>、<a href="#puboff.html">PUBOFF</a></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>入力例</b></td>
<td><br/></td>
<td>
<pre>	pubon
sample1				; 外部定義シンボルとして宣言される
	puboff			; PUBON疑似命令の解除
sample2				; 外部定義シンボルとして宣言されない
</pre>
</td>
</tr>
</table>
<hr/>
</body></html>
<hr id="radix.html">
<html><body><h2>RADIX</h2>
<font size="-1">[ <a href="#pubon.html">前ページへ</a> | <a href="#rsvreg.html">次ページへ</a> ]</font>
<hr/>
<table border="0">
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>機能</b></td>
<td><br/></td>
<td>定数に基数演算子を省略した時の基数を指定します。
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>書式</b></td>
<td><br/></td>
<td>
<pre>	RADIX	&lt;式&gt;<!-- <式> -->
</pre>
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>説明</b></td>
<td><br/></td>
<td><p>RADIX疑似命令以降に記述された定数の内、定数に基数を示す文字（基数指定子）が付加されていない時の基数をアセンブラに指示します。&lt;式&gt;<!-- <式> -->には、2、8、10、16の値を指定し、それぞれ2進数、8進数、10進数、16進数を示します。このRADIX疑似命令によって基数が指示されている場合でも、定数に基数指定子が指定された場合は基数指定子の評価が優先されます。</p></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>入力例</b></td>
<td><br/></td>
<td>
<pre>	radix	16		; デフォルトの基数を16進数に指定
	lda	#10		; 16進数の10として扱われる
	ldx	#10b		; 基数指定子が付加されているので2進数の
	:			; 10として扱われる
</pre>
<p>なお、RADIX疑似命令が指定されていない場合、ISASは10進数をデフォルトの基数値として扱います。また、基数指定子については、"第４章　式"の"<a href="#fix.html">定数</a>"の項目を参照してください。</p>
</td>
</tr>
</table>
<hr/>
</body></html>
<hr id="rsvreg.html">
<html><body><h2>RSVREG（V810SF用）</h2>
<font size="-1">[ <a href="#radix.html">前ページへ</a> | <a href="#title.html">次ページへ</a> ]</font>
<hr/>
<table border="0">
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>機能</b></td>
<td><br/></td>
<td>V810SF命令展開の有無の指定、および命令展開時にアセンブラが使用する汎用レジスタを指定します。
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>書式</b></td>
<td><br/></td>
<td>
<pre>	RSVREG	&lt;レジスタ&gt;<!-- <レジスタ> -->
</pre>
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>説明</b></td>
<td><br/></td>
<td><p>&lt;レジスタ&gt;<!-- <レジスタ> -->には、0から31までの値を指定します。&lt;レジスタ&gt;<!-- <レジスタ> -->に0を指定した時は命令展開は行われません。また、&lt;レジスタ&gt;<!-- <レジスタ> -->に1から31までの値を指定した時は、r&lt;レジスタ&gt;<!-- <レジスタ> -->の汎用レジスタを命令展開時に使用するレジスタとして予約します。</p>
<p>V810SFでは、32ビットの定数値をレジスタに代入する命令コード、および32ビットのディスプレースメントを用いてメモリを参照する命令コードは用意されていません。このため、ISASではこれらのニーモニックを用意し、アセンブル時に既存のV810SFの命令コードに展開してアセンブルします。RSVREG疑似命令は、この命令展開時にアセンブラが使用する汎用レジスタを指定します。</p>
<p>なお、イミディエイト値を与えるオペランドの先頭に、ピリオド（.）またはスラッシュ（/）のプリフィックスを付加すると命令展開は行われません。命令展開の詳細については、"<a href="#extend.html">付録２　V810SF命令展開</a>"を参照してください。</p></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>参照</b></td>
<td><br/></td>
<td><a href="#isv810.html">ISV810</a></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>入力例</b></td>
<td><br/></td>
<td>
<pre>	isv810
	rsvreg	1		; r1レジスタを命令展開時に使用する
</pre>
</td>
</tr>
</table>
<hr/>
</body></html>
<hr id="title.html">
<html><body><h2>TITLE</h2>
<font size="-1">[ <a href="#rsvreg.html">前ページへ</a> | <a href="#undeferr.html">次ページへ</a> ]</font>
<hr/>
<table border="0">
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>機能</b></td>
<td><br/></td>
<td>リスティングファイルの各ページのヘッダを指定します。
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>書式</b></td>
<td><br/></td>
<td>
<pre>	TITLE	&lt;タイトル&gt;<!-- <タイトル> -->
</pre>
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>説明</b></td>
<td><br/></td>
<td><p>ISAS起動時に<a href="#LIST">-listオプション</a>を指定した時に出力されるリスティングファイルの各ページのヘッダに表示する文字列を指定します。</p>
<p>&lt;タイトル&gt;<!-- <タイトル> -->には、行の終わりまで、または50字以上記述されている時には50字までの文字列をタイトルとして使用します。このため、TITLE疑似命令を記述した行にはコメントを記述することはできないので注意してください。ソースファイルの1行目でTITLE疑似命令を指定した時には1ページ目から、また、2行目以降でTITLE疑似命令を指定した時には指定した次のページから有効になります。</p>
<p>なお、TITLE疑似命令を指定しない時は、ヘッダにはソースファイル名が表示されます。</p></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>参照</b></td>
<td><br/></td>
<td><a href="#page.html">PAGE</a></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>入力例</b></td>
<td><br/></td>
<td>
<pre>	title	This is sample program.
</pre>
<p>このようにTITLE疑似命令を指定した時、リスティングファイルのヘッダには次のように表示されます。</p>
<pre>This is sample program.                94-01-01 00:00:00......PAGE 0001

LINE# LOC      CODE             LINE

    1:00000000                          title   This is sample program.
    2:00000000
</pre>
<p>また、TITLE疑似命令を指定しない時は、次のようにヘッダにはソースファイル名が表示されます。</p>
<pre>sample.s                               94-01-01 00:00:00......PAGE 0001

LINE# LOC      CODE             LINE

    1:00000000                          page    66
    2:00000000
</pre>
</td>
</tr>
</table>
<hr/>
</body></html>
<hr id="undeferr.html">
<html><body><h2>UNDEFERR</h2>
<font size="-1">[ <a href="#title.html">前ページへ</a> | <a href="#undefext.html">次ページへ</a> ]</font>
<hr/>
<table border="0">
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>機能</b></td>
<td><br/></td>
<td>未定義シンボルを発見した時にエラーを出力します。（デフォルト）
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>書式</b></td>
<td><br/></td>
<td>
<pre>	UNDEFERR
</pre>
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>説明</b></td>
<td><br/></td>
<td><p>未定義シンボルを発見した時、ISASに"Undefined symbol.（シンボルが見つかりません。）"のエラーを出力するように指示します。<a href="#undefext.html">UNDEFEXT疑似命令</a>が指定されると、UNDEFERR疑似命令は解除されます。</p>
<p>なお、<a href="#undefext.html">UNDEFEXT疑似命令</a>、およびUNDEFERR疑似命令が指定されていない時は、UNDEFERR疑似命令が指定された時と同じように、未定義シンボルに対してエラーを出力します。</p></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>参照</b></td>
<td><br/></td>
<td><a href="#undefext.html">UNDEFEXT</a></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>入力例</b></td>
<td><br/></td>
<td>
<pre>	undeferr
	lda	sample		; シンボル名sampleが未定義のためエラー
	:			; が発生
</pre>
</td>
</tr>
</table>
<hr/>
</body></html>
<hr id="undefext.html">
<html><body><h2>UNDEFEXT</h2>
<font size="-1">[ <a href="#undeferr.html">前ページへ</a> | <a href="#wdprefix.html">次ページへ</a> ]</font>
<hr/>
<table border="0">
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>機能</b></td>
<td><br/></td>
<td>未定義シンボルを外部参照シンボルとみなします。
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>書式</b></td>
<td><br/></td>
<td>
<pre>	UNDEFEXT
</pre>
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>説明</b></td>
<td><br/></td>
<td><p>参照しているシンボルが、ソースファイル内で<a href="#extern.html">EXTERN疑似命令</a>または<a href="#global.html">GLOBAL疑似命令</a>によって外部参照シンボルとして宣言されていない時、そのシンボルを自動的に外部参照シンボルとして宣言します。<a href="#undeferr.html">UNDEFERR疑似命令</a>が指定されると、UNDEFEXT疑似命令は解除されます。</p>
<p>なお、UNDEFEXT疑似命令、および<a href="#undeferr.html">UNDEFERR疑似命令</a>が指定されていない時は、<a href="#undeferr.html">UNDEFERR疑似命令</a>が指定された時と同じように、未定義シンボルに対してエラーを出力します。</p></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>参照</b></td>
<td><br/></td>
<td><a href="#undeferr.html">UNDEFERR</a></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>入力例</b></td>
<td><br/></td>
<td>
<pre>	undefext
	lda	sample		; シンボル名sampleが未定義だが、自動的
	:			; に外部参照シンボルとみなしエラーは発
	:			; 生しない
</pre>
</td>
</tr>
</table>
<hr/>
</body></html>
<hr id="wdprefix.html">
<html><body><h2>WDPREFIX（65816用）</h2>
<font size="-1">[ <a href="#undefext.html">前ページへ</a> | <a href="#substitute.html">次ページへ</a> ]</font>
<hr/>
<table border="0">
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>機能</b></td>
<td><br/></td>
<td>Western Design Center社用のプリフィックスを使用します。
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>書式</b></td>
<td><br/></td>
<td>
<pre>	WDPREFIX
</pre>
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>説明</b></td>
<td><br/></td>
<td><p>ダイレクトアドレッシング、アブソリュートアドレッシング、およびロングアドレッシングを明示的するためのプリフィックスに、Western Design Center社用のプリフィックスを使用します。次に示すプリフィックスをシンボルの直前に記述することにより、特定のアドレッシングを指定することができます。</p>
<ul>
<li>ダイレクトアドレッシング	&lt;<!-- < -->（小なり記号）
</li><li>アブソリュートアドレッシング	&gt;<!-- > -->（大なり記号）
</li><li>ロングアドレッシング		^（キャレット）
</li></ul>
<p>なお、WDPREFIX疑似命令および<a href="#isprefix.html">ISPREFIX疑似命令</a>の何れの疑似命令も指定しない時は、INTELLIGENT SYSTEMS社用のプリフィックスを使用する指定になります。</p></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>参照</b></td>
<td><br/></td>
<td><a href="#is65.html">IS65</a>、<a href="#isprefix.html">ISPREFIX</a></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>入力例</b></td>
<td><br/></td>
<td>
<pre>	is65
	extern	reg0, symbol
	wdprefix
	lda	&lt;reg0		; ダイレクトアドレッシング
	lda	&gt;reg0		; アブソリュートアドレッシング
	lda	^symbol		; ロングアドレッシング
</pre>
</td>
</tr>
</table>
<hr/>
</body></html>
<hr id="substitute.html">
<html><body><h2>=</h2>
<font size="-1">[ <a href="#wdprefix.html">前ページへ</a> | <a href="#macroname.html">次ページへ</a> ]</font>
<hr/>
<table border="0">
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>機能</b></td>
<td><br/></td>
<td>再定義可能なシンボルに値を定義します。
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>書式</b></td>
<td><br/></td>
<td>
<pre>&lt;名前&gt;	=	&lt;式&gt;<!-- <名前>	=	<式> -->
</pre>
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>説明</b></td>
<td><br/></td>
<td><p>&lt;名前&gt;<!-- <名前> -->の部分に記述したシンボルに&lt;式&gt;<!-- <式> -->の値を割り当てるもので、定義後&lt;名前&gt;<!-- <名前> -->を参照することにより、その&lt;式&gt;<!-- <式> -->の値を得ることができます。なお、=疑似命令は&lt;名前&gt;<!-- <名前> -->を再定義することができますが、<a href="#equ.html">EQU疑似命令</a>は&lt;名前&gt;<!-- <名前> -->を再定義することはできません。</p></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>参照</b></td>
<td><br/></td>
<td><a href="#equ.html">EQU</a></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>入力例</b></td>
<td><br/></td>
<td>
<pre>sample	=	$10		; シンボル名sampleに$10を割り当てる
	lda	#sample		; 10Hをレジスタにロード
sample	=	$20		; 再定義できるのでエラーは発生しない
	lda	#sample		; 20Hをレジスタにロード
</pre>
</td>
</tr>
</table>
<hr/>
</body></html>
<hr id="macroname.html">
<html><body><h2>&lt;マクロ名&gt;<!-- <マクロ名> --></h2>
<font size="-1">[ <a href="#substitute.html">前ページへ</a> | <a href="#isasmotion.html">次ページへ</a> ]</font>
<hr/>
<table border="0">
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>機能</b></td>
<td><br/></td>
<td>マクロ定義されたマクロを展開します。
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>書式</b></td>
<td><br/></td>
<td>
<pre>	&lt;マクロ名&gt;	[実引数][,実引数] ... [,実引数]<!-- <マクロ名>	[実引数][,実引数] ... [,実引数] -->
</pre>
</td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>説明</b></td>
<td><br/></td>
<td><p>マクロ定義によって定義された&lt;マクロ名&gt;<!-- <マクロ名> -->をオペコードフィールドに記述することにより、定義したマクロを展開します。マクロの展開は、予めマクロ定義を行っておく必要があります。</p>
<p>[実引数]は、マクロ定義で指定された仮引数と左から順に対応し、仮引数と同じ名前の部分に[実引数]の値を代入します。</p>
<p>なお、実引数の数とマクロ定義した時の仮引数の数は一致していなくてもかまいませんが、実引数の数が仮引数の数より多い場合は余った実引数は無視され、少ない場合は不足する仮引数は空文字（長さ0の文字列）とみなされます。また仮引数のあるマクロに対して実引数をまったく指定しないこともできます。</p></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>参照</b></td>
<td><br/></td>
<td><a href="#macro.html">MACRO</a></td>
</tr>
<tr><td>　</td></tr>
<tr align="LEFT" valign="TOP">
<td nowrap=""><b>入力例</b></td>
<td><br/></td>
<td>
<pre>mov	macro	dest,src	; マクロ定義
	lda	src
	sta	dest
	endm
	:
	mov	symbol2,symbol1	; マクロ展開
</pre>
</td>
</tr>
</table>
<hr/>
</body></html>
<hr id="isasmotion.html">
<html><body><h2>ISASの起動</h2>
<font size="-1">[ <a href="#macroname.html">前ページへ</a> | <a href="#isasoption.html">次ページへ</a> ]</font>
<hr/>
<p>ISASを起動するには、Windows 95のMS-DOSプロンプトやWindows NTのコマンドプロンプト、MS-DOSやPC DOSのコマンドラインより次の書式に従い入力すると起動することができます。なお、起動オプションを除くコマンドやファイル名は大文字と小文字の何れでも指定することができます。</p>
<pre>C:¥&gt;isas [-options] source-file(.s)
</pre>
<h4>[-options]</h4>
<p>ISASの起動オプションを指定します。</p>
<p>起動オプションはハイフン（-）で始まる文字列であり、省略または一つ以上のオプションを指定することができます。複数個指定する時は、各オプションをスペースで区切ってください。詳しくは、次の"<a href="#isasoption.html">起動オプション</a>"の項目を参照してください。</p>
<h4>source-file(.s)</h4>
<p>ソースファイル名を指定します。</p>
<p>アセンブルするソースファイル名を指定します。拡張子を省略した場合は、拡張子".s"を付加したファイル名として判断します。また、拡張子が".s"以外のファイルをアセンブルする場合は、拡張子も指定してください。</p>
<p>例えば、ファイル名"sample1.s"のソースファイルをアセンブルする時は、次のように拡張子を指定する必要はありません。</p>
<pre>C:¥&gt;isas sample1
</pre>
<p>ファイル名"sample2.x65"のソースファイルをアセンブルする時は、拡張子が".s"ではないので必ず拡張子を指定してください。</p>
<pre>C:¥&gt;isas sample2.x65
</pre>
<p>また、ソースファイル名にはドライブおよびディレクトリパスを指定することができます。例えば、カレントディレクトリの下に存在する"source"ディレクトリ内の"sample3.s"ファイルをアセンブルするには、次のように入力します。</p>
<pre>C:¥&gt;isas source¥sample3.s
</pre>
<p>なお、起動オプションの指定に誤りがある場合やソースファイル名が指定されていない場合は、次のようにISASの使用方法が表示されます。</p>
<pre>C:¥&gt;isas
INTELLIGENT SYSTEMS Assembler  Version X.XXX for XXXXX
Copyright (c) 1993-1998 Nintendo Co.,Ltd.
Copyright (c) 1993-1998 INTELLIGENT SYSTEMS Co.,Ltd.
Usage: isas [-options] source-file(.s)
options:
    -s &lt;n&gt;              symbol tables. default:65521
    -w &lt;n&gt;              warning level.(1-3) default:2
    -b &lt;n&gt;              buffer for access files. default:32768
    -m &lt;n&gt; [m]          macro tables (and text buffer). default:4096 (65536)
    -o &lt;xxx&gt;            output file name.
    -D &lt;symbol&gt;[=value] define symbol with value.
    -e &lt;xxx&gt;            switch error output file. default:stdout
    -is65               is65 compatible mode.
    -isdmg              isdmg compatible mode.
    -nologo             no logo.
    -I &lt;xxx&gt;            include path
    -list               out listing file.[.PRN]
    -t                  print assemble time.
    -g                  source line debug.
environments:
    ISAS=[default options]
    ISINC=[include path]
    ISTMP&gt;TEMP&gt;TMP=[temporary directry]

C:¥&gt;
</pre>
<p>アセンブルが正常に終了すると、カレントディレクトリまたは-oオプションで指定したディレクトリにオブジェクトファイルが生成されます。このオブジェクトファイルをISLKでリンクすることにより、デバッガに読み込ませることが可能なISXファイルを作成することができます。</p>
<hr/>
</body></html>
<hr id="isasoption.html">
<html><body><h2>起動オプション</h2>
<font size="-1">[ <a href="#isasmotion.html">前ページへ</a> | <a href="#isasstatus.html">次ページへ</a> ]</font>
<hr/>
<p>ISASの起動オプションの詳細について説明します。なお、起動オプションの指定は大文字と小文字を判断するので、記述には注意してください。</p>
<h3><a name="SYMBOL">-s &lt;n&gt;</a></h3><!-- -s <n> -->
<p>メモリ上に確保するシンボルテーブル数を指定します。</p>
<p>ISASは、アセンブル時に全てのシンボルをメモリ上に確保したテーブルに展開します。-sオプションは、このシンボルテーブル数を変更する時に使用します。&lt;n&gt;<!-- <n> -->には、65535までのシンボルテーブル数を10進数の値で指定することができます。また、値の直前に"$"または"0x"を付けることにより16進数の値で指定することもできます。なお、シンボルテーブル数のデフォルトは、MS-DOS版で4091個、MS-DOS版以外で65521個となっています。アセンブル時に"Not enough symbol tables.（シンボルテーブルが足りません。）"のエラーメッセージが出力された時には、この-sオプションでシンボルテーブル数を増やして対処することができます。</p>
<p>例えば、シンボルテーブル数を8000個に増やすには次のように指定します。</p>
<pre>C:¥&gt;isas -s 8000 ...
</pre>
<h3><a name="WARNING">-w &lt;n&gt;</a></h3><!-- -w <n> -->
<p>アセンブル時に発生するウォーニングのレベルを指定します。</p>
<p>&lt;n&gt;には、ウォーニングのレベルを1から3までの値で指定することができます。なお、このオプションの指定が省略された場合のデフォルト値は2です。</p>
<table border="1" width="100%">
<tr bgcolor="gray">
<th align="LEFT" nowrap="" valign="TOP">&lt;n&gt;</th>
<th align="LEFT" nowrap="" valign="TOP">内容</th>
<th align="LEFT" nowrap="" valign="TOP">ウォーニングレベル</th>
</tr>
<tr align="LEFT" valign="TOP">
<td>1</td>
<td>ウォーニングが発生しても、ウォーニングメッセージは表示されません。</td>
<td><br/></td>
</tr>
<tr align="LEFT" valign="TOP">
<td>2</td>
<td>ウォーニングが発生した時、重要度の高いウォーニングメッセージのみ表示します。</td>
<td>ウォーニングレベル2のみ</td>
</tr>
<tr align="LEFT" valign="TOP">
<td>3</td>
<td>ウォーニングが発生した時、全てのウォーニングメッセージを表示します。</td>
<td>ウォーニングレベル2および3</td>
</tr>
</table>
<p>例えば、厳密にアセンブルに発生する全てのウォーニングを出力したい時は3を指定します。</p>
<pre>C:¥&gt;isas -w 3 sample
</pre>
<h3><a name="BUFFER">-b &lt;n&gt;</a></h3><!-- -b <n> -->
<p>入出力ファイル用のバッファサイズをバイト単位で指定します。</p>
<p>ISASは、ソースファイルを読み込むための入力用バッファ、およびオブジェクトファイルやテンポラリファイルを書き込むための出力用バッファの二つを使用します。-bオプションの指定によって、これら一つ当たりのバッファサイズを指定することができます。</p>
<p>例えば、入力ファイル用と出力ファイル用のそれぞれのファイルバッファのサイズを8192バイトに変更するには次のように指定します。</p>
<pre>C:¥&gt;isas -b 8192 ...
</pre>
<p>このバッファサイズを大きくすると、アセンブルに要する時間は短縮されますが、多くのメモリを必要とします。ユーザの動作環境等を確認の上、"Not enough memory.（メモリーが足りません。）"のエラーが出力されない値を指定してください。なお、-bオプションが指定されない時のデフォルトのバッファサイズの値はMS-DOS版で16384バイト、MS-DOS版以外で32768バイトです。</p>
<h3><a name="MACRO">-m &lt;n&gt; [m]</a></h3><!-- -m <n> [m] -->
<p>定義するマクロの個数、およびマクロバッファのサイズを指定します。</p>
<p>&lt;n&gt;には、定義するマクロの数を指定します。マクロの数とは、実際に定義されているマクロの個数を示し、&lt;n&gt;の値はこれらのマクロの個数以上を指定する必要があります。"Macro table overflow.（マクロのテーブルが一杯です。）"のエラーが発生する時は、&lt;n&gt;に適切なマクロ数を指定してください。なお、指定できるマクロの個数は、デフォルトはMS-DOS版で512個、MS-DOS版以外で4096個、また最大は8192個です。</p>
<p>[m]には、定義するマクロの内容を格納するバッファサイズをバイト単位で指定します。[m]を指定する時は、[m]の前にスペースを一つ挿入してください。また、[m]は省略することもできます。"Macro text buffer overflow.（マクロのテキストバッファが一杯です。）"のエラーが発生する時は、[m]に適切なバッファサイズを指定してください。なお、指定できるマクロバッファのサイズは、デフォルトはMS-DOS版で32768バイト、MS-DOS版以外で65536バイトです。</p>
<p>例えば、マクロの個数とマクロバッファのサイズをそれぞれ1000個と50000バイトに変更するには次のように指定します。</p>
<pre>C:¥&gt;isas -m 1000 50000 ...
</pre>
<p>ただし、これらのバッファサイズを大きくすると、"Not enough memory.（メモリーが足りません。）"のエラーが発生することがあるので、エラーが出力されない値を指定してください。</p>
<h3><a name="OBJECT">-o &lt;xxx&gt;</a></h3><!-- -o <xxx> -->
<p>ISASが出力するオブジェクトファイル名を指定します。</p>
<p>ファイル名に拡張子を付けないで記述した場合は、自動的に".o"の拡張子名を付けて出力します。また、拡張子を付けた場合は、指定されたファイル名で出力されます。もちろん、ファイル名にドライブ名やディレクトリパスを指定することもできます。-oオプションを省略した時は、ソースファイル名の拡張子を".o"に変更したファイル名をオブジェクトファイルとして出力します。</p>
<p>例えば、出力するオブジェクトファイル名を"sample.obj"にするには次のように指定します。</p>
<pre>C:¥&gt;islk -o sample.obj ...
</pre>
<h3><a name="DEFINE">-D &lt;symbol&gt;[=value]</a></h3><!-- -D <symbol>[=value] -->
<p>&lt;symbol&gt;<!-- <symbol> -->で指定されたシンボルを宣言し、そのシンボルに[value]で指定された値を定義します。</p>
<p>通常、シンボルは同じソースファイル内で定義、または他のソースファイルで外部定義しなければなりませんが、-Dオプションを用いることによりアセンブル時にその値を定義することができます。このため、ソースファイルの内容を変更することなくアドレスや定数の値を簡単に設定することがきます。</p>
<p>例えば、次のようにソースファイル内で定義していないシンボルtempを使用する場合には、</p>
<pre>	lda	temp		; ソースファイル内では定義されていないシンボルを使用
	:
</pre>
<p>-Dオプションでシンボルtempを定義し値を指定することにより、正常にアセンブルすることができます。</p>
<pre>C:¥&gt;isas -D temp=$8000 ...
</pre>
<p>なお、-Dオプションで宣言されたシンボルは大文字と小文字を判別したシンボルとして宣言されます。そのため、そのシンボルを参照する部分での<a href="#capsoff.html">CAPSOFF/SMALL疑似命令</a>や<a href="#capson.html">CAPSON疑似命令</a>によるシンボルの大文字と小文字の判別状態に合わせてシンボルを記述しなければならないので注意してください。</p>
<pre>	capsoff
	lda	temp		; CAPSOFF疑似命令により"temp"として判断する
</pre>
<p>この場合は、<a href="#capsoff.html">CAPSOFF疑似命令</a>により小文字のシンボル"temp"として判断されるため、-Dオプションも"-D temp=$8000"のように小文字で指定します。</p>
<pre>	capson
	lda	temp		; CAPSON疑似命令により"TEMP"として判断する
</pre>
<p>また、この場合には、<a href="#capson.html">CAPSON疑似命令</a>により大文字のシンボル"TEMP"として判断されるので、"-D TEMP=$8000"と大文字で指定しなければなりません。</p>
<h3><a name="ERROR">-e &lt;xxx&gt;</a></h3><!-- -e <xxx> -->
<p>エラーの出力デバイスを指定します。</p>
<p>&lt;xxx&gt;で指定したデバイスにエラーやウォーニングのメッセージを出力します。&lt;xxx&gt;には、次のデバイスを指定することができます。</p>
<table border="1" width="100%">
<tr bgcolor="gray">
<th align="LEFT" nowrap="" valign="TOP">&lt;xxx&gt;</th>
<th align="LEFT" nowrap="" valign="TOP">デバイス</th>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="">stdout</td>
<td>標準出力（デフォルト）</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="">stderr</td>
<td>標準エラー出力</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="">stdout、stderr以外</td>
<td>ファイル</td>
</tr>
</table>
<p>例えば、標準エラー出力のデバイスにエラーを出力するには次のように指定します。</p>
<pre>C:¥&gt;isas -e stderr test.s
C:¥&gt;
</pre>
<p>なお、ソースファイル内に<a href="#errtag.html">ERRTAG疑似命令</a>が記述している時は、<a href="#errtag.html">ERRTAG疑似命令</a>が優先されエラータグファイルが出力されます。</p>
<h3><a name="IS65">-is65</a></h3>
<p>IS65互換モードでISASを起動します。</p>
<p>従来のアセンブラ（IS65）用に作成したソースファイルを、変更せずにそのままISASでアセンブルする時に指定します。IS65用のソースファイルとISAS用のソースファイルでは演算子や疑似命令など若干異なる部分があるので、IS65用のソースファイルをアセンブルする時は必ずこのオプションを指定してください。</p>
<p>例えば、IS65用に作成したソースファイル"sample.x65"をISASでアセンブルする時は次のように指定します。</p>
<pre>C:¥&gt;isas -is65 sample.x65
</pre>
<p>このオプションを指定することにより、以下に示す疑似命令のデフォルト値が変更されます。</p>
<table border="1" width="100%">
<tr bgcolor="gray">
<th align="LEFT" nowrap="" valign="TOP">オプション</th>
<th align="LEFT" nowrap="" valign="TOP">-is65指定時</th>
<th align="LEFT" nowrap="" valign="TOP">-is65省略時</th>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="">デフォルト疑似命令</td>
<td nowrap="">
<a href="#offpolish.html">OFFPOLISH</a><br/>
<a href="#onbankgroup.html">ONBANKGROUP</a><br/>
<a href="#opti.html">OPTI 1</a><br/>
<a href="#evalbits.html">EVALBITS 16</a><br/>
<a href="#is65bin.html">IS65BIN</a>
</td>
<td nowrap="">
<a href="#onpolish.html">ONPOLISH</a><br/>
<a href="#offbankgroup.html">OFFBANKGROUP</a><br/>
<a href="#opti.html">OPTI 5</a><br/>
<a href="#evalbits.html">EVALBITS 32</a><br/>
<a href="#isasbin.html">ISASBIN</a>
</td>
</tr>
</table>
<p>もし、ISASの機能をフルに使用されるのであれば、IS65用のソースファイルをISAS用に変更する必要があります。そのような時には、"第２章　開発手順"の"<a href="#CHANGE">IS65用ソースファイルをISAS用に変更する時は</a>"を参考に作業を進めてください。また、変更されたソースファイルをアセンブルする時には、この-is65オプションは指定する必要はありません。</p>
<h3><a name="ISDMG">-isdmg</a></h3>
<p>ISDMG互換モードでISASを起動します。</p>
<p>従来のアセンブラ（ISDMG）用に作成したソースファイルを、変更せずにそのままISASでアセンブルする時に指定します。ISDMG用のソースファイルとISAS用のソースファイルでは演算子や疑似命令など若干異なる部分があるので、ISDMG用のソースファイルをアセンブルする時は必ずこのオプションを指定してください。</p>
<p>例えば、ISDMG用に作成したソースファイル"sample.dmg"をISASでアセンブルする時は次のように指定します。</p>
<pre>C:¥&gt;isas -isdmg sample.dmg
</pre>
<p>このオプションを指定することにより、以下に示す疑似命令のデフォルト値が変更されます。</p>
<table border="1" width="100%">
<tr bgcolor="gray">
<th align="LEFT" nowrap="" valign="TOP">オプション</th>
<th align="LEFT" nowrap="" valign="TOP">-isdmg指定時</th>
<th align="LEFT" nowrap="" valign="TOP">-isdmg省略時</th>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="">デフォルト疑似命令</td>
<td nowrap="">
<a href="#offpolish.html">ISDMG</a><br/>
<a href="#offpolish.html">OFFPOLISH</a><br/>
<a href="#onbankgroup.html">ONBANKGROUP</a><br/>
<a href="#evalbits.html">EVALBITS 16</a>
</td>
<td nowrap="">
<a href="#onpolish.html">IS65</a><br/>
<a href="#onpolish.html">ONPOLISH</a><br/>
<a href="#offbankgroup.html">OFFBANKGROUP</a><br/>
<a href="#evalbits.html">EVALBITS 32</a>
</td>
</tr>
</table>
<p>もし、ISASの機能をフルに使用されるのであれば、ISDMG用のソースファイルをISAS用に変更する必要があります。そのような時には、"第２章　開発手順"の"<a href="#CHANGE">ISDMG用ソースファイルをISAS用に変更する時は</a>"を参考に作業を進めてください。また、変更されたソースファイルをアセンブルする時には、この-isdmgオプションは指定する必要はありません。</p>
<h3><a name="NOLOGO">-nologo</a></h3>
<p>ISASが起動する時に画面に表示されるタイトルやバージョン、およびコピーライトを表示しません。</p>
<p>-nologoオプションを指定しない時は、次のようなタイトル等が表示されます。</p>
<pre>C:¥&gt;isas sample
INTELLIGENT SYSTEMS Assembler  Version X.XX for XXXXX
Copyright (c) 1993-1998 Nintendo Co.,Ltd.
Copyright (c) 1993-1998 INTELLIGENT SYSTEMS Co.,Ltd.

C:¥&gt;
</pre>
<p>-nologoオプションを指定することにより、タイトル等は表示されないようになります。ただし、エラーやウォーニングのメッセージは-nologo指定時でも表示されます。</p>
<pre>C:¥&gt;isas -nologo sample
sample.s        (8): ERROR Undefined symbol.[LOOP]
fatal errors = 1

C:¥&gt;
</pre>
<h3><a name="INCLUDE">-I &lt;xxx&gt;</a></h3><!-- -I <xxx> -->
<p><a href="#lib.html">LIB/FILE/INCLUDE疑似命令</a>、および<a href="#libbin.html">LIBBIN疑似命令</a>により読み込まれるファイルを検索するディレクトリパスを指定します。</p>
<p><a href="#lib.html">LIB/FILE/INCLUDE疑似命令</a>や<a href="#libbin.html">LIBBIN疑似命令</a>で指定したファイルが見つからなかった時、ISASは-Iオプションで指定されたディレクトリパスに従ってファイルを検索します。例えば、CドライブのINCLUDEディレクトリを検索するには次のように指定します。</p>
<pre>C:¥&gt;isas -I c:¥include sample
</pre>
<p>また、複数のディレクトリを指定する時は、検索するパスを順次記述しそれぞれセミコロン（;）で区切ることにより指定することができます。</p>
<pre>C:¥&gt;isas -I c:¥include1;c:¥include2 sample
</pre>
<p>なお、<a href="#ISINC">ISINC環境変数</a>が指定されていても、-Iオプションで指定したディレクトリを優先して検索し、目的のファイルが見つからなかった時にISINC環境変数で指定したディレクトリが検索されます。</p>
<h3><a name="LIST">-list</a></h3>
<p>リスティングファイルの出力を指定します。</p>
<p>このオプションを指定すると、ソースファイル名の拡張子を".prn"に変更したファイル名のリスティングファイルがソースファイルと同じディレクトリに作成されます。また、-listの代わりに、-l（Lの小文字）と指定しても同様にリスティングファイルを出力することができます。</p>
<pre>C:¥&gt;isas -list sample.s
</pre>
<p>なお、アセンブル時にエラーが発生した時はリスティングファイルは出力されません。</p>
<h3><a name="TIME">-t</a></h3>
<p>アセンブルに用した時間を表示します。</p>
<p>以下の例では、アセンブルに要した時間は30秒であることが分かります。</p>
<pre>C:¥&gt;isas -t sample
INTELLIGENT SYSTEMS Assembler  Version X.XX for XXXXX
Copyright (c) 1993-1998 Nintendo Co.,Ltd.
Copyright (c) 1993-1998 INTELLIGENT SYSTEMS Co.,Ltd.
assemble time = 00:00:30

C:¥&gt;
</pre>
<h3><a name="DEBUG">-g</a></h3>
<p>アセンブルソースでのソースレベルデバッグを行うために必要なデバッグ情報をオブジェクトファイルに出力します。</p>
<p>この-gオプションを指定してアセンブルし、リンクしたISXファイルをデバッガにロードすることにより、デバッガ上でアセンブルソースによるソースレベルのデバッグが可能になります。</p>
<pre>C:¥&gt;isas -g sample
</pre>
<h3><a name="JAPANESE">-jp</a></h3>
<p>エラーやウォーニングのメッセージを日本語で表示します。</p>
<pre>C:¥&gt;isas -jp sample
INTELLIGENT SYSTEMS Assembler  Version X.XX for XXXXX
Copyright (c) 1993-1998 Nintendo Co.,Ltd.
Copyright (c) 1993-1998 INTELLIGENT SYSTEMS Co.,Ltd.
sample.s        (8): ERROR シンボルが見つかりません。[LOOP]
fatal errors = 1

C:¥&gt;
</pre>
<p>なお、-jpオプションが指定されていない時は、英語でメッセージを表示します。</p>
<h3><a name="ENGLISH">-us</a></h3>
<p>エラーやウォーニングのメッセージを英語で表示します。</p>
<pre>C:¥&gt;isas -us sample
INTELLIGENT SYSTEMS Assembler  Version X.XX for XXXXX
Copyright (c) 1993-1998 Nintendo Co.,Ltd.
Copyright (c) 1993-1998 INTELLIGENT SYSTEMS Co.,Ltd.
sample.s        (8): ERROR Undefined symbol.[LOOP]
fatal errors = 1

C:¥&gt;
</pre>
<p>なお、デフォルトでは英語でメッセージを表示します。</p>
<!--
<H3><A NAME="NORANGE">-norange</A></H3>
<P>オブジェクトファイルにレンジ情報を出力しません。</P>
<P>シンボリックデバッグやソースレベルデバッグを行なう時にはレンジ情報が必要になりますが、デバッグが既に終わっているモジュールにはレンジ情報は必要ありません。このような時に-norangeオプションを指定すると、不必要なレンジ情報をオブジェクトファイルに出力しないようにできます。</P>
<P>また、大規模なプログラムを開発する時に全てのモジュールのレンジ情報を出力すると、リンク時に"Too many range information.[]（レンジ情報が多すぎます。[]）"のウォーニングが発生する場合があります。これは、ISXファイルが格納できる最大レンジ情報数の65535個を越えたことを示しますが、このような時にも-norangeオプションによってレンジ情報数を減らし、ウォーニングを回避することができます。</P>
-->
<hr/>
</body></html>
<hr id="isasstatus.html">
<html><body><h2>終了ステータス</h2>
<font size="-1">[ <a href="#isasoption.html">前ページへ</a> | <a href="#islkmotion.html">次ページへ</a> ]</font>
<hr/>
<p>ISASは、正常にアセンブルが終了した時のみ終了ステータスに0を返します。</p>
<hr/>
</body></html>
<hr id="islkmotion.html">
<html><body><h2>ISLKの起動</h2>
<font size="-1">[ <a href="#isasstatus.html">前ページへ</a> | <a href="#islkoption.html">次ページへ</a> ]</font>
<hr/>
<p>ISLKを起動するには、Windows 95のMS-DOSプロンプトやWindows NTのコマンドプロンプト、MS-DOSやPC DOSのコマンドラインより次の書式に従い入力すると起動することができます。なお、起動オプションを除くコマンドやファイル名は大文字と小文字の何れでも指定することができます。</p>
<pre>C:¥&gt;islk [-options] object-file(.o) ...
</pre>
<h4>[-options]</h4>
<p>ISLKの起動オプションを指定します。</p>
<p>起動オプションはハイフン（-）で始まる文字列であり、省略または一つ以上のオプションを指定することができます。複数個指定する時は、各オプションをスペースで区切ってください。詳しくは、次の"<a href="#islkoption.html">起動オプション</a>"の項目を参照してください。</p>
<h4>object-file(.o) ...</h4>
<p>オブジェクトファイル名を指定します。</p>
<p>ISASにより出力されたオブジェクトファイル名を指定します。拡張子を省略した場合は、拡張子".o"を付加したファイル名として判断します。例えば、ファイル名"sample1.o"のオブジェクトファイルをリンクする時は、次のように指定します。</p>
<pre>C:¥&gt;islk sample1
</pre>
<p>ISASが出力するオブジェクトファイルはデフォルトで".o"の拡張子を付加するため、通常では拡張子を指定する必要はありません。</p>
<p>また、拡張子が".o"以外のオブジェクトファイルをリンクする場合は、拡張子も指定してください。例えば、ファイル名"sample2.obj"のオブジェクトファイルをリンクする時は、拡張子が".o"ではないので必ず拡張子も指定します。</p>
<pre>C:¥&gt;islk sample2.o
</pre>
<p>オブジェクトファイルを複数個指定する場合は、各オブジェクトファイル名の間に一つ以上のスペースを挿入します。複数個のオブジェクトファイルをリンクする時、オブジェクトファイルを指定する順番は、オブジェクトファイル内にアドレスが指定されていない場合に問題となります。ISLKは各バンク毎にアドレスの昇順にオブジェクトファイルをリンクしていきます。オブジェクトファイル内にアドレスが指定されていない場合、リンク時に指定するオブジェクトファイルの順に配置されます。</p>
<p>なお、起動オプションの指定に誤りがある場合やオブジェクトファイル名が指定されていない場合は、次のようにISLKの使用方法が表示されます。</p>
<pre>C:¥&gt;islk
INTELLIGENT SYSTEMS Linker  Version X.XX for XXXXX
Copyright (c) 1993-1998 Nintendo Co.,Ltd.
Copyright (c) 1993-1998 INTELLIGENT SYSTEMS Co.,Ltd.
Usage: islk [-options] object-file(.o) ...
options:
    -s &lt;n&gt;              symbol tables. default:65521
    -b &lt;n&gt;              buffer for access files. default:32768
    -o &lt;xxx&gt;            output file name.
    -D &lt;symbol&gt;[=value] define symbol with value.
    -G &lt;symbol&gt;[=value] define group with address.
    -e &lt;xxx&gt;            switch error output file. default:stdout
    -nologo             no logo.
    -v                  verbose mode.
    -n                  no debug information.
    -t                  print linkage time.
    -x24                24bit symbol debug.
    -L &lt;xxx&gt;            library path.
environments:
    ISLK=[default options]
    ISLIB=[library path]
    ISTMP&gt;TEMP&gt;TMP=[temporary directry]

C:¥&gt;
</pre>
<p>リンクが正常に終了すると、カレントディレクトリまたは<a href="#OBJECT">-oオプション</a>で指定したディレクトリにISXファイルが生成されます。このファイルをデバッガに読み込ませることにより、シンボリックデバッグが可能になります。</p>
<hr/>
</body></html>
<hr id="islkoption.html">
<html><body><h2>起動オプション</h2>
<font size="-1">[ <a href="#islkmotion.html">前ページへ</a> | <a href="#response.html">次ページへ</a> ]</font>
<hr/>
<p>ISLKの起動オプションの詳細について説明します。なお、起動オプションの指定は大文字と小文字を判断するので、記述には注意してください。</p>
<h3><a name="SYMBOL">-s &lt;n&gt;</a></h3><!-- -s <n> -->
<p>メモリ上に確保するシンボルテーブル数を指定します。</p>
<p>ISLKは、リンク時に外部参照するシンボルをメモリ上に確保したテーブルに展開します。-sオプションは、このシンボルテーブル数を変更する時に使用します。&lt;n&gt;<!-- <n> -->には、65535までのシンボルテーブル数を10進数の値で指定することができます。また、値の直前に"$"または"0x"を付けることにより16進数の値で指定することもできます。なお、シンボルテーブル数のデフォルトは、MS-DOS版で4091個、MS-DOS版以外で65521個となっています。リンク時に"Not enough symbol tables.（シンボルテーブルが足りません。）"のエラーメッセージが出力された時には、この-sオプションでシンボルテーブル数を増やして対処することができます。</p>
<p>例えば、シンボルテーブル数を8000個に増やすには次のように指定します。</p>
<pre>C:¥&gt;islk -s 8000 ...
</pre>
<h3><a name="BUFFER">-b &lt;n&gt;</a></h3><!-- -b <n> -->
<p>入出力ファイル用のバッファサイズをバイト単位で指定します。</p>
<p>ISASは、オブジェクトファイルを読み込むための入力用バッファ、およびISXファイルやテンポラリファイルを書き込むための出力用バッファの二つを使用します。-bオプションの指定によって、これら一つ当たりのバッファサイズを指定することができます。</p>
<p>例えば、入力ファイル用と出力ファイル用のそれぞれのファイルバッファのサイズを8192バイトに変更するには次のように指定します。</p>
<pre>C:¥&gt;islk -b 8192 ...
</pre>
<p>このバッファサイズを大きくすると、リンクに要する時間は短縮されますが、多くのメモリを必要とします。ユーザの動作環境等を確認の上、"Not enough memory.（メモリーが足りません。）"のエラーが出力されない値を指定してください。なお、-bオプションが指定されない時のデフォルトのバッファサイズの値はMS-DOS版で16384バイト、MS-DOS版以外で32768バイトです。</p>
<h3><a name="OBJECT">-o &lt;xxx&gt;</a></h3><!-- -o <xxx> -->
<p>ISLKが出力するISXファイル名、またはオブジェクトファイル名を指定します。</p>
<p>ファイル名に拡張子を付けないで記述した場合は、自動的に".isx"の拡張子名を付けたISXファイルを出力します。また、".o"以外の拡張子を付けた場合は、指定されたファイル名でISXファイルを出力します。もちろん、ファイル名にドライブ名やディレクトリパスを指定することもできます。-oオプションを省略した時は、リンクの初めに指定されたオブジェクトファイル名の拡張子を".isx"に変更したファイル名をISXファイルとして出力します。</p>
<p>例えば、出力するISXファイル名を"sample.isx"にするには次のように指定します。</p>
<pre>C:¥&gt;islk -o sample.isx ...
</pre>
<p>また、ファイル名に".o"の拡張子を付けた場合は、複数のオブジェクトファイルを一つのオブジェクトファイルにまとめることができます。</p>
<pre>C:¥&gt;islk -o sample.o sub1.o sub2.o
</pre>
<p>この例では、"sub1.o"と"sub2.o"の二つのオブジェクトファイルを、一つのオブジェクトファイル"sample.o"にまとめています。</p>
<h3><a name="DEFINE">-D &lt;symbol&gt;[=value]</a></h3><!-- -D <symbol>[=value] -->
<p>&lt;symbol&gt;<!-- <symbol> -->で指定されたシンボルを宣言し、そのシンボルに[value]で指定された値を定義します。</p>
<p>通常、外部参照シンボルは他のソースファイルで外部定義しなければなりませんが、-Dオプションを用いることによりリンク時にシンボルを宣言することができます。このため、ソースファイルの内容を変更することなくアドレスや定数の値を簡単に設定することがきます。</p>
<p>例えば、次のように何れのソースファイル内でも定義していないシンボルtempを使用する場合には、</p>
<pre>	extern	temp		; シンボルtempを外部参照シンボルとして定義
	lda	temp		; 何れのソースファイル内でも定義されていないシンボルを使用
	:
</pre>
<p>-Dオプションでシンボルtempを定義し値を指定することにより、正常にリンクすることができます。</p>
<pre>C:¥&gt;islk -D temp=$8000 ...
</pre>
<p>なお、-Dオプションで宣言されたシンボルは大文字と小文字を判別したシンボルとして宣言されます。そのため、そのシンボルを参照する部分での<a href="#capsoff.html">CAPSOFF/SMALL疑似命令</a>や<a href="#capson.html">CAPSON疑似命令</a>によるシンボルの大文字と小文字の判別状態に合わせてシンボルを記述しなければならないので注意してください。</p>
<pre>	capsoff
	lda	temp		; CAPSOFF疑似命令により"temp"として判断する
</pre>
<p>この場合は、<a href="#capsoff.html">CAPSOFF疑似命令</a>により小文字のシンボル"temp"として判断されるため、-Dオプションも"-D temp=$8000"のように小文字で指定します。</p>
<pre>	capson
	lda	temp		; CAPSON疑似命令により"TEMP"として判断する
</pre>
<p>また、この場合には、<a href="#capson.html">CAPSON疑似命令</a>により大文字のシンボル"TEMP"として判断されるので、"-D TEMP=$8000"と大文字で指定しなければなりません。</p>
<h3><a name="GROUP">-G &lt;symbol&gt;[=value]</a></h3><!-- -G <symbol>[=value] -->
<p>&lt;symbol&gt;で指定されたグループの先頭アドレスを[value]で宣言します。</p>
<p>同じ名前のグループは、リンク時に指定されたオブジェクトファイルの順に配置され、同一グループ毎に一つのモジュールにまとめられます。このため、初めて現れるグループの先頭には、必ず<a href="#org.html">ORG疑似命令</a>によって絶対アドレスを指定しなければなりません。ただし、-Gオプションを使用することにより、ソースファイル内に絶対アドレスを記述することなく、リンク時にこのアドレスを指定することができます。</p>
<p>例えば、グループcommonをリンク時に$1000番地から配置したい時は、次のようにソースファイルに記述します。</p>
<pre>common	group	$00		; グループcommonを宣言
	:			; ORG疑似命令は記述しない
	:
</pre>
<p>そして、次のようにリンク時に-Gオプションを指定することで、リロケータブルにグループを絶対アドレスに配置することができます。</p>
<pre>C:¥&gt;islk -G common=$1000 ...
</pre>
<p>また、この-Gオプションで指定したグループは、他の-Gオプションで指定したグループのアドレスと重複した領域がないかを自動的にチェックします。リンク時に他のグループと重複しているグループが発見されると、ISLKは次のようにウォーニングを出力します。</p>
<pre>C:¥&gt;islk4g sample.o -G text=$ffff0000 -G data=$ffff2000 -G bss=$05000000
INTELLIGENT SYSTEMS Linker  Version X.XX for XXXXX
Copyright (c) 1993-1998 Nintendo Co.,Ltd.
Copyright (c) 1993-1998 INTELLIGENT SYSTEMS Co.,Ltd.
        Area of [text] group = FFFF:0000 - FFFF:2BA5 conflict
WARNING! 1 group(s) conflict area detected.

C:¥&gt;
</pre>
<p>このような時には、次のように-vオプションを指定すると、どのグループのアドレスと重なっているかを簡単に確認することができます。だたし、ISLKの-Gオプションで指定していないグループはチェックされないので注意してください。</p>
<pre>C:¥&gt;islk4g sample.o -G text=$ffff0000 -G data=$ffff2000 -G bss=$05000000 -v
INTELLIGENT SYSTEMS Linker  Version X.XX for XXXXX
Copyright (c) 1993-1998 Nintendo Co.,Ltd.
Copyright (c) 1993-1998 INTELLIGENT SYSTEMS Co.,Ltd.
output file : sample.isx

*** phase 1 ***
 sample.o
*** phase 2 ***
 sample.o
symbol:167
        Area of [text] group = FFFF:0000 - FFFF:2BA5 conflict
        Area of [data] group = FFFF:2000 - FFFF:22C7
        Area of [bss] group = 0500:0000 - 0500:9157
        End of [vec] group = FFFF:0017
WARNING! 1 group(s) conflict area detected.
range:23

C:¥&gt;
</pre>
<p>なお、-Gオプションで宣言されたグループ名は大文字と小文字を判別した名前として宣言されます。そのため、そのグループ名を参照する部分での<a href="#capsoff.html">CAPSOFF/SMALL疑似命令</a>や<a href="#capson.html">CAPSON疑似命令</a>によるグループ名の大文字と小文字の判別状態に合わせてグループ名を記述しなければならないので注意してください。</p>
<pre>	capsoff
temp	group			; CAPSOFF疑似命令により"temp"として判断する
</pre>
<p>この場合は、<a href="#capsoff.html">CAPSOFF疑似命令</a>により小文字のグループ名"temp"として判断されるため、-Gオプションも"-G temp=$8000"のように小文字で指定します。</p>
<pre>	capson
temp	group				; CAPSON疑似命令により"TEMP"として判断する
</pre>
<p>また、この場合には、<a href="#capson.html">CAPSON疑似命令</a>により大文字のグループ名"TEMP"として判断されるので、"-G TEMP=$8000"と大文字で指定しなければなりません。</p>
<h3><a name="ERROR">-e &lt;xxx&gt;</a></h3><!-- -e <xxx> -->
<p>エラーの出力デバイスを指定します。</p>
<p>&lt;xxx&gt;で指定したデバイスにエラーやウォーニングのメッセージを出力します。&lt;xxx&gt;には、次のデバイスを指定することができます。</p>
<table border="1" width="100%">
<tr bgcolor="gray">
<th align="LEFT" nowrap="" valign="TOP">&lt;xxx&gt;</th>
<th align="LEFT" nowrap="" valign="TOP">デバイス</th>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="">stdout</td>
<td>標準出力（デフォルト）</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="">stderr</td>
<td>標準エラー出力</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="">stdout、stderr以外</td>
<td>ファイル</td>
</tr>
</table>
<p>例えば、標準エラー出力のデバイスにエラーを出力するには次のように指定します。</p>
<pre>C:¥&gt;islk -e stderr test.o
C:¥&gt;
</pre>
<h3><a name="NOLOGO">-nologo</a></h3>
<p>ISLKが起動する時に画面に表示されるタイトルやバージョン、およびコピーライトを表示しません。</p>
<p>-nologoオプションを指定しない時は、次のようなタイトル等が表示されます。</p>
<pre>C:¥&gt;islk sample
INTELLIGENT SYSTEMS Linker  Version X.XX for XXXXX
Copyright (c) 1993-1998 Nintendo Co.,Ltd.
Copyright (c) 1993-1998 INTELLIGENT SYSTEMS Co.,Ltd.

C:¥&gt;
</pre>
<p>-nologoオプションを指定することにより、タイトル等は表示されないようになります。ただし、エラーやウォーニングのメッセージは-nologo指定時でも表示されます。</p>
<pre>C:¥&gt;islk -nologo sample
sample.s ERROR Unresolved external.[LOOP]
fatal errors = 1

C:¥&gt;
</pre>
<h3><a name="VERBOSE">-v</a></h3>
<p>リンク処理の途中経過を表示します。</p>
<p>ISLKの動作状況を確認したい時に指定するだけで、通常このオプションを使用することはありません。</p>
<pre>C:¥&gt;islk -v sample
INTELLIGENT SYSTEMS Linker  Version X.XX for XXXXX
Copyright (c) 1993-1998 Nintendo Co.,Ltd.
Copyright (c) 1993-1998 INTELLIGENT SYSTEMS Co.,Ltd.
output file : sample.isx

*** phase 1 ***
 sample.o
*** phase 2 ***
 sample.o
symbol:167
        End of [BANK00] group = 0000:3063
        End of [BANK01] group = 0001:1250
range:23

C:¥&gt;
</pre>
<h3><a name="NODEBUG">-n</a></h3>
<p>ISXファイルにデバッグ情報を出力しません。</p>
<p>ISXファイルには、シンボリックデバッグのためのシンボル情報とレンジ情報、また、ソースレベルデバッグのためのデバッグ情報が格納されています。-nオプションは、これらのデバッグ情報をISXファイルに出力しないようにします。動作確認のみ行う時などには、デバッグのための情報は不要となるので、コンパクトなISXファイルを短時間に出力する時に使用します。</p>
<p>なお、-nオプションを指定して作成したISXファイルをデバッガに読み込んでもシンボリックデバッグやソースレベルデバッグはできません。</p>
<pre>C:¥&gt;islk -n sample
</pre>
<h3><a name="TIME">-t</a></h3>
<p>リンクに用した時間を表示します。</p>
<p>以下の例では、リンクに要した時間は43秒であることが分かります。</p>
<pre>C:¥&gt;islk -t sample
INTELLIGENT SYSTEMS Linker  Version X.XX for XXXXX
Copyright (c) 1993-1998 Nintendo Co.,Ltd.
Copyright (c) 1993-1998 INTELLIGENT SYSTEMS Co.,Ltd.
linkage time = 00:00:43

C:¥&gt;
</pre>
<h3><a name="OLDISX">-x24</a></h3>
<p>従来のSHVCデバッガ用ISXファイルを作成します。</p>
<p>ISLKは、デフォルトで拡張ISXファイルを出力します。これはソースレベルデバッグを行うためのデバッグ情報が含まれたISXファイルであり、従来のSHVCデバッガではロードすることはできません。ISXファイルを従来のSHVCデバッガにロードする時は、ISLK起動時に-x24オプションを指定する必要があります。</p>
<pre>C:¥&gt;islk -x24 sample
</pre>
<h3><a name="LIB">-L &lt;xxx&gt;</a></h3><!-- -L <xxx> -->
<p>リンクするオブジェクトファイルを検索するディレクトリパスを指定します。</p>
<p>リンク時にオブジェクトファイルが見つからなかった時、ISLKは-Lオプションで指定されたディレクトリパスに従ってファイルを検索します。例えば、CドライブのLIBディレクトリを検索するには次のように指定します。</p>
<pre>C:¥&gt;islk -L c:¥lib ...
</pre>
<p>また、複数のディレクトリを指定する時は、検索するパスを順次記述しそれぞれセミコロン（;）で区切ることにより指定することができます。</p>
<pre>C:¥&gt;islk -L c:¥lib1;c:¥lib2 ...
</pre>
<p>なお、<a href="#ISLIB">ISLIB環境変数</a>が指定されていても、-Lオプションで指定したディレクトリを優先して検索し、目的のファイルが見つからなかった時にISLIB環境変数で指定したディレクトリが検索されます。</p>
<h3><a name="JAPANESE">-jp</a></h3>
<p>エラーやウォーニングのメッセージを日本語で表示します。</p>
<pre>C:¥&gt;islk -jp sample
INTELLIGENT SYSTEMS Linker  Version X.XX for XXXXX
Copyright (c) 1993-1998 Nintendo Co.,Ltd.
Copyright (c) 1993-1998 INTELLIGENT SYSTEMS Co.,Ltd.
sample.s ERROR シンボルが解決されていません。[LOOP]
fatal errors = 1

C:¥&gt;
</pre>
<p>なお、-jpオプションが指定されていない時は、英語でメッセージを表示します。</p>
<h3><a name="ENGLISH">-us</a></h3>
<p>エラーやウォーニングのメッセージを英語で表示します。</p>
<pre>C:¥&gt;islk -us sample
INTELLIGENT SYSTEMS Linker  Version X.XX for XXXXX
Copyright (c) 1993-1998 Nintendo Co.,Ltd.
Copyright (c) 1993-1998 INTELLIGENT SYSTEMS Co.,Ltd.
sample.s ERROR Unresolved external.[LOOP]
fatal errors = 1

C:¥&gt;
</pre>
<p>なお、デフォルトでは英語でメッセージを表示します。</p>
<h3><a name="WARNING">-w bank-over</a></h3>
<p>バンクの領域サイズを越えてプログラムを作成した時にウォーニングを出力します。</p>
<p>65816プロセッサのプログラムを開発する時、バンクを越えてプログラムを配置することは許されません。-w bank-overオプションは、バンクを越えてプログラムが配置された時にウォーニングを出力することをISLKに指示します。</p>
<p>このオプションを指定し、プログラムがバンクを越えた時には次のように表示されます。</p>
<pre>C:¥&gt;islk -w bank-over sample
INTELLIGENT SYSTEMS Linker  Version X.XX for XXXXX
Copyright (c) 1993-1998 Nintendo Co.,Ltd.
Copyright (c) 1993-1998 INTELLIGENT SYSTEMS Co.,Ltd.
WARNING Bank over.[00:FFFE==&gt;01:0002]
warnings = 1

C:¥&gt;
</pre>
<p>65816プロセッサのプログラムを開発する時には、安全のためにこのオプションを指定すると良いでしょう。</p>
<hr/>
</body></html>
<hr id="response.html">
<html><body><h2>レスポンスファイル</h2>
<font size="-1">[ <a href="#islkoption.html">前ページへ</a> | <a href="#islkstatus.html">次ページへ</a> ]</font>
<hr/>
<p>ISLKのパラメータをレスポンスファイルを用いて指定することができます。</p>
<p>リンクするオブジェクトファイルが多く、MS-DOSまたはPC DOSのコマンドライン行に全て記述できない場合、このレスポンスファイルを使用することにより解決することができます。</p>
<p>レスポンスファイルはテキストファイルであり、ISLKのパラメータ部分をエディタ等で記述します。</p>
<pre>-o sample.isx main sub1 sub2 sub3
</pre>
<p>このように記述したレスポンスファイルを、例えば"sample.lnk"というファイル名で用意します。用意したレスポンスファイルは、次のように使用することでリンクを行うことができます。</p>
<pre>C:¥&gt;islk @sample.lnk
</pre>
<p>また、レスポンスファイルは複数行にわたって記述してもかまいません。</p>
<pre>-o sample.isx
main sub1 sub2 sub3
</pre>
<hr/>
</body></html>
<hr id="islkstatus.html">
<html><body><h2>終了ステータス</h2>
<font size="-1">[ <a href="#response.html">前ページへ</a> | <a href="#drawmessage.html">次ページへ</a> ]</font>
<hr/>
<p>ISLKは、正常にリンクが終了した時のみ終了ステータスに0を返します。</p>
<hr/>
</body></html>
<hr id="drawmessage.html">
<html><body><h2>メッセージの表示</h2>
<font size="-1">[ <a href="#islkstatus.html">前ページへ</a> | <a href="#warninglevel.html">次ページへ</a> ]</font>
<hr/>
<p>メッセージには、エラー（Error）とウォーニング（Warning）があります。エラーは処理が継続して実行できない時に発生し、エラーが発生すると直ちに処理を中断します。また、ウォーニングはソースファイルの修正を必要とする時に発生しますが、処理は中断されずに最後まで実行されます。</p>
<p>例えば、ISASが正常にアセンブル処理を終了すると、次のようにエラーやウォーニングを表わすメッセージは表示されずに処理を終了し、MS-DOSまたはPC DOSのプロンプトに戻ります。</p>
<pre>C:¥&gt;isas sample
INTELLIGENT SYSTEMS Assembler  Version X.XX for XXXXX
Copyright (c) 1993-1998 Nintendo Co.,Ltd.
Copyright (c) 1993-1998 INTELLIGENT SYSTEMS Co.,Ltd.

C:¥&gt;
</pre>
<p>エラーが発生した時は、次のようにエラーの発生したファイル名、行数、エラーメッセージ、およびエラーの数を表示します。</p>
<pre>C:¥&gt;isas sample
INTELLIGENT SYSTEMS Assembler  Version X.XX for XXXXX
Copyright (c) 1993-1998 Nintendo Co.,Ltd.
Copyright (c) 1993-1998 INTELLIGENT SYSTEMS Co.,Ltd.
sample.s      (19): ERROR Undefined symbol.[LOOP]
fatal errors = 1

C:¥&gt;
</pre>
<p>この例では、sample.sファイルの19行目で使用されているLOOPシンボルが未定義であることがわかります。</p>
<p>また、ウォーニングが発生した時もエラーと同様に表示されます。</p>
<pre>C:¥&gt;isas -w3 sample
INTELLIGENT SYSTEMS Assembler  Version X.XX for XXXXX
Copyright (c) 1993-1998 Nintendo Co.,Ltd.
Copyright (c) 1993-1998 INTELLIGENT SYSTEMS Co.,Ltd.
sample.s      (2): WARNING [KANJI] not yet support.
warnings = 1

C:¥&gt;
</pre>
<p>なお、ISLKの場合もISASと同様にエラーおよびウォーニングメッセージが出力されます。ただし、行番号は表示されません。</p>
<hr/>
</body></html>
<hr id="warninglevel.html">
<html><body><h2>ウォーニングレベル</h2>
<font size="-1">[ <a href="#drawmessage.html">前ページへ</a> | <a href="#isasmessage.html">次ページへ</a> ]</font>
<hr/>
<p>ISASが出力するウォーニングは、その重要度によって表示するかどうかを指定することができます。この重要度をウォーニングレベルといいます。メッセージの説明には、ウォーニングレベルを示す値が"Warning()"の括弧内に記述されています。また、ウォーニングレベルによるウォーニング表示の有無の指定は、ISAS起動時の<a href="#WARNING">-wオプション</a>で指定します。</p>
<p>なお、ウォーニングレベルと<a href="#WARNING">-wオプション</a>のパラメータ&lt;n&gt;<!-- <n> -->との関係は次のとおりです。</p>
<table border="1" width="100%">
<tr bgcolor="gray">
<th align="LEFT" nowrap="" valign="TOP">&lt;n&gt;</th>
<th align="LEFT" nowrap="" valign="TOP">内容</th>
<th align="LEFT" nowrap="" valign="TOP">ウォーニングレベル</th>
</tr>
<tr align="LEFT" valign="TOP">
<td>1</td>
<td>ウォーニングが発生しても、ウォーニングメッセージは表示されません。</td>
<td><br/></td>
</tr>
<tr align="LEFT" valign="TOP">
<td>2</td>
<td>ウォーニングが発生した時、重要度の高いウォーニングメッセージのみ表示します。</td>
<td>ウォーニングレベル2のみ</td>
</tr>
<tr align="LEFT" valign="TOP">
<td>3</td>
<td>ウォーニングが発生した時、全てのウォーニングメッセージを表示します。</td>
<td>ウォーニングレベル2および3</td>
</tr>
</table>
<p>なお、デフォルトでは<n>の値は2となっているため、ウォーニングレベル2のウォーニングメッセージのみが表示されます。</n></p>
<hr/>
</body></html>
<hr id="isasmessage.html">
<html><body><h2>ISASのメッセージ</h2>
<font size="-1">[ <a href="#warninglevel.html">前ページへ</a> | <a href="#islkmessage.html">次ページへ</a> ]</font>
<hr/>
<p>ISASが出力するメッセージについて説明します。メッセージの説明では、1行目に英語メッセージとエラーまたはウォーニングの種類、2行目に日本語メッセージ、3行目以降にメッセージの説明や対処方法等について記述しています。なお、英語メッセージはデフォルト、またはISAS起動時に<a href="#ENGLISH">-usオプション</a>を指定、日本語メッセージは<a href="#JAPANESE">-jpオプション</a>を指定した時に表示されます。</p>
<p>
</p><table border="0" width="100%">
<tr align="LEFT" valine="TOP">
<td><b>Already PUBALL.</b></td>
<td align="RIGHT" valine="TOP">:Warning(2)</td>
</tr>
<tr align="LEFT" valine="TOP">
<td><b>既にPUBALL状態です。</b></td>
<td></td>
</tr>
<tr align="LEFT" valine="TOP">
<td colspan="2"><a href="#puball.html">PUBALL疑似命令</a>を指定後に、<a href="#puboff.html">PUBOFF疑似命令</a>が指定されています。<a href="#puball.html">PUBALL疑似命令</a>を指定するとローカルシンボルを除く全てのシンボルを外部定義シンボルとして宣言するので、<a href="#puboff.html">PUBOFF疑似命令</a>を指定して外部定義シンボルの宣言を解除することはできません。</td>
</tr>
</table>
<p>
</p><table border="0" width="100%">
<tr align="LEFT" valine="TOP">
<td><b>An alignment has available only at next-line of first-group.</b></td>
<td align="RIGHT" valine="TOP">:Warning(2)</td>
</tr>
<tr align="LEFT" valine="TOP">
<td><b>アライメントは最初のグループの直後のみ有効です。</b></td>
<td></td>
</tr>
<tr align="LEFT" valine="TOP">
<td colspan="2">ロケーションのアライメントを調整するための<a href="#even.html">EVEN疑似命令</a>が、正しい位置に記述されていません。<a href="#even.html">EVEN疑似命令</a>は、モジュール内で<a href="#group.html">GROUP疑似命令</a>が記述されてから初めてオペコードが記述されるまでの間、または<a href="#org.html">ORG疑似命令</a>を記述した後に記述する必要があります。

<pre>rom0	group	0
	even	2		; 正しい記述
	ld	a,$10		; GROUP疑似命令以降初めてのオペコード
	:
</pre>
<pre>rom0	group	0
	:
	ret
	org	$2000		; ORG疑似命令
	even	2		; 正しい記述
</pre>

上記以外の部分に<a href="#even.html">EVEN疑似命令</a>を記述した場合、アライメント調整が正しく行われる保証ができないためこの警告が出力されます。</td>
</tr>
</table>
<p>
</p><table border="0" width="100%">
<tr align="LEFT" valine="TOP">
<td><b>An operand includes uncertain symbol.</b></td>
<td align="RIGHT" valine="TOP">:Error</td>
</tr>
<tr align="LEFT" valine="TOP">
<td><b>未解決のシンボルは評価できません。</b></td>
<td></td>
</tr>
<tr align="LEFT" valine="TOP">
<td colspan="2">式で使用するシンボルはアセンブル時に既知である必要があります。このエラーが発生する時は、式に外部定義されているシンボルを使用していることが考えられます。</td>
</tr>
</table>
<p>
</p><table border="0" width="100%">
<tr align="LEFT" valine="TOP">
<td><b>Binary file read failure.</b></td>
<td align="RIGHT" valine="TOP">:Error</td>
</tr>
<tr align="LEFT" valine="TOP">
<td><b>バイナリーファイルの読み込みに失敗しました。</b></td>
<td></td>
</tr>
<tr align="LEFT" valine="TOP">
<td colspan="2"><a href="#libbin.html">LIBBIN疑似命令</a>によってバイナリーファイルを読み込んでいる時にエラーが発生しました。<a href="#binset.html">BINSET疑似命令</a>によって指定されたサイズのデータが読み込めなかったことが原因です。バイナリーファイルのサイズを確認し、正しい値を<a href="#binset.html">BINSET疑似命令</a>で指定してください。</td>
</tr>
</table>
<p>
</p><table border="0" width="100%">
<tr align="LEFT" valine="TOP">
<td><b>Can not create temporary.[]</b></td>
<td align="RIGHT" valine="TOP">:Error</td>
</tr>
<tr align="LEFT" valine="TOP">
<td><b>テンポラリーファイルが作成できません。[]</b></td>
<td></td>
</tr>
<tr align="LEFT" valine="TOP">
<td colspan="2">ISASは、アセンブル時にカレントディレクトリ、または<a href="#ISTMP">ISTMP、TEMP、TMP</a>の何れかの環境変数が指定されている時はその指定されたディレクトリに[]内に表示されたファイル名のテンポラリーファイルを作成しますが、ディスクの容量不足によってこのファイルが作成できない時にエラーが発生します。ディスクの空き容量を確認してください。</td>
</tr>
</table>
<p>
</p><table border="0" width="100%">
<tr align="LEFT" valine="TOP">
<td><b>Can not declare to external.[]</b></td>
<td align="RIGHT" valine="TOP">:Warning(2)</td>
</tr>
<tr align="LEFT" valine="TOP">
<td><b>既に定義されているシンボルは外部参照宣言できません。[]</b></td>
<td></td>
</tr>
<tr align="LEFT" valine="TOP">
<td colspan="2">既に定義されているシンボルと同じ名前で、<a href="#extern.html">EXTERN疑似命令</a>によって外部参照として宣言されています。[]内には外部参照シンボルと同一名のシンボルが表示されます。

<pre>symbol	equ	$10
	:
	extern	symbol		; ここでエラーが発生します
	:
</pre>

外部参照シンボル、または定義しているシンボルの何れかの名前を変更してください。</td>
</tr>
</table>
<p>
</p><table border="0" width="100%">
<tr align="LEFT" valine="TOP">
<td><b>Can not define external symbol.[]</b></td>
<td align="RIGHT" valine="TOP">:Warning(2)</td>
</tr>
<tr align="LEFT" valine="TOP">
<td><b>外部参照シンボルは定義できません。[]</b></td>
<td></td>
</tr>
<tr align="LEFT" valine="TOP">
<td colspan="2"><a href="#extern.html">EXTERN疑似命令</a>によって既に外部参照として宣言されているシンボルと同じ名前のシンボルが再度定義されています。[]内には外部参照シンボルと同一名のシンボルが表示されます。

<pre>	extern	symbol
	:
symbol	lda	#$00		; ここでエラーが発生します
	:
</pre>

このような場合は、外部参照シンボル、または定義しているシンボルの何れかの名前を変更してください。</td>
</tr>
</table>
<p>
</p><table border="0" width="100%">
<tr align="LEFT" valine="TOP">
<td><b>Can not define macro in macro.</b></td>
<td align="RIGHT" valine="TOP">:Warning(1)</td>
</tr>
<tr align="LEFT" valine="TOP">
<td><b>マクロの中でマクロを定義できません。</b></td>
<td></td>
</tr>
<tr align="LEFT" valine="TOP">
<td colspan="2">マクロ定義内で他のマクロが定義されています。マクロ定義内では他のマクロは定義できません。</td>
</tr>
</table>
<p>
</p><table border="0" width="100%">
<tr align="LEFT" valine="TOP">
<td><b>Can not devide by 0.</b></td>
<td align="RIGHT" valine="TOP">:Error</td>
</tr>
<tr align="LEFT" valine="TOP">
<td><b>０で除算する事はできません。</b></td>
<td></td>
</tr>
<tr align="LEFT" valine="TOP">
<td colspan="2">0で除算している式があります。0で除算することはできません。</td>
</tr>
</table>
<p>
</p><table border="0" width="100%">
<tr align="LEFT" valine="TOP">
<td><b>Can not open file.[]</b></td>
<td align="RIGHT" valine="TOP">:Error</td>
</tr>
<tr align="LEFT" valine="TOP">
<td><b>ファイルがオープンできません。[]</b></td>
<td></td>
</tr>
<tr align="LEFT" valine="TOP">
<td colspan="2">[]内に表示されたファイルが見つからないためオープンすることができません。指定したファイル名やそのディレクトリパスを確認してください。</td>
</tr>
</table>
<p>
</p><table border="0" width="100%">
<tr align="LEFT" valine="TOP">
<td><b>Can not redefine symbol.[]</b></td>
<td align="RIGHT" valine="TOP">:Warning(2)</td>
</tr>
<tr align="LEFT" valine="TOP">
<td><b>再定義できません。[]</b></td>
<td></td>
</tr>
<tr align="LEFT" valine="TOP">
<td colspan="2">同じ名前のシンボルが二ヶ所以上で定義されています。[]に表示されているシンボル名を変更してください。また、このメッセージが表示される時は以下のような場合が考えられます。

<ul>
<li>シンボルに再定義した値を代入したい時に<a href="#equ.html">EQU疑似命令</a>を使用している場合は、<a href="#equ.html">EQU疑似命令</a>ではなく<a href="#substitute.html">=疑似命令</a>を使用してください。
</li><li>ISASがシンボルを判断する時、デフォルトでは全て大文字として判断します。大文字と小文字を分けて判断する時は、<a href="#capsoff.html">CAPSOFF/SMALL疑似命令</a>を指定してください。
</li><li>マクロ展開によってシンボルが再定義される場合には特に注意が必要です。例えば次のようなマクロが展開された場合、"test"マクロが展開されるとローカルシンボル"_symbol"が続けて定義されるのでウォーニングが出力されてしまいます。

<pre>test	macro			; マクロ定義
_symbol				; マクロ内のローカルシンボルを定義
	endm

	test			; マクロ展開
	test			; マクロ展開
</pre>

このような時は、マクロ定義内の先頭で<a href="#local.html">LOCAL疑似命令</a>を指定して、マクロ内で定義されたシンボルをマクロ定義内でのみ有効とします。

<pre>test	macro			; マクロ定義
	local	_symbol		; マクロ内でのみ有効とする
_symbol				; マクロ内のローカルシンボルを定義
	endm
</pre>
</li></ul>
</td>
</tr>
</table>
<p>
</p><table border="0" width="100%">
<tr align="LEFT" valine="TOP">
<td><b>Can not write file.</b></td>
<td align="RIGHT" valine="TOP">:Error</td>
</tr>
<tr align="LEFT" valine="TOP">
<td><b>ファイルに出力できません。</b></td>
<td></td>
</tr>
<tr align="LEFT" valine="TOP">
<td colspan="2">ISASが出力するファイル（オブジェクトファイル、リストファイル、エラータグファイル）がディスクに正常に出力できませんでした。ディスクの容量不足が考えられるため、ファイルの出力先ディスクの空き容量を確認してください。</td>
</tr>
</table>
<p>
</p><table border="0" width="100%">
<tr align="LEFT" valine="TOP">
<td><b>Conflict register.</b></td>
<td align="RIGHT" valine="TOP">:Warning(2)</td>
</tr>
<tr align="LEFT" valine="TOP">
<td><b>命令展開の中でレジスタが衝突しています。</b></td>
<td></td>
</tr>
<tr align="LEFT" valine="TOP">
<td colspan="2">V810SFの命令展開時にアセンブラが使用する汎用レジスタと同一のレジスタが既に使用されています。例えば、

<pre>	isv810
	rsvreg	1
	cmp	65536,r1	; 命令展開される部分
</pre>

この時、cmp命令の部分は次のように命令展開されるため、既に使用されているR1レジスタの内容が命令展開によって変更されてしまいます。

<pre>	movhi	65536'hi1,r0,r1
	movea	65536'lo,r1,r1
	cmp	r1,r1		; 比較する右オペランドのr1が既に変更されている
</pre>

なお、命令展開によって使用されるレジスタは<a href="#rsvreg.html">RSVREG疑似命令</a>によって指定することができます。詳しくは"<a href="#pseudo.html">第５章　疑似命令</a>"の"<a href="#rsvreg.html">RSVREG（V810SF用）</a>"の項目を参照してください。
</td>
</tr>
</table>
<p>
</p><table border="0" width="100%">
<tr align="LEFT" valine="TOP">
<td><b>Duplicate symbol in macro.[]</b></td>
<td align="RIGHT" valine="TOP">:Warning(3)</td>
</tr>
<tr align="LEFT" valine="TOP">
<td><b>マクロ内でシンボルが重複しています。[]</b></td>
<td></td>
</tr>
<tr align="LEFT" valine="TOP">
<td colspan="2">マクロ定義中のパラメータ置換用シンボルおよびローカルシンボルで、同じ名前のシンボルが使用されています。[]内に表示された同名のシンボル名を変更してください。</td>
</tr>
</table>
<p>
</p><table border="0" width="100%">
<tr align="LEFT" valine="TOP">
<td><b>Expression stack over flow.</b></td>
<td align="RIGHT" valine="TOP">:Error</td>
</tr>
<tr align="LEFT" valine="TOP">
<td><b>計算に必要なスタックを使い果たしました。</b></td>
<td></td>
</tr>
<tr align="LEFT" valine="TOP">
<td colspan="2">ソースファイル内で四則演算等の計算式が長すぎる時に発生します。このような時は、計算式を短くしてください。</td>
</tr>
</table>
<p>
</p><table border="0" width="100%">
<tr align="LEFT" valine="TOP">
<td><b>File create failure.[]</b></td>
<td align="RIGHT" valine="TOP">:Error</td>
</tr>
<tr align="LEFT" valine="TOP">
<td><b>ファイルの作成に失敗しました。[]</b></td>
<td></td>
</tr>
<tr align="LEFT" valine="TOP">
<td colspan="2">[]内に表示されたファイルが作成できませんでした。ファイル名やディレクトリパスを確認してください。また、MS-DOSまたはPC DOSの環境変数FILESの値が小さい時にもこのエラーが発生する場合があるので、環境変数FILESの値が小さすぎないか確認してください。</td>
</tr>
</table>
<p>
</p><table border="0" width="100%">
<tr align="LEFT" valine="TOP">
<td><b>File read failure.[]</b></td>
<td align="RIGHT" valine="TOP">:Error</td>
</tr>
<tr align="LEFT" valine="TOP">
<td><b>ファイルの読み込みに失敗しました。[]</b></td>
<td></td>
</tr>
<tr align="LEFT" valine="TOP">
<td colspan="2">[]内に表示されたファイルが正常に読み込めません。ファイルの有無、およびファイル名やディレクトリパスを確認してください。</td>
</tr>
</table>
<p>
</p><table border="0" width="100%">
<tr align="LEFT" valine="TOP">
<td><b>Fit to correct range.[]</b></td>
<td align="RIGHT" valine="TOP">:Warning(3)</td>
</tr>
<tr align="LEFT" valine="TOP">
<td><b>正しいレンジに合わせました。[]</b></td>
<td></td>
</tr>
<tr align="LEFT" valine="TOP">
<td colspan="2">特定の命令において、記述できる値の範囲に制限があるにも関わらずその制限を越えて記述した時に、制限内に収まるようにマスクされました。例えば、V810SFプロセッサのLD命令では16ビットのディスプレースメントが指定できますが、この16ビットの範囲を超えた値を指定するとISASは自動的に16ビットでマスクし、同時に警告を表示します。</td>
</tr>
</table>
<p>
</p><table border="0" width="100%">
<tr align="LEFT" valine="TOP">
<td><b>Forward reference.</b></td>
<td align="RIGHT" valine="TOP">:Error</td>
</tr>
<tr align="LEFT" valine="TOP">
<td><b>前方参照はできません。</b></td>
<td></td>
</tr>
<tr align="LEFT" valine="TOP">
<td colspan="2">オペランドの演算記述において、既知でないシンボルが使用されています。シンボルが定義されていないか、前方参照、または外部参照されているシンボルが使用されています。</td>
</tr>
</table>
<p>
</p><table border="0" width="100%">
<tr align="LEFT" valine="TOP">
<td><b>GROUP symbol error.</b></td>
<td align="RIGHT" valine="TOP">:Error</td>
</tr>
<tr align="LEFT" valine="TOP">
<td><b>グループで定義されたシンボルです。</b></td>
<td></td>
</tr>
<tr align="LEFT" valine="TOP">
<td colspan="2"><a href="#group.html">GROUP疑似命令</a>によってグループ宣言されたグループ名を、再度シンボルとして定義しています。グループ名、またはシンボル名の何れかの名前を変更してください。</td>
</tr>
</table>
<p>
</p><table border="0" width="100%">
<tr align="LEFT" valine="TOP">
<td><b>Ignore character [].</b></td>
<td align="RIGHT" valine="TOP">:Warning(3)</td>
</tr>
<tr align="LEFT" valine="TOP">
<td><b>キャラクターを無視しました。[]</b></td>
<td></td>
</tr>
<tr align="LEFT" valine="TOP">
<td colspan="2">イミディエイトアドレシングの指定で、シャープ（#）の後にシャープ、エクスクラメーション（!）、またはチルダ（‾）が記述されている時に表示されます。</td>
</tr>
</table>
<p>
</p><table border="0" width="100%">
<tr align="LEFT" valine="TOP">
<td><b>Illegal operand type.[]</b></td>
<td align="RIGHT" valine="TOP">:Error</td>
</tr>
<tr align="LEFT" valine="TOP">
<td><b>不法なオペランドタイプです。[]</b></td>
<td></td>
</tr>
<tr align="LEFT" valine="TOP">
<td colspan="2">ニーモニックがサポートしていないモードのオペランドが記述されています。例えば、イミディエイトアドレッシングを用意していないJMP命令でオペランドにイミディエイトデータを記述した時に発生します。

<pre>	jmp	#$10		; これはエラーです
</pre></td>
</tr>
</table>
<p>
</p><table border="0" width="100%">
<tr align="LEFT" valine="TOP">
<td><b>Improper addressing.</b></td>
<td align="RIGHT" valine="TOP">:Warning(2)</td>
</tr>
<tr align="LEFT" valine="TOP">
<td><b>不適切なアドレッシングです。</b></td>
<td></td>
</tr>
<tr align="LEFT" valine="TOP">
<td colspan="2">未解決のオペランドのアドレッシングモードとオペコードがサポートしているアドレッシングモードとが一致していません。アドレッシングを確定するために、プリフィックスを指定してください。</td>
</tr>
</table>
<p>
</p><table border="0" width="100%">
<tr align="LEFT" valine="TOP">
<td><b>Improper operand type.</b></td>
<td align="RIGHT" valine="TOP">:Warning(2)</td>
</tr>
<tr align="LEFT" valine="TOP">
<td><b>不正なオペランドタイプです。</b></td>
<td></td>
</tr>
<tr align="LEFT" valine="TOP">
<td colspan="2">オペコードがサポートしていないアドレッシングタイプをオペランドに発見した時に発生します。オペコードがサポートしている正しいアドレッシングモードを記述してください。</td>
</tr>
</table>
<p>
</p><table border="0" width="100%">
<tr align="LEFT" valine="TOP">
<td><b>Improper range.[]</b></td>
<td align="RIGHT" valine="TOP">:Warning(3)</td>
</tr>
<tr align="LEFT" valine="TOP">
<td><b>不適切なレンジです。[]</b></td>
<td></td>
</tr>
<tr align="LEFT" valine="TOP">
<td colspan="2">2パス目のアセンブルで確定されたアドレッシングの値が、1パス目で指定されたアドレッシングと異なる時に発生します。例えば、次のような場合が考えられます。

<pre>	lda	.ABSADRS	; ダイレクトアドレッシングの指定 
	:
ABSADRS	equ	0ffh+1		; ダイレクトアドレッシングの有効範囲を越えてい
	:			; る
</pre>

1パス目では、シンボルABSADRSはダイレクトアドレッシングが指定されているため、2バイト命令としてコードの領域を確保します。しかし、<a href="#equ.html">EQU疑似命令</a>でダイレクトアドレッシングの有効範囲（1バイト）を越えた値が指定されているため、2パス目で2バイト命令が生成できないためにエラーが発生します。</td>
</tr>
</table>
<p>
</p><table border="0" width="100%">
<tr align="LEFT" valine="TOP">
<td><b>Improper scope.</b></td>
<td align="RIGHT" valine="TOP">:Warning(1)</td>
</tr>
<tr align="LEFT" valine="TOP">
<td><b>不適切な階層です。</b></td>
<td></td>
</tr>
<tr align="LEFT" valine="TOP">
<td colspan="2">通常出力されないウォーニングです。このメッセージが出力した時には、お手数ですが弊社までご連絡下さるようお願い致します。</td>
</tr>
</table>
<p>
</p><table border="0" width="100%">
<tr align="LEFT" valine="TOP">
<td><b>Incorrect alignment op-code.</b></td>
<td align="RIGHT" valine="TOP">:Warning(2)</td>
</tr>
<tr align="LEFT" valine="TOP">
<td><b>オペコードのアライメントが正しくありません。</b></td>
<td></td>
</tr>
<tr align="LEFT" valine="TOP">
<td colspan="2">V810SFプロセッサ用として使用時に、オペコードが奇数番地から配置されている命令があります。<a href="#org.html">ORG疑似命令</a>や<a href="#offset.html">OFFSET疑似命令</a>を使用してオペコードを偶数番地から配置してください。</td>
</tr>
</table>
<p>
</p><table border="0" width="100%">
<tr align="LEFT" valine="TOP">
<td><b>Incorrect alignment pointer.</b></td>
<td align="RIGHT" valine="TOP">:Warning(2)</td>
</tr>
<tr align="LEFT" valine="TOP">
<td><b>アライメントが正しくないポインタがあります。</b></td>
<td></td>
</tr>
<tr align="LEFT" valine="TOP">
<td colspan="2">V810SFプロセッサ用として使用時に、奇数番地のシンボルをアドレッシングしている命令があります。<a href="#org.html">ORG疑似命令</a>や<a href="#offset.html">OFFSET疑似命令</a>を使用してアドレッシングしているシンボルを偶数番地から配置してください。</td>
</tr>
</table>
<p>
</p><table border="0" width="100%">
<tr align="LEFT" valine="TOP">
<td><b>Long expression.</b></td>
<td align="RIGHT" valine="TOP">:Error</td>
</tr>
<tr align="LEFT" valine="TOP">
<td><b>式が長すぎます。</b></td>
<td></td>
</tr>
<tr align="LEFT" valine="TOP">
<td colspan="2">オペランドの文字数が384文字を越えています。オぺランドフィールドに記述できる文字数は384文字までです。</td>
</tr>
</table>
<p>
</p><table border="0" width="100%">
<tr align="LEFT" valine="TOP">
<td><b>Macro reference limit over.</b></td>
<td align="RIGHT" valine="TOP">:Error</td>
</tr>
<tr align="LEFT" valine="TOP">
<td><b>これ以上マクロを展開できません。</b></td>
<td></td>
</tr>
<tr align="LEFT" valine="TOP">
<td colspan="2">マクロが256回以上ネスティングされているため、マクロ展開することができません。マクロ定義内で自分自身のマクロがネスティングされていないか確認してください。なお、マクロの定義は最大256回までネスティングすることができます。</td>
</tr>
</table>
<p>
</p><table border="0" width="100%">
<tr align="LEFT" valine="TOP">
<td><b>Macro table overflow.</b></td>
<td align="RIGHT" valine="TOP">:Error</td>
</tr>
<tr align="LEFT" valine="TOP">
<td><b>マクロのテーブルが一杯です。</b></td>
<td></td>
</tr>
<tr align="LEFT" valine="TOP">
<td colspan="2">定義しているマクロの数が多すぎるため、マクロテーブルに全て登録することができません。必要なマクロのみを定義するか、ISAS起動時に指定する<a href="#MACRO">-mオプション</a>の1番目の値（登録マクロ数）を大きくしてください。なお、定義できるマクロ数はデフォルト512個、最大8192個です。</td>
</tr>
</table>
<p>
</p><table border="0" width="100%">
<tr align="LEFT" valine="TOP">
<td><b>Macro text buffer overflow.</b></td>
<td align="RIGHT" valine="TOP">:Error</td>
</tr>
<tr align="LEFT" valine="TOP">
<td><b>マクロのテキストバッファが一杯です。</b></td>
<td></td>
</tr>
<tr align="LEFT" valine="TOP">
<td colspan="2">定義しているマクロの内容が大きすぎるため、マクロのテキストバッファに全て登録することができません。必要なマクロのみを登録したり、マクロ内に記述しているシンボルの長さ等を短くしてください。なお、マクロ内のコメントを削除してもマクロのテキストバッファに影響は与えません。<br/>
また、ISAS起動時に指定する<a href="#MACRO">-mオプション</a>の2番目の値（マクロバッファサイズ）を大きくしてください。なお、定義できるマクロバッファのサイズはデフォルト32768バイト、最大ではメモリが存在する分だけ指定できます。</td>
</tr>
</table>
<p>
</p><table border="0" width="100%">
<tr align="LEFT" valine="TOP">
<td><b>Missing operand.[]</b></td>
<td align="RIGHT" valine="TOP">:Error</td>
</tr>
<tr align="LEFT" valine="TOP">
<td><b>演算値またはシンボルに誤りがあります。[]</b></td>
<td></td>
</tr>
<tr align="LEFT" valine="TOP">
<td colspan="2">演算値またはシンボルを記述すべき部分に、[]内に表示されている演算子が記述された時に発生します。</td>
</tr>
</table>
<p>
</p><table border="0" width="100%">
<tr align="LEFT" valine="TOP">
<td><b>Missing operator.[]</b></td>
<td align="RIGHT" valine="TOP">:Error</td>
</tr>
<tr align="LEFT" valine="TOP">
<td><b>演算子に誤りがあります。[]</b></td>
<td></td>
</tr>
<tr align="LEFT" valine="TOP">
<td colspan="2">演算子を記述すべき部分に、[]内に表示されている演算子以外（演算値またはシンボル）が記述された時に発生します。</td>
</tr>
</table>
<p>
</p><table border="0" width="100%">
<tr align="LEFT" valine="TOP">
<td><b>Missing symbol.[]</b></td>
<td align="RIGHT" valine="TOP">:Error</td>
</tr>
<tr align="LEFT" valine="TOP">
<td><b>シンボルの頭文字には数字を指定できません。[]</b></td>
<td></td>
</tr>
<tr align="LEFT" valine="TOP">
<td colspan="2">[]内に表示されたシンボルの頭文字に数字が使用されています。シンボルの頭文字には"@"、"$"、"_"、"A"から"Z"、および"a"から"z"の文字を使用してください。</td>
</tr>
</table>
<p>
</p><table border="0" width="100%">
<tr align="LEFT" valine="TOP">
<td><b>No macro name.</b></td>
<td align="RIGHT" valine="TOP">:Error</td>
</tr>
<tr align="LEFT" valine="TOP">
<td><b>マクロ名がありません。</b></td>
<td></td>
</tr>
<tr align="LEFT" valine="TOP">
<td colspan="2"><a href="#macro.html">MACRO疑似命令</a>を記述している行のシンボルフィールドにマクロ名が記述されていません。マクロを定義する時には、必ずマクロ名を指定する必要があります。</td>
</tr>
</table>
<p>
</p><table border="0" width="100%">
<tr align="LEFT" valine="TOP">
<td><b>Not defining macro.[]</b></td>
<td align="RIGHT" valine="TOP">:Error</td>
</tr>
<tr align="LEFT" valine="TOP">
<td><b>マクロ定義中ではありません。[]</b></td>
<td></td>
</tr>
<tr align="LEFT" valine="TOP">
<td colspan="2"><a href="#macro.html">MACRO疑似命令</a>によってマクロ定義を開始していないにも係わらず、マクロ定義中に使用する[]に表示されている疑似命令が使用されています。例えば、マクロ定義以外でENDM疑似命令を使用した時に発生します。</td>
</tr>
</table>
<p>
</p><table border="0" width="100%">
<tr align="LEFT" valine="TOP">
<td><b>Not enough memory.</b></td>
<td align="RIGHT" valine="TOP">:Error</td>
</tr>
<tr align="LEFT" valine="TOP">
<td><b>メモリーが足りません。</b></td>
<td></td>
</tr>
<tr align="LEFT" valine="TOP">
<td colspan="2">ISASを動作させるために必要なメモリが足りません。ISASを動作させるためには、アプリケーションが実行できるコンピュータのコンベンショナルメモリとして500Kバイト以上必要です。また、ISAS起動時に指定する<a href="#SYMBOL">-s（シンボルテーブルサイズの指定）</a>、<a href="#BUFFER">-b（入出力ファイルバッファサイズの指定）</a>、および<a href="#MACRO">-m（マクロ数、マクロバッファサイズの指定）</a>オプションを小さくして、ISASが使用するメモリサイズを少なくしてください。</td>
</tr>
</table>
<p>
</p><table border="0" width="100%">
<tr align="LEFT" valine="TOP">
<td><b>Not enough symbol tables.</b></td>
<td align="RIGHT" valine="TOP">:Error</td>
</tr>
<tr align="LEFT" valine="TOP">
<td><b>シンボルテーブルが足りません。</b></td>
<td></td>
</tr>
<tr align="LEFT" valine="TOP">
<td colspan="2">使用しているグローバルシンボルおよびローカルシンボルの数が多すぎるため、シンボルテーブルに全て登録することができません。必要なシンボルのみを定義するか、ISAS起動時に指定する<a href="#SYMBOL">-sオプション</a>の値を大きくしてください。なお、定義できるシンボル数はデフォルト4091個、最大65535個です。</td>
</tr>
</table>
<p>
</p><table border="0" width="100%">
<tr align="LEFT" valine="TOP">
<td><b>[] not yet support.</b></td>
<td align="RIGHT" valine="TOP">:Warning(3)</td>
</tr>
<tr align="LEFT" valine="TOP">
<td><b>まだ[]はサポートしていません。</b></td>
<td></td>
</tr>
<tr align="LEFT" valine="TOP">
<td colspan="2">ISASで指定されている予約語が使用されました。[]内に表示されている予約語以外の名前を使用してください。予約語とは、IS65との互換性の確保や将来のために用意している疑似命令で、IF1、IF2、KANJI、ERROR、NERROR、ONMEM、OFFMEM、FINAL、ON816、およびOFF816が予約語として用意されています。</td>
</tr>
</table>
<p>
</p><table border="0" width="100%">
<tr align="LEFT" valine="TOP">
<td><b>Op-code decoded.</b></td>
<td align="RIGHT" valine="TOP">:Warning(3)</td>
</tr>
<tr align="LEFT" valine="TOP">
<td><b>命令展開しました。</b></td>
<td></td>
</tr>
<tr align="LEFT" valine="TOP">
<td colspan="2">V810SFの特定の命令を命令展開しました。<br/>
ISASは、V810SFプロセッサ用アセンブラとして使用した時にデフォルトで命令展開を行います。展開される命令は、<a href="#MOV">mov</a>、<a href="#LD">ld/in</a>、<a href="#ST">st/out</a>、<a href="#ADD">add</a>、<a href="#ADDI">addi</a>、<a href="#CMP">cmp</a>、<a href="#DIV">div/divu/mul/mulu/not/sub</a>、<a href="#MOVEA">movea</a>、<a href="#AND">and/or/xor</a>、<a href="#ANDI">andi/ori/xori</a>、および<a href="#JMP">jmp命令</a>であり、<a href="#rsvreg.html">RSVREG疑似命令</a>によって展開の有無を指定することができます。また、<a href="#decon.html">DECON疑似命令</a>によって条件分岐命令を命令展開するかどうかを指定することができます。<br/>
各疑似命令の使用方法については"<a href="#pseudo.html">第５章　疑似命令</a>"の各項目を、また命令展開規則の詳細については"<a href="#extend.html">付録２　V810SF命令展開</a>"を参照してください。</td>
</tr>
</table>
<p>
</p><table border="0" width="100%">
<tr align="LEFT" valine="TOP">
<td><b>Op-code redefine.[]</b></td>
<td align="RIGHT" valine="TOP">:Warning(3)</td>
</tr>
<tr align="LEFT" valine="TOP">
<td><b>[]は既に定義されています。</b></td>
<td></td>
</tr>
<tr align="LEFT" valine="TOP">
<td colspan="2">マクロ定義の時に、既に存在する命令の名前がマクロ名に使用されています。[]内に表示された名前以外のマクロ名に変更してください。</td>
</tr>
</table>
<p>
</p><table border="0" width="100%">
<tr align="LEFT" valine="TOP">
<td><b>Operand is misleading.[] Parenthesis was ignored.</b></td>
<td align="RIGHT" valine="TOP">:Warning(3)</td>
</tr>
<tr align="LEFT" valine="TOP">
<td><b>誤解しやすいオペランドタイプです。[] 括弧は無視されます。</b></td>
<td></td>
</tr>
<tr align="LEFT" valine="TOP">
<td colspan="2">オペランドで演算子の括弧として記述している括弧（( )）が無意味な記述のため、ISASは括弧を無視してアセンブルします。例えば、DMGプロセッサのLD命令で次のように記述したファイルをアセンブルします。

<pre>	iddmg
	ld	hl,$10		; 正しい記述
	ld	hl,($10)	; 括弧を取っても出力されるコードに違いのない記述ため警告される
</pre>

2行目の命令の記述は括弧を取っても出力されるコードに違いのない記述のため、警告を出力し括弧を無視してアセンブルします。

<pre>C:¥&amp;gtisas -w3 test.s
INTELLIGENT SYSTEMS Assembler  Version X.XX for XXXXX
Copyright (c) 1993-1998 Nintendo Co.,Ltd.
Copyright (c) 1993-1998 INTELLIGENT SYSTEMS Co.,Ltd.
test.s :3: WARNING Operand is misleading.[($10)] Parenthesis was ignored.
warnings = 1

C:¥&amp;gt
</pre>
</td>
</tr>
</table>
<p>
</p><table border="0" width="100%">
<tr align="LEFT" valine="TOP">
<td><b>Out of range.[]</b></td>
<td align="RIGHT" valine="TOP">:Error</td>
</tr>
<tr align="LEFT" valine="TOP">
<td><b>レンジオーバーです。目的のアドレスに届きません。[]</b></td>
<td></td>
</tr>
<tr align="LEFT" valine="TOP">
<td colspan="2">相対命令のアドレスが、-128バイトから+127バイトの範囲を越えています。この範囲に入るように配置し直してください。</td>
</tr>
</table>
<p>
</p><table border="0" width="100%">
<tr align="LEFT" valine="TOP">
<td><b>Redeclare external symbol.[]</b></td>
<td align="RIGHT" valine="TOP">:Warning(2)</td>
</tr>
<tr align="LEFT" valine="TOP">
<td><b>外部参照シンボルを再宣言しました。[]</b></td>
<td></td>
</tr>
<tr align="LEFT" valine="TOP">
<td colspan="2">すでに<a href="#extern.html">EXTERN疑似命令</a>によって外部参照宣言しているシンボルを、<a href="#extern.html">EXTERN疑似命令</a>以外のグローバル定義疑似命令によって宣言されています。[]内に表示されているシンボルを修正してください。</td>
</tr>
</table>
<p>
</p><table border="0" width="100%">
<tr align="LEFT" valine="TOP">
<td><b>Some parameters were not assigned.</b></td>
<td align="RIGHT" valine="TOP">:Warning(3)</td>
</tr>
<tr align="LEFT" valine="TOP">
<td><b>いくつかのパラメータがありません。</b></td>
<td></td>
</tr>
<tr align="LEFT" valine="TOP">
<td colspan="2">マクロ定義しているパラメータの数より、マクロ参照しているパラメータの数が足りません。マクロ参照する時は、必ずマクロ定義しているパラメータの数だけ指定してください。</td>
</tr>
</table>
<p>
</p><table border="0" width="100%">
<tr align="LEFT" valine="TOP">
<td><b>Symbol definition failure in macro.</b></td>
<td align="RIGHT" valine="TOP">:Error</td>
</tr>
<tr align="LEFT" valine="TOP">
<td><b>マクロ内のシンボル定義で失敗しました。</b></td>
<td></td>
</tr>
<tr align="LEFT" valine="TOP">
<td colspan="2">マクロ定義用に用意されているシンボルバッファを全て使用したために、マクロ内でのシンボル定義ができません。マクロ定義内では、パラメータ置換用シンボルとローカルシンボルが使用できますが、これらのシンボルのために確保されたバッファを全て使用しました。バッファは、シンボル数256個、およびシンボルバッファ1024バイトが用意されます。シンボル数を減らすか、シンボル名の長さを短くしてください。</td>
</tr>
</table>
<p>
</p><table border="0" width="100%">
<tr align="LEFT" valine="TOP">
<td><b>Syntax error.[ELSE]</b></td>
<td align="RIGHT" valine="TOP">:Error</td>
</tr>
<tr align="LEFT" valine="TOP">
<td><b>文法エラー。[ELSE]</b></td>
<td></td>
</tr>
<tr align="LEFT" valine="TOP">
<td colspan="2"><a href="#if.html">IF疑似命令</a>と<a href="#endif.html">ENDIF疑似命令</a>の間以外で<a href="#else.html">ELSE疑似命令</a>が発見されました。<a href="#if.html">IF</a>〜<a href="#else.html">ELSE</a>〜<a href="#endif.html">ENDIF疑似命令</a>の記述順が正しいか確認してください。</td>
</tr>
</table>
<p>
</p><table border="0" width="100%">
<tr align="LEFT" valine="TOP">
<td><b>Syntax error.[ENDIF]</b></td>
<td align="RIGHT" valine="TOP">:Error</td>
</tr>
<tr align="LEFT" valine="TOP">
<td><b>文法エラー。[ENDIF]</b></td>
<td></td>
</tr>
<tr align="LEFT" valine="TOP">
<td colspan="2"><a href="#if.html">IF疑似命令</a>と対とならない<a href="#endif.html">ENDIF疑似命令</a>が発見されました。<a href="#if.html">IF疑似命令</a>と<a href="#endif.html">ENDIF疑似命令</a>が対となっているか確認してください。</td>
</tr>
</table>
<p>
</p><table border="0" width="100%">
<tr align="LEFT" valine="TOP">
<td><b>Tempolary file write failure.</b></td>
<td align="RIGHT" valine="TOP">:Error</td>
</tr>
<tr align="LEFT" valine="TOP">
<td><b>中間コードの書き込みに失敗しました。</b></td>
<td></td>
</tr>
<tr align="LEFT" valine="TOP">
<td colspan="2">ISASはアセンブル時に中間コードのテンポラリファイルを出力しますが、このファイルの書き込みが正常に行われませんでした。</td>
</tr>
</table>
<p>
</p><table border="0" width="100%">
<tr align="LEFT" valine="TOP">
<td><b>Terminate character not found.["]</b></td>
<td align="RIGHT" valine="TOP">:Error</td>
</tr>
<tr align="LEFT" valine="TOP">
<td><b>文字列終端を示すクォーテーションが見つかりません。</b></td>
<td></td>
</tr>
<tr align="LEFT" valine="TOP">
<td colspan="2">文字列の終わりに指定するダブルクォーテーション（"）がありません。文字列は必ずダブルクォーテーションで囲むように記述してください。なお、文字列内にダブルクォーテーションを記述したい時は、ダブルクォーテーションを続けて記述します。

<pre>	db	"これは""テスト""です."
</pre>

この結果、「これは"テスト"です.」というデータを作成することができます。</td>
</tr>
</table>
<p>
</p><table border="0" width="100%">
<tr align="LEFT" valine="TOP">
<td><b>The first alignment value must be largest value of all assigned values.</b></td>
<td align="RIGHT" valine="TOP">:Warning(2)</td>
</tr>
<tr align="LEFT" valine="TOP">
<td><b>最初のアライメント値は、すべてのアライメント値の中で最大の値でなければいけません。</b></td>
<td></td>
</tr>
<tr align="LEFT" valine="TOP">
<td colspan="2">
グループ内で複数の<a href="#even.html">EVEN疑似命令</a>が指定されている時に、最初の<a href="#even.html">EVEN疑似命令</a>で指定したアライメント値より大きな値を指定した<a href="#even.html">EVEN疑似命令</a>が最初の<a href="#even.html">EVEN疑似命令</a>以降に記述されています。このような時には、最初の<a href="#even.html">EVEN疑似命令</a>で指定するアライメント値をそれ以降の<a href="#even.html">EVEN疑似命令</a>で指定されているアライメント値の最大値を指定してください。

<pre>rom0	group	0
	even	2		; この最初のEVEN疑似命令では、以降のEVEN疑似命
	:			; 令で4を指定しているので警告される
	even	4		; 以降のEVEN疑似命令
	:
</pre>

なお、途中で<a href="#org.html">ORG疑似命令</a>が指定されると、以降のアライメント調整は<a href="#org.html">ORG疑似命令</a>で指定したアドレスから行われるので、上記制限には該当しません。
</td>
</tr>
</table>
<p>
</p><table border="0" width="100%">
<tr align="LEFT" valine="TOP">
<td><b>Too long op-code.</b></td>
<td align="RIGHT" valine="TOP">:Error</td>
</tr>
<tr align="LEFT" valine="TOP">
<td><b>オペコード領域が長すぎます。</b></td>
<td></td>
</tr>
<tr align="LEFT" valine="TOP">
<td colspan="2">オペコードフィールドに記述している内容が長すぎます。オペコードフィールドに記述できる文字数は64文字までです。このエラーが発生した時はオペコード、疑似命令、またはマクロ名に誤りがあることが考えられます。</td>
</tr>
</table>
<p>
</p><table border="0" width="100%">
<tr align="LEFT" valine="TOP">
<td><b>Too long operand.</b></td>
<td align="RIGHT" valine="TOP">:Error</td>
</tr>
<tr align="LEFT" valine="TOP">
<td><b>オペランド領域が長すぎます。</b></td>
<td></td>
</tr>
<tr align="LEFT" valine="TOP">
<td colspan="2">オペランドフィールドに記述している内容が長すぎます。オペランドフィールドに記述できる文字数は384文字までです。このエラーが発生した時は、オペランド、疑似命令に対するパラメータ、またはコメントの記述を短くしてください。</td>
</tr>
</table>
<p>
</p><table border="0" width="100%">
<tr align="LEFT" valine="TOP">
<td><b>Too long parameters.</b></td>
<td align="RIGHT" valine="TOP">:Error</td>
</tr>
<tr align="LEFT" valine="TOP">
<td><b>パラメータが長すぎます。</b></td>
<td></td>
</tr>
<tr align="LEFT" valine="TOP">
<td colspan="2">マクロのパラメータに記述している内容が長すぎます。オペランドフィールドに記述できる文字数は384文字までです。このエラーが発生した時は、マクロに対するパラメータの記述を短くしてください。</td>
</tr>
</table>
<p>
</p><table border="0" width="100%">
<tr align="LEFT" valine="TOP">
<td><b>Too long symbol.</b></td>
<td align="RIGHT" valine="TOP">:Error</td>
</tr>
<tr align="LEFT" valine="TOP">
<td><b>シンボルが長すぎます。</b></td>
<td></td>
</tr>
<tr align="LEFT" valine="TOP">
<td colspan="2">宣言しているシンボル名が長すぎます。シンボル名の長さは、グローバルシンボルは32文字まで、ローカルシンボルは27文字までですので、シンボル名をこれらの制限数より短くしてください。</td>
</tr>
</table>
<p>
</p><table border="0" width="100%">
<tr align="LEFT" valine="TOP">
<td><b>Too many assigned parameters.</b></td>
<td align="RIGHT" valine="TOP">:Warning(3)</td>
</tr>
<tr align="LEFT" valine="TOP">
<td><b>パラメータが多すぎます。</b></td>
<td></td>
</tr>
<tr align="LEFT" valine="TOP">
<td colspan="2">マクロ定義しているパラメータの数より、マクロ参照している部分にパラメータの数が多すきます。マクロ参照する時は、必ずマクロ定義しているパラメータの数だけ指定してください。</td>
</tr>
</table>
<p>
</p><table border="0" width="100%">
<tr align="LEFT" valine="TOP">
<td><b>Unbalance left parenthesis [(].</b></td>
<td align="RIGHT" valine="TOP">:Error</td>
</tr>
<tr align="LEFT" valine="TOP">
<td><b>釣り合っていない左括弧があります「(」。</b></td>
<td></td>
</tr>
<tr align="LEFT" valine="TOP">
<td colspan="2">右括弧の数より左括弧の数が多く記述されています。対となる括弧を確認してください。</td>
</tr>
</table>
<p>
</p><table border="0" width="100%">
<tr align="LEFT" valine="TOP">
<td><b>Unbalance right parenthesis [)].</b></td>
<td align="RIGHT" valine="TOP">:Error</td>
</tr>
<tr align="LEFT" valine="TOP">
<td><b>釣り合っていない右括弧があります「)」。</b></td>
<td></td>
</tr>
<tr align="LEFT" valine="TOP">
<td colspan="2">左括弧の数より右括弧の数が多く記述されています。対となる括弧を確認してください。</td>
</tr>
</table>
<p>
</p><table border="0" width="100%">
<tr align="LEFT" valine="TOP">
<td><b>Undefined group.</b></td>
<td align="RIGHT" valine="TOP">:Error</td>
</tr>
<tr align="LEFT" valine="TOP">
<td><b>グループが定義されていません。</b></td>
<td></td>
</tr>
<tr align="LEFT" valine="TOP">
<td colspan="2">ソースファイル内に<a href="#group.html">GROUP疑似命令</a>が一つも宣言されていません。ソースファイルの先頭には、必ず<a href="#group.html">GROUP疑似命令</a>を使用してグループを宣言する必要があります。また、<a href="#even.html">EVEN疑似命令</a>が<a href="#group.html">GROUP疑似命令</a>より先に宣言している場合もこのエラーが発生します。必ず、<a href="#even.html">EVEN疑似命令</a>は<a href="#group.html">GROUP疑似命令</a>より後に記述してください。</td>
</tr>
</table>
<p>
</p><table border="0" width="100%">
<tr align="LEFT" valine="TOP">
<td><b>Undefined symbol.[]</b></td>
<td align="RIGHT" valine="TOP">:Error</td>
</tr>
<tr align="LEFT" valine="TOP">
<td><b>シンボルが見つかりません。[]</b></td>
<td></td>
</tr>
<tr align="LEFT" valine="TOP">
<td colspan="2">[]内に表示されたシンボルが見つかりません。シンボル名の確認や、参照しているシンボルが外部で定義されている場合は<a href="#extern.html">EXTERN疑似命令</a>で外部参照しているシンボルであることを指定してください。</td>
</tr>
</table>
<p>
</p><table border="0" width="100%">
<tr align="LEFT" valine="TOP">
<td><b>Unknown op-code.[]</b></td>
<td align="RIGHT" valine="TOP">:Error</td>
</tr>
<tr align="LEFT" valine="TOP">
<td><b>命令が理解できません。[]</b></td>
<td></td>
</tr>
<tr align="LEFT" valine="TOP">
<td colspan="2">[]内に表示されたオペコードの記述に誤りがあります。正しいニーモニック、疑似命令、またはマクロ名を記述してください。また、オペコードは2カラム目以降のオペコードフィールドに記述する必要があります。プログラムの書式については、"第３章　ソースファイル"の"<a href="#program.html">プログラムの書式</a>"を参照してください。</td>
</tr>
</table>
<p>
</p><table border="0" width="100%">
<tr align="LEFT" valine="TOP">
<td><b>Unusual expression.</b></td>
<td align="RIGHT" valine="TOP">:Error</td>
</tr>
<tr align="LEFT" valine="TOP">
<td><b>異常な式です。</b></td>
<td></td>
</tr>
<tr align="LEFT" valine="TOP">
<td colspan="2">現在サポートしていない演算子が式の中で使用されています。ISASでサポートしている演算子は、"第４章　式"の"<a href="#operator.html">演算子</a>"を参照してください。</td>
</tr>
</table>
<hr/>
</body></html>
<hr id="islkmessage.html">
<html><body><h2>ISLKのメッセージ</h2>
<font size="-1">[ <a href="#isasmessage.html">前ページへ</a> | <a href="#isxfile.html">次ページへ</a> ]</font>
<hr/>
<p>ISLKが出力するメッセージについて説明します。メッセージの説明では、1行目に英語メッセージとエラーまたはウォーニングの種類、2行目に日本語メッセージ、3行目以降にメッセージの説明や対処方法等について記述しています。なお、英語メッセージはデフォルト、またはISLK起動時に<a href="#ENGLISH">-usオプション</a>を指定、日本語メッセージは<a href="#JAPANESE">-jpオプション</a>を指定した時に表示されます。</p>
<p>
</p><table border="0" width="100%">
<tr align="LEFT" valine="TOP">
<td><b>Bank over.[]</b></td>
<td align="RIGHT" valine="TOP">:Warning</td>
</tr>
<tr align="LEFT" valine="TOP">
<td><b>バンクを越えました。[]</b></td>
<td></td>
</tr>
<tr align="LEFT" valine="TOP">
<td colspan="2">プログラムがバンクの領域サイズを越えて作成されました。65816プロセッサのプログ
ラムを開発する時、バンクを越えてプログラムを配置することは許されません。このウォーニングが出力された時は、以下の原因が考えられます。

<ul>
<li>プログラムのサイズが大きく成り過ぎた場合。
</li><li><a href="#org.html">ORG疑似命令</a>や<a href="#offset.html">OFFSET疑似命令</a>で指定したアドレスに誤りがある場合。
</li><li>ISLKの<a href="#GROUP">-Gオプション</a>で指定したアドレスに誤りがある場合。
</li></ul>

[]内に表示されるオブジェクトの開始アドレスと終了アドレスを参考に、上記項目を確認してください。なお、このウォーニングはISLK起動時に<a href="#WARNING">-w bank-overオプション</a>を指定した場合にのみ出力されます。</td>
</tr>
</table>
<p>
</p><table border="0" width="100%">
<tr align="LEFT" valine="TOP">
<td><b>Can not create temporary.[]</b></td>
<td align="RIGHT" valine="TOP">:Error</td>
</tr>
<tr align="LEFT" valine="TOP">
<td><b>テンポラリーファイルが作成できません。[]</b></td>
<td></td>
</tr>
<tr align="LEFT" valine="TOP">
<td colspan="2">ISLKは、リンク時にカレントディレクトリ、または<a href="#ISTMP">ISTMP、TEMP、TMP</a>の何れかの環境変数が指定されている時はその指定されたディレクトリに[]内に表示されたファイル名のテンポラリーファイルを作成しますが、ディスクの容量不足によってこのファイルが作成できない時にエラーが発生します。ディスクの空き容量を確認してください。</td>
</tr>
</table>
<p>
</p><table border="0" width="100%">
<tr align="LEFT" valine="TOP">
<td><b>Can not devide by 0.</b></td>
<td align="RIGHT" valine="TOP">:Error</td>
</tr>
<tr align="LEFT" valine="TOP">
<td><b>０で除算する事はできません。</b></td>
<td></td>
</tr>
<tr align="LEFT" valine="TOP">
<td colspan="2">0で除算している式があります。0で除算することはできません。</td>
</tr>
</table>
<p>
</p><table border="0" width="100%">
<tr align="LEFT" valine="TOP">
<td><b>Can not open file.[]</b></td>
<td align="RIGHT" valine="TOP">:Error</td>
</tr>
<tr align="LEFT" valine="TOP">
<td><b>ファイルがオープンできません。[]</b></td>
<td></td>
</tr>
<tr align="LEFT" valine="TOP">
<td colspan="2">[]内に表示されたファイルが見つからないためオープンすることができません。指定したオブジェクトファイル名やそのディレクトリパスを確認してください。</td>
</tr>
</table>
<p>
</p><table border="0" width="100%">
<tr align="LEFT" valine="TOP">
<td><b>Can not write file.</b></td>
<td align="RIGHT" valine="TOP">:Error</td>
</tr>
<tr align="LEFT" valine="TOP">
<td><b>ファイルに出力できません。</b></td>
<td></td>
</tr>
<tr align="LEFT" valine="TOP">
<td colspan="2">ISLKが出力するISXファイルがディスクに正常に出力できませんでした。ディスクの容量不足が考えられるため、ファイルの出力先ディスクの空き容量を確認してください。</td>
</tr>
</table>
<p>
</p><table border="0" width="100%">
<tr align="LEFT" valine="TOP">
<td><b>Different case module found.</b></td>
<td align="RIGHT" valine="TOP">:Warning</td>
</tr>
<tr align="LEFT" valine="TOP">
<td><b>小文字と大文字の区別をしていないモジュールが含まれています。</b></td>
<td></td>
</tr>
<tr align="LEFT" valine="TOP">
<td colspan="2">リンクしたモジュールのうち、<a href="#capson.html">CAPSON疑似命令</a>を指定している（または<a href="#capsoff.html">CAPSOFF/SMALL疑似命令</a>を指定していない）モジュールと、<a href="#capsoff.html">CAPSOFF/SMALL疑似命令</a>を指定しているモジュールとが混在しています。<a href="#capson.html">CAPSON疑似命令</a>と<a href="#capsoff.html">CAPSOFF/SMALL疑似命令</a>の指定は、必ず同じ指定をリンクする全てのモジュールに行ってください。</td>
</tr>
</table>
<p>
</p><table border="0" width="100%">
<tr align="LEFT" valine="TOP">
<td><b>Expression stack over flow.</b></td>
<td align="RIGHT" valine="TOP">:Error</td>
</tr>
<tr align="LEFT" valine="TOP">
<td><b>計算に必要なスタックを使い果たしました。</b></td>
<td></td>
</tr>
<tr align="LEFT" valine="TOP">
<td colspan="2">ソースファイル内で四則演算等の計算式が長すぎる時に発生します。このような時は、計算式を短くしてください。</td>
</tr>
</table>
<p>
</p><table border="0" width="100%">
<tr align="LEFT" valine="TOP">
<td><b>File create failure.[]</b></td>
<td align="RIGHT" valine="TOP">:Error</td>
</tr>
<tr align="LEFT" valine="TOP">
<td><b>ファイルの作成に失敗しました。[]</b></td>
<td></td>
</tr>
<tr align="LEFT" valine="TOP">
<td colspan="2">[]内に表示されたファイルが作成できませんでした。ファイル名やディレクトリパスを確認してください。また、MS-DOSまたはPC DOSの環境変数FILESの値が小さい時にもこのエラーが発生する場合があるので、環境変数FILESの値が小さすぎないか確認してください。</td>
</tr>
</table>
<p>
</p><table border="0" width="100%">
<tr align="LEFT" valine="TOP">
<td><b>File read failure.[]</b></td>
<td align="RIGHT" valine="TOP">:Error</td>
</tr>
<tr align="LEFT" valine="TOP">
<td><b>ファイルの読み込みに失敗しました。[]</b></td>
<td></td>
</tr>
<tr align="LEFT" valine="TOP">
<td colspan="2">[]内に表示されたファイルが正常に読み込めません。ファイルの有無、およびファイル名やディレクトリパスを確認してください。</td>
</tr>
</table>
<p>
</p><table border="0" width="100%">
<tr align="LEFT" valine="TOP">
<td><b>Group has not assigned address.[]</b></td>
<td align="RIGHT" valine="TOP">:Error</td>
</tr>
<tr align="LEFT" valine="TOP">
<td><b>最初のグループにアドレスが割り当てられていません。[]</b></td>
<td></td>
</tr>
<tr align="LEFT" valine="TOP">
<td colspan="2">最初に出現するグループには絶対アドレスを指定する必要がありますが、相当するファイルに絶対アドレスの指定が行われていません。<a href="#org.html">ORG疑似命令</a>によって絶対アドレスを指定してください。</td>
</tr>
</table>
<p>
</p><table border="0" width="100%">
<tr align="LEFT" valine="TOP">
<td><b>&lt;n&gt;<!-- <n> --> group(s) conflict area detected.</b></td>
<td align="RIGHT" valine="TOP">:Warning</td>
</tr>
<tr align="LEFT" valine="TOP">
<td><b>&lt;n&gt;<!-- <n> -->個のグループが重なっています。</b></td>
<td></td>
</tr>
<tr align="LEFT" valine="TOP">
<td colspan="2">ISLKの<a href="#GROUP">-Gオプション</a>で指定したグループの配置アドレスに重複された領域が見つかりました。&lt;n&gt;<!-- <n> -->には、他のグループと重複しているグループ数が表示されます。<br/>
ウォーニングが発生すると、次のように重なっているグループとそのアドレスが表示されます。

<pre>C:¥&gt;islk4g sample.o -G text=$ffff0000 -G data=$ffff2000 -G bss=$05000000
INTELLIGENT SYSTEMS Linker  Version X.XX for XXXXX
Copyright (c) 1993-1998 Nintendo Co.,Ltd.
Copyright (c) 1993-1998 INTELLIGENT SYSTEMS Co.,Ltd.
        Area of [text] group = FFFF:0000 - FFFF:2BA5 conflict
WARNING! 1 group(s) conflict area detected.

C:¥&gt;
</pre>

このような時には、次のように<a href="#VERBOSE">-vオプション</a>を指定すると、どのグループのアドレスと重なっているかを簡単に確認することができます。

<pre>C:¥&gt;islk4g sample.o -G text=$ffff0000 -G data=$ffff2000 -G bss=$05000000 -v
INTELLIGENT SYSTEMS Linker  Version X.XX for XXXXX
Copyright (c) 1993-1998 Nintendo Co.,Ltd.
Copyright (c) 1993-1998 INTELLIGENT SYSTEMS Co.,Ltd.
output file : sample.isx

*** phase 1 ***
 sample.o
*** phase 2 ***
 sample.o
symbol:167
        Area of [text] group = FFFF:0000 - FFFF:2BA5 conflict
        Area of [data] group = FFFF:2000 - FFFF:22C7
        Area of [bss] group = 0500:0000 - 0500:9157
        End of [vec] group = FFFF:0017
WARNING! 1 group(s) conflict area detected.
range:23

C:¥&gt;
</pre>
</td>
</tr>
</table>
<p>
</p><table border="0" width="100%">
<tr align="LEFT" valine="TOP">
<td><b>Incorrect alignment op-code.</b></td>
<td align="RIGHT" valine="TOP">:Warning</td>
</tr>
<tr align="LEFT" valine="TOP">
<td><b>オペコードのアライメントが正しくありません。</b></td>
<td></td>
</tr>
<tr align="LEFT" valine="TOP">
<td colspan="2">V810SFプロセッサ用として使用時に、オペコードが奇数番地から配置されている命令があります。<a href="#org.html">ORG疑似命令</a>や<a href="#offset.html">OFFSET疑似命令</a>を使用してオペコードを偶数番地から配置してください。</td>
</tr>
</table>
<p>
</p><table border="0" width="100%">
<tr align="LEFT" valine="TOP">
<td><b>Incorrect alignment pointer.</b></td>
<td align="RIGHT" valine="TOP">:Warning</td>
</tr>
<tr align="LEFT" valine="TOP">
<td><b>アライメントが正しくないポインタがあります。</b></td>
<td></td>
</tr>
<tr align="LEFT" valine="TOP">
<td colspan="2">V810SFプロセッサ用として使用時に、奇数番地のシンボルをアドレッシングしている命令があります。<a href="#org.html">ORG疑似命令</a>や<a href="#offset.html">OFFSET疑似命令</a>を使用してアドレッシングしているシンボルを偶数番地から配置してください。</td>
</tr>
</table>
<p>
</p><table border="0" width="100%">
<tr align="LEFT" valine="TOP">
<td><b>Missing symbol.[]</b></td>
<td align="RIGHT" valine="TOP">:Error</td>
</tr>
<tr align="LEFT" valine="TOP">
<td><b>シンボルの頭文字には数字を指定できません。[]</b></td>
<td></td>
</tr>
<tr align="LEFT" valine="TOP">
<td colspan="2">[]内に表示されたシンボルの頭文字に数字が使用されています。シンボルの頭文字には"@"、"$"、"_"、"A"から"Z"、および"a"から"z"の文字を使用してください。</td>
</tr>
</table>
<p>
</p><table border="0" width="100%">
<tr align="LEFT" valine="TOP">
<td><b>Not enough memory.</b></td>
<td align="RIGHT" valine="TOP">:Error</td>
</tr>
<tr align="LEFT" valine="TOP">
<td><b>メモリーが足りません。</b></td>
<td></td>
</tr>
<tr align="LEFT" valine="TOP">
<td colspan="2">ISLKを動作させるために必要なメモリが足りません。ISLKを動作させるためには、アプリケーションが実行できるコンピュータのコンベンショナルメモリとして500Kバイト以上必要です。また、ISLK起動時に指定する<a href="#SYMBOL">-s（シンボルテーブルのサイズ指定）</a>、および<a href="#BUFFER">-b（入出力ファイルバッファのサイズ指定）</a>オプションを小さくして、ISLKが使用するメモリサイズを少なくしてください。</td>
</tr>
</table>
<p>
</p><table border="0" width="100%">
<tr align="LEFT" valine="TOP">
<td><b>Not enough symbol buffer.</b></td>
<td align="RIGHT" valine="TOP">:Error</td>
</tr>
<tr align="LEFT" valine="TOP">
<td><b>シンボルテーブルが足りません。</b></td>
<td></td>
</tr>
<tr align="LEFT" valine="TOP">
<td colspan="2">コンベンショナルメモリ上に確保されるシンボルテーブルのサイズが不足しています。ISLK起動時の<a href="#SYMBOL">-sオプション</a>を用いて、シンボルテーブルを増やしてください。なお、デフォルトで確保されるシンボルテーブル数は4091です。</td>
</tr>
</table>
<p>
</p><table border="0" width="100%">
<tr align="LEFT" valine="TOP">
<td><b>Out of range.[]</b></td>
<td align="RIGHT" valine="TOP">:Error</td>
</tr>
<tr align="LEFT" valine="TOP">
<td><b>レンジオーバーです。目的のアドレスに届きません。[]</b></td>
<td></td>
</tr>
<tr align="LEFT" valine="TOP">
<td colspan="2">相対命令のアドレスが、-128バイトから+127バイトの範囲を越えています。この範囲に入るように配置し直してください。</td>
</tr>
</table>
<p>
</p><table border="0" width="100%">
<tr align="LEFT" valine="TOP">
<td><b>Record length error in [].</b></td>
<td align="RIGHT" valine="TOP">:Error</td>
</tr>
<tr align="LEFT" valine="TOP">
<td><b>レコード長が異常です。[]</b></td>
<td></td>
</tr>
<tr align="LEFT" valine="TOP">
<td colspan="2">[]内に表示されたオブジェクトファイルのレコード長に誤りがあります。オブジェクトファイルが破壊されている可能性があるため、再度アセンブル、リンクして確認してください。</td>
</tr>
</table>
<p>
</p><table border="0" width="100%">
<tr align="LEFT" valine="TOP">
<td><b>Symbol defined more than once.[]</b></td>
<td align="RIGHT" valine="TOP">:Error</td>
</tr>
<tr align="LEFT" valine="TOP">
<td><b>シンボルの値が一致していません。[]</b></td>
<td></td>
</tr>
<tr align="LEFT" valine="TOP">
<td colspan="2">[]内に表示された同名のシンボルが二ヶ所以上で外部定義されているため、シンボルの値が決定できません。<a href="#public.html">PUBLIC疑似命令</a>によるシンボルの外部定義宣言は、必ず一ヶ所で行ってください。また、同名のシンボルでも大文字と小文字とを分けて判断したい時は、<a href="#capsoff.html">CAPSOFF/SMALL疑似命令</a>を指定してください。デフォルトでは、シンボルの大文字と小文字は同一として判断するので注意してください。</td>
</tr>
</table>
<p>
</p><table border="0" width="100%">
<tr align="LEFT" valine="TOP">
<td><b>Symbol out failure.</b></td>
<td align="RIGHT" valine="TOP">:Error</td>
</tr>
<tr align="LEFT" valine="TOP">
<td><b>シンボルの出力に失敗しました。</b></td>
<td></td>
</tr>
<tr align="LEFT" valine="TOP">
<td colspan="2">シンボル情報をISXファイルに正常に出力できませんでした。ディスクの容量の不足が考えられるため、ファイルを出力すべきディスクの容量を確認してください。</td>
</tr>
</table>
<p>
</p><table border="0" width="100%">
<tr align="LEFT" valine="TOP">
<td><b>Tempolary file write failure.</b></td>
<td align="RIGHT" valine="TOP">:Error</td>
</tr>
<tr align="LEFT" valine="TOP">
<td><b>テンポラリーファイルの書き込みに失敗しました。</b></td>
<td></td>
</tr>
<tr align="LEFT" valine="TOP">
<td colspan="2">ISLKが作成するテンポラリーファイルの書き込みが正常に行われませんでした。</td>
</tr>
</table>
<p>
</p><table border="0" width="100%">
<tr align="LEFT" valine="TOP">
<td><b>Too many range information.[]</b></td>
<td align="RIGHT" valine="TOP">:Warning</td>
</tr>
<tr align="LEFT" valine="TOP">
<td><b>レンジ情報が多すぎます。[]</b></td>
<td></td>
</tr>
<tr align="LEFT" valine="TOP">
<td colspan="2">レンジ情報が多すぎるため、ISXファイルに全てのレンジ情報を出力することができませんでした。例えば、デバッグが完了したモジュールなどはレンジ情報を出力する必要がありません。そのようなモジュールの先頭で<a href="#offrng.html">OFFRNG疑似命令</a>を、終わりに<a href="#onrng.html">ONRNG疑似命令</a>を指定することにより、出力するレンジ情報を減らすことができます。[]内には現在のレンジ数が表示されますが、この値がISXファイルに出力可能な最大レンジ情報数の65535個を越えないように<a href="#onrng.html">ONRNG疑似命令</a>と<a href="#offrng.html">OFFRNG疑似命令</a>を用いて調整されると良いでしょう。</td>
</tr>
</table>
<!--
レンジ情報が多すぎるため、ISXファイルに全てのレンジ情報を出力することができませんでした。デバッグを行なわないモジュールをアセンブルする時に<A HREF="isasoption.html#NORANGE">-norange</A>の起動オプションを指定して、不必要なレンジ情報が出力されないように指定してください。[]内には現在のレンジ数が表示されますが、この値がISXファイルに出力可能な最大レンジ情報数の65535個を越えないように<A HREF="isasoption.html#NORANGE">-norangeオプション</A>を指定されると良いでしょう。
-->
<p>
</p><table border="0" width="100%">
<tr align="LEFT" valine="TOP">
<td><b>Undefined group.</b></td>
<td align="RIGHT" valine="TOP">:Error</td>
</tr>
<tr align="LEFT" valine="TOP">
<td><b>グループが定義されていません。</b></td>
<td></td>
</tr>
<tr align="LEFT" valine="TOP">
<td colspan="2">ソースファイル内に<a href="#group.html">GROUP疑似命令</a>が一つも宣言されていません。ソースファイルの先頭には、必ず<a href="#group.html">GROUP疑似命令</a>を使用してグループを宣言する必要があります。</td>
</tr>
</table>
<p>
</p><table border="0" width="100%">
<tr align="LEFT" valine="TOP">
<td><b>Unresolved external.[]</b></td>
<td align="RIGHT" valine="TOP">:Error</td>
</tr>
<tr align="LEFT" valine="TOP">
<td><b>シンボルが解決されていません。[]</b></td>
<td></td>
</tr>
<tr align="LEFT" valine="TOP">
<td colspan="2">[]内に表示されたシンボルが定義されていないため、実際の値を代入することができません。シンボル名の確認、または外部参照シンボルの場合は<a href="#extern.html">EXTERN疑似命令</a>によって外部参照宣言しているかどうかを確認してください。</td>
</tr>
</table>
<p>
</p><table border="0" width="100%">
<tr align="LEFT" valine="TOP">
<td><b>Unusual expression.</b></td>
<td align="RIGHT" valine="TOP">:Error</td>
</tr>
<tr align="LEFT" valine="TOP">
<td><b>異常な式です。</b></td>
<td></td>
</tr>
<tr align="LEFT" valine="TOP">
<td colspan="2">このエラーが表示される時はオブジェクトファイルが破壊されている可能性が考えられます。また、ISASとISLKのバージョンが異なる時にも発生するので、バージョンを確認後、再度アセンブルしリンクしてください。</td>
</tr>
</table>
<hr/>
</body></html>
<hr id="isxfile.html">
<html><body><h2>ISXファイル</h2>
<font size="-1">[ <a href="#islkmessage.html">前ページへ</a> | <a href="#isxformat1.html">次ページへ</a> ]</font>
<hr/>
<p>ISLKが出力するファイルには、ISXファイルと拡張ISXファイルの2種類があります。</p>
<p>ISXファイルは、従来のSHVCデバッガ等で読み込むことが可能なファイルであり、ISLK起動時に<a href="#OLDISX">-x24オプション</a>を指定すると出力されます。</p>
<p>また、拡張ISXファイルは、シンボリックデバッグを行うためのデバッグ情報の他に、デバッガ上でソースレベルデバッグを行うための情報も含まれています。ISLKは、デフォルトでこの拡張ISXファイルを出力します。</p>
<hr/>
</body></html>
<hr id="isxformat1.html">
<html><body><h2>ISXファイルフォーマット</h2>
<font size="-1">[ <a href="#isxfile.html">前ページへ</a> | <a href="#isxformat2.html">次ページへ</a> ]</font>
<hr/>
<p>ISXファイルは、次のようなフォーマットになっています。</p>
<table border="0" cellpadding="4">
<tr align="LEFT" valign="TOP">
<td nowrap="" width="20"></td>
<td bgcolor="GRAY" nowrap="" width="200">バイナリ情報</td>
<td nowrap="" width="10"></td>
<td>プログラムコードとデータ、およびそれらをメモリ上に配置するためのバイナリ情報が格納されています。</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="" width="20"></td>
<td bgcolor="GRAY" nowrap="">シンボル情報</td>
<td nowrap="" width="10"></td>
<td>シンボリックデバッグに必要なシンボル名と、そのシンボルのアドレス、またはデータの値が格納されています。</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="" width="20"></td>
<td bgcolor="GRAY" nowrap="">レンジ情報</td>
<td nowrap="" width="10"></td>
<td>データ定義領域、およびアキュームレータやインテックスのビットモードを示した領域の情報が格納されています。</td>
</tr>
</table>
<p>なお、ISLK起動時に<a href="#NODEBUG">-nオプション</a>を指定すると、ISXファイルにはシンボル情報とレンジ情報は出力されません。</p>
<h3><a name="BINARY">バイナリ情報</a></h3>
<p>バイナリ情報は、レコードタイプ01Hで始まるレコードです。バンク配置情報の値が7FH以下の時と、80H以上でフォーマットが異なります。</p>
<p>
</p><ul>
<li>バンク配置情報の値が7FH以下の時
</li></ul>
<table border="0" cellpadding="4">
<tr align="LEFT" valign="TOP">
<td nowrap="" width="20">1</td>
<td bgcolor="GRAY" nowrap="" width="200">レコードタイプ（01H）</td>
<td nowrap="" width="10"></td>
<td>ブロック</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="" width="20">1</td>
<td bgcolor="GRAY" nowrap="">バンク（00H〜7FH）</td>
<td nowrap="" width="10"></td>
<td></td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="" width="20">2</td>
<td bgcolor="GRAY" nowrap="">
<table border="0" cellpadding="0" cellspacing="0">
<tr align="LEFT" valign="TOP">
<td nowrap="">アドレス</td>
<td nowrap="">（Low）<br/>（High）</td>
</tr>
</table>
</td>
<td nowrap="" width="10"></td>
<td></td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="" width="20">2</td>
<td bgcolor="GRAY" nowrap="">
<table border="0" cellpadding="0" cellspacing="0">
<tr align="LEFT" valign="TOP">
<td nowrap="">データ長</td>
<td nowrap="">（Low）<br/>（High）</td>
</tr>
</table>
</td>
<td nowrap="" width="10"></td>
<td></td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="" width="20">n</td>
<td bgcolor="GRAY" nowrap="">データ（nバイト）</td>
<td nowrap="" width="10"></td>
<td></td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="" width="20"></td>
<td bgcolor="GRAY" nowrap=""></td>
<td nowrap="" width="10"></td>
<td>配置するデータがある場合、上記ブロックが繰り返される</td>
</tr>
</table>
<p>
</p><ul>
<li>バンク配置情報の値が80H以上の時
</li></ul>
<table border="0" cellpadding="4">
<tr align="LEFT" valign="TOP">
<td nowrap="" width="20">1</td>
<td bgcolor="GRAY" nowrap="" width="200">レコードタイプ（01H）</td>
<td nowrap="" width="10"></td>
<td>ブロック</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="" width="20">2</td>
<td bgcolor="GRAY" nowrap="">
<table border="0" cellpadding="0" cellspacing="0">
<tr align="LEFT" valign="TOP">
<td nowrap="">バンク</td>
<td nowrap="">（80H）<br/>（80H〜FFH）</td>
</tr>
</table>
</td>
<td nowrap="" width="10"></td>
<td></td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="" width="20">2</td>
<td bgcolor="GRAY" nowrap="">
<table border="0" cellpadding="0" cellspacing="0">
<tr align="LEFT" valign="TOP">
<td nowrap="">アドレス</td>
<td nowrap="">（Low）<br/>（High）</td>
</tr>
</table>
</td>
<td nowrap="" width="10"></td>
<td></td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="" width="20">2</td>
<td bgcolor="GRAY" nowrap="">
<table border="0" cellpadding="0" cellspacing="0">
<tr align="LEFT" valign="TOP">
<td nowrap="">データ長</td>
<td nowrap="">（Low）<br/>（High）</td>
</tr>
</table>
</td>
<td nowrap="" width="10"></td>
<td></td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="" width="20">n</td>
<td bgcolor="GRAY" nowrap="">データ（nバイト）</td>
<td nowrap="" width="10"></td>
<td></td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="" width="20"></td>
<td bgcolor="GRAY" nowrap=""></td>
<td nowrap="" width="10"></td>
<td>配置するデータがある場合、上記ブロックが繰り返される</td>
</tr>
</table>
<h3><a name="SYMBOL">シンボル情報</a></h3>
<p>シンボル情報は、レコードタイプ04Hで始まるレコードです。</p>
<table border="0" cellpadding="4">
<tr align="LEFT" valign="TOP">
<td nowrap="" width="20">1</td>
<td bgcolor="GRAY" nowrap="" width="200">レコードタイプ（04H）</td>
<td nowrap="" width="10"></td>
<td>ヘッダ</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="" width="20">2</td>
<td bgcolor="GRAY" nowrap="">
<table border="0" cellpadding="0" cellspacing="0">
<tr align="LEFT" valign="TOP">
<td nowrap="">シンボル数</td>
<td nowrap="">（Low）<br/>（High）</td>
</tr>
</table>
</td>
<td nowrap="" width="10"></td>
<td></td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="" width="20">1</td>
<td bgcolor="GRAY" nowrap="">シンボル長</td>
<td nowrap="" width="10"></td>
<td>ブロック</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="" width="20">n</td>
<td bgcolor="GRAY" nowrap="">シンボル名（nバイト）</td>
<td nowrap="" width="10"></td>
<td></td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="" width="20">1</td>
<td bgcolor="GRAY" nowrap="">フラグ</td>
<td nowrap="" width="10"></td>
<td></td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="" width="20">1</td>
<td bgcolor="GRAY" nowrap="">バンク</td>
<td nowrap="" width="10"></td>
<td></td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="" width="20">2</td>
<td bgcolor="GRAY" nowrap="">
<table border="0" cellpadding="0" cellspacing="0">
<tr align="LEFT" valign="TOP">
<td nowrap="">アドレス</td>
<td nowrap="">（Low）<br/>（High）</td>
</tr>
</table>
</td>
<td nowrap="" width="10"></td>
<td></td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="" width="20"></td>
<td bgcolor="GRAY" nowrap=""></td>
<td nowrap="" width="10"></td>
<td>シンボル数-1分上記ブロックが繰り返される</td>
</tr>
</table>
<p>他のアセンブラによって出力されたシンボルファイルをISXファイルのフォーマットに変換するプログラムを作成する場合、フラグの部分には10Hをセットしてください。</p>
<h3><a name="RANGE">レンジ情報</a></h3>
<p>レンジ情報は、レコードタイプ03Hで始まるレコードです。</p>
<table border="0" cellpadding="4">
<tr align="LEFT" valign="TOP">
<td nowrap="" width="20">1</td>
<td bgcolor="GRAY" nowrap="" width="200">レコードタイプ（03H）</td>
<td nowrap="" width="10"></td>
<td>ヘッダ</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="" width="20">2</td>
<td bgcolor="GRAY" nowrap="">
<table border="0" cellpadding="0" cellspacing="0">
<tr align="LEFT" valign="TOP">
<td nowrap="">レンジ数</td>
<td nowrap="">（Low）<br/>（High）</td>
</tr>
</table>
</td>
<td nowrap="" width="10"></td>
<td></td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="" width="20">1</td>
<td bgcolor="GRAY" nowrap="">バンク</td>
<td nowrap="" width="10"></td>
<td>ブロック</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="" width="20">2</td>
<td bgcolor="GRAY" nowrap="">
<table border="0" cellpadding="0" cellspacing="0">
<tr align="LEFT" valign="TOP">
<td nowrap="">開始アドレス</td>
<td nowrap="">（Low）<br/>（High）</td>
</tr>
</table>
</td>
<td nowrap="" width="10"></td>
<td></td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="" width="20">2</td>
<td bgcolor="GRAY" nowrap="">
<table border="0" cellpadding="0" cellspacing="0">
<tr align="LEFT" valign="TOP">
<td nowrap="">終了アドレス</td>
<td nowrap="">（Low）<br/>（High）</td>
</tr>
</table>
</td>
<td nowrap="" width="10"></td>
<td></td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="" width="20">1</td>
<td bgcolor="GRAY" nowrap="">レンジ種</td>
<td nowrap="" width="10"></td>
<td></td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="" width="20"></td>
<td bgcolor="GRAY" nowrap=""></td>
<td nowrap="" width="10"></td>
<td>レンジ数-1分上記ブロックが繰り返される</td>
</tr>
</table>
<p>レンジ種には、データを指定した疑似命令の種類が1バイトのASCII文字で記述されています。なお、レンジ種のE、F、G、およびHは、ISASを65816プロセッサ用として使用した時のみ出力されます。</p>
<table border="1" width="100%">
<tr bgcolor="gray">
<th align="LEFT" nowrap="" valign="TOP">レンジ種</th>
<th align="LEFT" nowrap="" valign="TOP">意味</th>
</tr>
<tr align="LEFT" valign="TOP">
<td>A</td>
<td><a href="#defb.html">DEFB/DB疑似命令</a>でシングルクォーテーション（' '）、またはダブルクォーテーション（" "）で指定されたデータ領域</td>
</tr>
<tr align="LEFT" valign="TOP">
<td>B</td>
<td><a href="#defb.html">DEFB/DB疑似命令</a>で1バイトデータが指定されたデータ領域</td>
</tr>
<tr align="LEFT" valign="TOP">
<td>W</td>
<td><a href="#defw.html">DEFW/DW疑似命令</a>で指定されたデータ領域、またはV810SFプロセッサ時に<a href="#defh.html">DEFH/DH疑似命令</a>で指定されたデータ領域</td>
</tr>
<tr align="LEFT" valign="TOP">
<td>D</td>
<td><a href="#defd.html">DEFD/DD疑似命令</a>で指定されたデータ領域</td>
</tr>
<tr align="LEFT" valign="TOP">
<td>L</td>
<td><a href="#defl.html">DEFL/DL疑似命令</a>で指定されたデータ領域、またはV810SFプロセッサ時に<a href="#defw.html">DEFW/DW疑似命令</a>で指定されたデータ領域</td>
</tr>
<tr align="LEFT" valign="TOP">
<td>S</td>
<td><a href="#defs.html">DEFS/DS疑似命令</a>で指定された領域</td>
</tr>
<tr align="LEFT" valign="TOP">
<td>C</td>
<td>命令が配置されたコード領域</td>
</tr>
<tr align="LEFT" valign="TOP">
<td>E</td>
<td>65816プロセッサ時に<a href="#off16a.html">OFF16A</a>、<a href="#off16i.html">OFF16I疑似命令</a>で指定されたコード領域</td>
</tr>
<tr align="LEFT" valign="TOP">
<td>F</td>
<td>65816プロセッサ時に<a href="#off16a.html">OFF16A</a>、<a href="#on16i.html">ON16I疑似命令</a>で指定されたコード領域</td>
</tr>
<tr align="LEFT" valign="TOP">
<td>G</td>
<td>65816プロセッサ時に<a href="#on16a.html">ON16A</a>、<a href="#off16i.html">OFF16I疑似命令</a>で指定されたコード領域</td>
</tr>
<tr align="LEFT" valign="TOP">
<td>H</td>
<td>65816プロセッサ時に<a href="#on16a.html">ON16A</a>、<a href="#on16i.html">ON16I疑似命令</a>で指定されたコード領域</td>
</tr>
</table>
<hr/>
</body></html>
<hr id="isxformat2.html">
<html><body><h2>拡張ISXファイルフォーマット</h2>
<font size="-1">[ <a href="#isxformat1.html">前ページへ</a> | <a href="#extend.html">次ページへ</a> ]</font>
<hr/>
<p>拡張ISXファイルは、次のようなフォーマットになっています。</p>
<table border="0" cellpadding="4">
<tr align="LEFT" valign="TOP">
<td nowrap="" width="20"></td>
<td bgcolor="GRAY" nowrap="" width="200">ヘッダ情報</td>
<td nowrap="" width="10"></td>
<td>拡張ISXファイルのヘッダ情報が格納されています。</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="" width="20"></td>
<td bgcolor="GRAY" nowrap="">バイナリ情報</td>
<td nowrap="" width="10"></td>
<td>プログラムコードとデータ、およびそれらをメモリ上に配置するための情報が格納されています。</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="" width="20"></td>
<td bgcolor="GRAY" nowrap="">シンボル情報</td>
<td nowrap="" width="10"></td>
<td>シンボリックデバッグに必要なシンボル名と、そのシンボルのアドレス、またはデータの値が格納されています。</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="" width="20"></td>
<td bgcolor="GRAY" nowrap="">レンジ情報</td>
<td nowrap="" width="10"></td>
<td>データ定義領域、およびアキュームレータやインテックスのビットモードを示した領域の情報が格納されています。</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="" width="20"></td>
<td bgcolor="GRAY" nowrap="">デバッグ情報</td>
<td nowrap="" width="10"></td>
<td>ソースレベルデバッグに必要なデバッグ情報が格納されています。なお、この部分のデバッグ情報については公開しておりません。</td>
</tr>
</table>
<p>なお、ISLK起動時に<a href="#NODEBUG">-nオプション</a>を指定すると、ISXファイルにはシンボル情報、レンジ情報、およびデバッグ情報は出力されません。</p>
<h3><a name="HEAD">ヘッダ情報</a></h3>
<p>拡張ISXファイルの先頭には32バイトのヘッダ情報が用意されています。このヘッダ情報には拡張ISXファイルのバージョン等の情報が格納されています。</p>
<h3><a name="BINARY">バイナリ情報</a></h3>
<p>バイナリ情報は、レコードタイプ11Hで始まるレコードです。なお、アドレスがFFFFFFH以下の時は、ISXファイルのバイナリ情報のフォーマットで出力されます。</p>
<table border="0" cellpadding="4">
<tr align="LEFT" valign="TOP">
<td nowrap="" width="20">1</td>
<td bgcolor="GRAY" nowrap="" width="200">レコードタイプ（11H）</td>
<td nowrap="" width="10"></td>
<td>ブロック</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="" width="20">4</td>
<td bgcolor="GRAY" nowrap="">
<table border="0" cellpadding="0" cellspacing="0">
<tr align="LEFT" valign="TOP">
<td nowrap="">アドレス</td>
<td nowrap="">（Low-Low）<br/>（Low-High）<br/>（High-Low）<br/>（High-High）</td>
</tr>
</table>
</td>
<td nowrap="" width="10"></td>
<td></td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="" width="20">4</td>
<td bgcolor="GRAY" nowrap="">
<table border="0" cellpadding="0" cellspacing="0">
<tr align="LEFT" valign="TOP">
<td nowrap="">データ長</td>
<td nowrap="">（Low-Low）<br/>（Low-High）<br/>（High-Low）<br/>（High-High）</td>
</tr>
</table>
</td>
<td nowrap="" width="10"></td>
<td></td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="" width="20">n</td>
<td bgcolor="GRAY" nowrap="">データ（nバイト）</td>
<td nowrap="" width="10"></td>
<td></td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="" width="20"></td>
<td bgcolor="GRAY" nowrap=""></td>
<td nowrap="" width="10"></td>
<td>配置するデータがある場合、上記ブロックが繰り返される</td>
</tr>
</table>
<h3><a name="SYMBOL">シンボル情報</a></h3>
<p>シンボル情報は、レコードタイプ14Hで始まるレコードです。</p>
<table border="0" cellpadding="4">
<tr align="LEFT" valign="TOP">
<td nowrap="" width="20">1</td>
<td bgcolor="GRAY" nowrap="" width="200">レコードタイプ（14H）</td>
<td nowrap="" width="10"></td>
<td>ヘッダ</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="" width="20">2</td>
<td bgcolor="GRAY" nowrap="">
<table border="0" cellpadding="0" cellspacing="0">
<tr align="LEFT" valign="TOP">
<td nowrap="">シンボル数</td>
<td nowrap="">（Low）<br/>（High）</td>
</tr>
</table>
</td>
<td nowrap="" width="10"></td>
<td></td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="" width="20">1</td>
<td bgcolor="GRAY" nowrap="">シンボル長</td>
<td nowrap="" width="10"></td>
<td>ブロック</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="" width="20">n</td>
<td bgcolor="GRAY" nowrap="">シンボル名（nバイト）</td>
<td nowrap="" width="10"></td>
<td></td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="" width="20">1</td>
<td bgcolor="GRAY" nowrap="">フラグ</td>
<td nowrap="" width="10"></td>
<td></td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="" width="20">4</td>
<td bgcolor="GRAY" nowrap="">
<table border="0" cellpadding="0" cellspacing="0">
<tr align="LEFT" valign="TOP">
<td nowrap="">アドレス</td>
<td nowrap="">（Low-Low）<br/>（Low-High）<br/>（High-Low）<br/>（High-High）</td>
</tr>
</table>
</td>
<td nowrap="" width="10"></td>
<td></td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="" width="20"></td>
<td bgcolor="GRAY" nowrap=""></td>
<td nowrap="" width="10"></td>
<td>シンボル数-1分上記ブロックが繰り返される</td>
</tr>
</table>
<h3><a name="RANGE">レンジ情報</a></h3>
<p>レンジ情報は、レコードタイプ13Hで始まるレコードです。</p>
<table border="0" cellpadding="4">
<tr align="LEFT" valign="TOP">
<td nowrap="" width="20">1</td>
<td bgcolor="GRAY" nowrap="" width="200">レコードタイプ（13H）</td>
<td nowrap="" width="10"></td>
<td>ヘッダ</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="" width="20">2</td>
<td bgcolor="GRAY" nowrap="">
<table border="0" cellpadding="0" cellspacing="0">
<tr align="LEFT" valign="TOP">
<td nowrap="">レンジ数</td>
<td nowrap="">（Low）<br/>（High）</td>
</tr>
</table>
</td>
<td nowrap="" width="10"></td>
<td></td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="" width="20">4</td>
<td bgcolor="GRAY" nowrap="">
<table border="0" cellpadding="0" cellspacing="0">
<tr align="LEFT" valign="TOP">
<td nowrap="">アドレス</td>
<td nowrap="">（Low-Low）<br/>（Low-High）<br/>（High-Low）<br/>（High-High）</td>
</tr>
</table>
</td>
<td nowrap="" width="10"></td>
<td>ブロック</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="" width="20">4</td>
<td bgcolor="GRAY" nowrap="">
<table border="0" cellpadding="0" cellspacing="0">
<tr align="LEFT" valign="TOP">
<td nowrap="">レンジサイズ</td>
<td nowrap="">（Low-Low）<br/>（Low-High）<br/>（High-Low）<br/>（High-High）</td>
</tr>
</table>
</td>
<td nowrap="" width="10"></td>
<td></td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="" width="20">1</td>
<td bgcolor="GRAY" nowrap="">レンジ種</td>
<td nowrap="" width="10"></td>
<td></td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="" width="20"></td>
<td bgcolor="GRAY" nowrap=""></td>
<td nowrap="" width="10"></td>
<td>レンジ数-1分上記ブロックが繰り返される</td>
</tr>
</table>
<p>レンジ種には、データを指定した疑似命令の種類が1バイトのASCII文字で記述されています。なお、レンジ種のE、F、G、およびHは、ISASを65816プロセッサ用として使用した時のみ出力されます。</p>
<table border="1" width="100%">
<tr bgcolor="gray">
<th align="LEFT" nowrap="" valign="TOP">レンジ種</th>
<th align="LEFT" nowrap="" valign="TOP">意味</th>
</tr>
<tr align="LEFT" valign="TOP">
<td>A</td>
<td><a href="#defb.html">DEFB/DB疑似命令</a>でシングルクォーテーション（' '）、またはダブルクォーテーション（" "）で指定されたデータ領域</td>
</tr>
<tr align="LEFT" valign="TOP">
<td>B</td>
<td><a href="#defb.html">DEFB/DB疑似命令</a>で1バイトデータが指定されたデータ領域</td>
</tr>
<tr align="LEFT" valign="TOP">
<td>W</td>
<td><a href="#defw.html">DEFW/DW疑似命令</a>で指定されたデータ領域、またはV810SFプロセッサ時に<a href="#defh.html">DEFH/DH疑似命令</a>で指定されたデータ領域</td>
</tr>
<tr align="LEFT" valign="TOP">
<td>D</td>
<td><a href="#defd.html">DEFD/DD疑似命令</a>で指定されたデータ領域</td>
</tr>
<tr align="LEFT" valign="TOP">
<td>L</td>
<td><a href="#defl.html">DEFL/DL疑似命令</a>で指定されたデータ領域、またはV810SFプロセッサ時に<a href="#defw.html">DEFW/DW疑似命令</a>で指定されたデータ領域</td>
</tr>
<tr align="LEFT" valign="TOP">
<td>S</td>
<td><a href="#defs.html">DEFS/DS疑似命令</a>で指定された領域</td>
</tr>
<tr align="LEFT" valign="TOP">
<td>C</td>
<td>命令が配置されたコード領域</td>
</tr>
<tr align="LEFT" valign="TOP">
<td>E</td>
<td>65816プロセッサ時に<a href="#off16a.html">OFF16A</a>、<a href="#off16i.html">OFF16I疑似命令</a>で指定されたコード領域</td>
</tr>
<tr align="LEFT" valign="TOP">
<td>F</td>
<td>65816プロセッサ時に<a href="#off16a.html">OFF16A</a>、<a href="#on16i.html">ON16I疑似命令</a>で指定されたコード領域</td>
</tr>
<tr align="LEFT" valign="TOP">
<td>G</td>
<td>65816プロセッサ時に<a href="#on16a.html">ON16A</a>、<a href="#off16i.html">OFF16I疑似命令</a>で指定されたコード領域</td>
</tr>
<tr align="LEFT" valign="TOP">
<td>H</td>
<td>65816プロセッサ時に<a href="#on16a.html">ON16A</a>、<a href="#on16i.html">ON16I疑似命令</a>で指定されたコード領域</td>
</tr>
</table>
<h3><a name="DEBUG">デバッグ情報</a></h3>
<p>デバッグ情報は、レコードタイプ20H、21Hまたは22Hで始まるレコードです。</p>
<table border="0" cellpadding="4">
<tr align="LEFT" valign="TOP">
<td nowrap="" width="20">1</td>
<td bgcolor="GRAY" nowrap="" width="200">レコードタイプ（20H/21H/22H）</td>
<td nowrap="" width="10"></td>
<td>ヘッダ</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="" width="20">4</td>
<td bgcolor="GRAY" nowrap="">
<table border="0" cellpadding="0" cellspacing="0">
<tr align="LEFT" valign="TOP">
<td nowrap="">レコード長</td>
<td nowrap="">（Low-Low）<br/>（Low-High）<br/>（High-Low）<br/>（High-High）</td>
</tr>
</table>
</td>
<td nowrap="" width="10"></td>
<td></td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="" width="20"></td>
<td bgcolor="GRAY" nowrap="">デバッグ情報</td>
<td nowrap="" width="10"></td>
<td>レコード長分の情報が格納される</td>
</tr>
</table>
<hr/>
</body></html>
<hr id="extend.html">
<html><body><h2>命令展開</h2>
<font size="-1">[ <a href="#isxformat2.html">前ページへ</a> | <a href="#usedos4gw.html">次ページへ</a> ]</font>
<hr/>
<p>ここでは、V810SF用アセンブラとしてISASを使用した時の、アセンブル時に行われる命令展開の規則について説明します。</p>
<p>まず、命令展開の説明内で使用している記号の意味を説明します。</p>
<table border="1" width="100%">
<tr bgcolor="gray">
<th align="LEFT" nowrap="" valign="TOP">記号</th>
<th align="LEFT" nowrap="" valign="TOP">意味</th>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="">imm</td>
<td>32ビットのイミディエイト</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="">imm16</td>
<td>16ビットのイミディエイト</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="">imm5</td>
<td>5ビットのイミディエイト</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="">zero</td>
<td>ゼロレジスタ</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="">reg1、reg2</td>
<td>ゼロレジスタ以外の汎用レジスタ</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="">resv</td>
<td><a href="#rsvreg.html">RSVREG疑似命令</a>によって予約されたレジスタ</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="">disp</td>
<td>32ビットのディスプレースメント</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="">disp16</td>
<td>16ビットのディスプレースメント</td>
</tr>
</table>
<p>なお、'lo、'hi、'hi1等の<a href="#BACK">後置単項演算子</a>によって修飾された式は、強制的に符号なし16bit、または符号付き15bit値として扱われ、disp16またはimm16のオペランドを扱う命令に展開されます。ただし、<a href="#assumev810sf.html">ASSUME疑似命令</a>によって修飾されたオペランドはこの限りではありません。</p>
<h3><a name="MOV">mov命令</a></h3>
<p>mov命令（mov imm,reg2）は次のように命令展開されます。</p>
<ul>
<li>immが-16〜15の範囲内の時
<pre>	mov	imm5,reg2
</pre>
</li><li>immが-16〜15の範囲外で-32,768〜32,767の範囲内の時
<pre>	movea	imm16,zero,reg2
</pre>
</li><li>immが-32,768〜32,767の範囲外でimmの下位16bitが0の時
<pre>	movhi	(imm)'hi,zero,reg2
</pre>
</li><li>immが-32,768〜32,767の範囲外でimmの下位16bitが0以外の時
<pre>	movhi	(imm)'hi1,zero,resv
	movea	(imm)'lo,resv,reg2
</pre>
</li></ul>
<h3><a name="LD">ld/in命令</a></h3>
<p>ld/in命令（CMD disp[reg1],reg2）は次のように命令展開されます。説明内でのCMDはld.b、ld.h、ld.w、またはin.b、in.h、in.w命令を表わします。</p>
<ul>
<li>dispが-32,768〜32,767の範囲内の時
<pre>	CMD	disp16 [reg1],reg2
</pre>
</li><li>dispが-32,768〜32,767の範囲外の時
<pre>	movhi	(disp)'hi1,reg1,resv
	CMD	(disp)'lo[resv],reg2
</pre>
</li></ul>
<h3><a name="ST">st/out命令</a></h3>
<p>st/out命令（CMD reg2,disp[reg1]）は次のように命令展開されます。説明内でのCMDはst.b、st.h、st.w、またはout.b、out.h、out.w命令を表わします。</p>
<ul>
<li>dispが-32,768〜32,767の範囲内の時
<pre>	CMD	reg2,disp16 [reg1]
</pre>
</li><li>dispが-32,768〜32,767の範囲外の時
<pre>	movhi	(disp)'hi1,reg1,resv
	CMD	reg2,(disp)'lo[resv]
</pre>
</li></ul>
<h3><a name="ADD">add命令</a></h3>
<p>add命令（add imm,reg2）は次のように命令展開されます。</p>
<ul>
<li>immが-16〜15の範囲内の時
<pre>	add	imm5,reg2
</pre>
</li><li>immが-16〜15の範囲外で-32,768〜32,767の範囲内の時
<pre>	addi	imm16,reg2,reg2
</pre>
</li><li>immが-32,768〜32,767の範囲外でimmの下位16bitが0の時
<pre>	movhi	(imm)'hi,zero,resv
	add	resv,reg2
</pre>
</li><li>immが-32,768〜32,767の範囲外でimmの下位16bitが0以外の時
<pre>	movhi	(imm)'hi1,zero,resv
	movea	(imm)'lo,resv,resv
	add	resv,reg2
</pre>
</li></ul>
<h3><a name="ADDI">addi命令</a></h3>
<p>addi命令（addi imm,reg1,reg2）は次のように命令展開されます。なお、reg1とreg2に同じレジスタを指定した時は、add imm,reg2と判断してアセンブルします。</p>
<ul>
<li>immが-32,768〜32,767の範囲内の時
<pre>	addi	imm16,reg1,reg2
</pre>
</li><li>immが-32,768〜32,767の範囲外でimmの下位16bitが0の時
<pre>	movhi	(imm)'hi,zero,reg2
	add	reg1,reg2
</pre>
</li><li>immが-32,768〜32,767の範囲外でimmの下位16bitが0以外の時
<pre>	movhi	(imm)'hi1,zero,resv
	movea	(imm)'lo,resv,reg2
	add	reg1,reg2
</pre>
</li></ul>
<h3><a name="CMP">cmp命令</a></h3>
<p>cmp命令（cmp imm,reg2）は次のように命令展開されます。</p>
<ul>
<li>immが-16〜15の範囲内の時
<pre>	cmp	imm5,reg2
</pre>
</li><li>immが-16〜15の範囲外で-32,768〜32,767の範囲内の時
<pre>	movea	imm16,zero,resv
	cmp	resv,reg2
</pre>
</li><li>immが-32,768〜32,767の範囲外でimmの下位16bitが0の時
<pre>	movhi	(imm)'hi,zero,resv
	cmp	resv,reg2
</pre>
</li><li>immが-32,768〜32,767の範囲外でimmの下位16bitが0以外の時
<pre>	movhi	(imm)'hi1,zero,resv
	movea	(imm)'lo,resv,resv
	cmp	resv,reg2
</pre>
</li></ul>
<h3><a name="DIV">div/divu/mul/mulu/not/sub命令</a></h3>
<p>div/divu/mul/mulu/not/sub命令（CMD imm,reg）は次のように命令展開されます。説明内でのCMDはdiv、divu、mul、mulu、not、またはsub命令を表わします。</p>
<ul>
<li>immが0の時
<pre>	CMD	zero,reg2
</pre>
</li><li>immが0以外-16〜15の範囲内の時
<pre>	mov	imm5,resv
	CMD	resv,reg2
</pre>
</li><li>immが0以外-16〜15の範囲外で-32,767〜32,768の範囲内の時
<pre>	movea	imm16,zero,resv
	CMD	resv,reg2
</pre>
</li><li>immが0以外-32,768〜32,767の範囲外でimmの下位16bitが0の時
<pre>	movhi	(imm)'hi,zero,resv
	CMD	resv,reg2
</pre>
</li><li>immが0以外-32,768〜32,767の範囲外でimmの下位16bitが0以外の時
<pre>	movhi	(imm)'hi1,zero,resv
	movea	(imm)'lo,resv,resv
	CMD	resv,reg2
</pre>
</li></ul>
<h3><a name="MOVEA">movea命令</a></h3>
<p>movea命令（movea imm,reg1,reg2）は次のように命令展開されます。なお、reg1にゼロレジスタを指定した時は、mov imm,reg2と判断してアセンブルします。</p>
<ul>
<li>immが-32,768〜32,767の範囲内の時
<pre>	movea	imm16,reg1,reg2
</pre>
</li><li>immが-32,768〜32,767の範囲外でimmの下位16bitが0の時
<pre>	movhi	(imm)'hi,reg1,reg2
</pre>
</li><li>immが-32,768〜32,767の範囲外でimmの下位16bitが0以外の時
<pre>	movhi	(imm)'hi1,reg1,resv
	movea	(imm)'lo,resv,reg2
</pre>
</li></ul>
<h3><a name="AND">and/or/xor命令</a></h3>
<p>and/or/xor命令（CMD imm,reg2）は次のように命令展開されます。説明内でのCMDiはandi、ori、xori命令を、CMDはand、or、xor命令を表わします。</p>
<ul>
<li>immが0の時
<pre>	CMD	zero,reg2
</pre>
</li><li>immが0以外1〜65,535の範囲内の時
<pre>	CMDi	imm16,reg2,reg2
</pre>
</li><li>immが0以外-16〜-1の範囲内の時
<pre>	mov	imm5,resv
	CMD	resv,reg2
</pre>
</li><li>immが0以外-32,768〜-17の範囲内の時
<pre>	movea	imm16,zero,resv
	CMD	resv,reg2
</pre>
</li><li>上記以外でimmの下位16bitが0の時
<pre>	movhi	(imm)'hi,zero,resv
	CMD	resv,reg2
</pre>
</li><li>上記以外でimmの下位16bitが0以外の時
<pre>	movhi	(imm)'hi1,zero,resv
	movea	(imm)'lo,resv,resv
	CMD	resv,reg2
</pre>
</li></ul>
<h3><a name="ANDI">andi/ori/xori命令</a></h3>
<p>andi/ori/xori命令（CMDi imm,reg1,reg2）は次のように命令展開されます。説明内でのCMDiはandi、ori、xori命令を、CMDはand、or、xor命令を表わします。なお、reg1とreg2に同じレジスタを指定した時は、CMD imm,reg2と判断してアセンブルします。</p>
<ul>
<li>immが1〜65,535の範囲内の時
<pre>	CMDi	imm16,reg1,reg2
</pre>
</li><li>immが-16〜-1の範囲内の時
<pre>	mov	imm5,reg2
	CMD	reg1,reg2
</pre>
</li><li>immが-32,768〜-17の範囲内の時
<pre>	movea	imm16,zero,reg2
	CMD	reg1,reg2
</pre>
</li><li>上記以外でimmの下位16bitが0の時
<pre>	movhi	(imm)'hi,zero,reg2
	CMD	reg1,reg2
</pre>
</li><li>上記以外でimmの下位16bitが0以外の時
<pre>	movhi	(imm)'hi1,zero,resv
	movea	(imm)'lo,resv,reg2
	CMD	reg1,reg2
</pre>
</li></ul>
<h3><a name="JMP">jmp命令</a></h3>
<p>jmp命令（jmp imm）は次のように命令展開されます。</p>
<pre>	movhi	(imm)'hi1,zero,resv
	movea	(imm)'lo,resv,resv
	jmp	[resv]
</pre>
<h3><a name="BCOND">Bcond命令</a></h3>
<p>Bcond命令（Bcond imm）は、<a href="#decon.html">DECON疑似命令</a>を指定した時に次のように命令展開されます。なお、説明内でのBcondはbgt、bge、blt、ble、bh、bnh、bl、bnl、be、bne、bv、bnv、bn、bp、bc、bnc、bz、またはbnz命令を表わします。</p>
<ul>
<li>分岐先アドレスが未解決、または-256〜255の範囲外の時
<pre>	Bncond	*+6	; 条件分岐命令の条件を反転
	jr	imm
</pre>
</li><li>上記以外の時
<pre>	Bcond	imm
</pre>
</li></ul>
<hr/>
</body></html>
<hr id="usedos4gw.html">
<html><body><h2>Memory Use</h2>
<font size="-1">[ <a href="#extend.html">前ページへ</a> | <a href="#cfgdos4gw.html">次ページへ</a> ]</font>
<hr/>
<p>This section explains how a DOS/4GW application uses the memory on an 386-based PC/AT. The basic memory layout of an AT machine consists of 640KB of DOS memory. 384KB of upper memory, and an undetermined amount of extended memory.DOS memory and upper memory together compose real memory, the memory that can be addressed when the processor is ruuning in real mode.</p>
<pre>	┌───────┐
	│   Extended	│
	│    Memory	│
  1MB →├───────┤
	│     Upper	│← ROMs and Hardware
	│    Momory	│
640KB →├───────┤
	│      DOS	│← DOS and Real-Mode Software
	│    Memory	│
  1KB →├───────┤
	│		│← Interrupt Vectors
	└───────┘

	Basic Memory Layout
</pre>
<p>Under DOS/4GW, the first megabyte of physical memory - the real memory - is mapped as a shared linear address space. This allows your application to use absolute addresses in real memory, to access video RAM or BIOS ROM, for example. Because the real memory is available to all processes, you are not guaranteed to be able to allocate a particular area in real memory: another process may have allocated it already.</p>
<p>Most code and data is placed in a paged linear address space starting at 4MB. The linear address space starts at 4MB, the first address in the second page table, to avoid conflicts with VCPI system software.</p>
<p>This split mapping - an executable that is linked to start at 4MB in the linear address space, with the first MB in the address space mapped to the first MB of physical memory - is called a split flat model.</p>
<pre>	┌───────┐		┌───────┐
	│		│↑		│		│Process code
	├───────┤		│		│and data
	│		│Mapped	│		│
	├───────┤as	  4MB →├───────┤
	│		│needed	│		│1〜4MBunmapped
	├───────┤		│  VCPI code	│for VCPI
	│  4KB pages	│↓		│		│compatibility
  1MB →├───────┤		├───────┤
	│		│↑		│		│↑
DOS and	│		│		│		│
RealMode├───────┤		├───────┤
Software│		│Mapped	│		│Mapped into
	│		│to all	│		│process as
	│		│processes	│		│needed
	│		│		│		│
	│		│	  4KB →├───────┤
	├───────┤↓		│		│↓
  1KB →└───────┘		└───────┘

	Physical Memory/Linear Address Space
</pre>
<p>The 1KB label in the diagram indicates the top of the real-mode interrupt vectors. 4MB marks the end of the first page.</p>
<hr/>
</body></html>
<hr id="cfgdos4gw.html">
<html><body><h2>Configuring DOS/4GW</h2>
<font size="-1">[ <a href="#usedos4gw.html">前ページへ</a> ]</font>
<hr/>
<p>This section explains how to use the DOS4G environment variable to suppress the banner that is displayed by DOS/4GW at startup. It also explains how to use the DOS16M environment variable to select the switch mode setting, if necessary, and to specify the range of extended memory in which DOS/4GW will operate. DOS/4GW is based on Rational Systems'DOS/16M 16-bit Protected-Mode support; hence the DOS16M environment variable name remains unchanged.</p>
<h3><a name="BANNER">Suppressing the DOS/4GW Banner</a></h3>
<p>The banner that is displayed by DOS/4GW at startup can be suppressed by issuing the following command;</p>
<pre>set DOS4G=quiet
</pre>
<p>Do not insert a space between DOS4G and the equal sign. A space to the right of the equal sign is optional.</p>
<h3><a name="SETTING">Changing the Switch Mode Setting</a></h3>
<p>In almost all cases, DOS/4GW programs can detect the type of machine that is running and automatically choose an appropriate real- to protected-mode switch technique. For the few cases in which this default setting does not work we provide the DOS16M DOS environment variable, which overrides the default setting.</p>
<p>Change the switch mode settings by issuing the following command:</p>
<pre>set DOS16M=value
</pre>
<p>Do not insert a space between DOS16M and the equal sign. A space to the right of the equal sign is optional.</p>
<p>The table below lists the machines and the settings you would use with them. Many settings have mnemonics, listed in the column "Alternate Name", that you can use instead of the number. Settings that you must set with the DOS16M variable have the notation req'd in the first column. Settings you may use are marked option, and settings that will automatically be set are marked auto.</p>
<table border="1" width="100%">
<tr bgcolor="gray">
<th align="LEFT" nowrap="" valign="TOP">Status</th>
<th align="LEFT" nowrap="" valign="TOP">Machine</th>
<th align="LEFT" nowrap="" valign="TOP">Setting</th>
<th align="LEFT" nowrap="" valign="TOP">Alternate Name</th>
<th align="LEFT" valign="TOP">Comment</th>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="">auto</td>
<td nowrap="">386/486 w/DPMI</td>
<td nowrap="">0</td>
<td nowrap="">None</td>
<td>Set automatically if DPMI is active</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="">req'd</td>
<td nowrap="">NEC 98-series</td>
<td nowrap="">1</td>
<td nowrap="">9801</td>
<td>Must be set for NEC 98-series</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="">auto</td>
<td nowrap="">PS/2</td>
<td nowrap="">2</td>
<td nowrap="">None</td>
<td>Set automatically for PS/2</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="">auto</td>
<td nowrap="">386/486</td>
<td nowrap="">3</td>
<td nowrap="">386,80386</td>
<td>Set automatically for 386 or 486</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="">auto</td>
<td nowrap="">386</td>
<td nowrap="">INBORAD</td>
<td nowrap="">None</td>
<td>386 with Intel Inboard</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="">req'd</td>
<td nowrap="">Fujitsu FMR-70</td>
<td nowrap="">5</td>
<td nowrap="">None</td>
<td>Must be set for Fujitsu FMR-70</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="">auto</td>
<td nowrap="">386/486 w/VCPI</td>
<td nowrap="">11</td>
<td nowrap="">None</td>
<td>Set automaticakky if VCPI detected</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="">req'd</td>
<td nowrap="">Hitachi B32</td>
<td nowrap="">14</td>
<td nowrap="">None</td>
<td>Must be set for Hitachi B32</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="">req'd</td>
<td nowrap="">OKI if800</td>
<td nowrap="">15</td>
<td nowrap="">None</td>
<td>Must be set for OKI if800</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="">option</td>
<td nowrap="">IBM PS/55</td>
<td nowrap="">16</td>
<td nowrap="">None</td>
<td>May be needed for some PS/55s</td>
</tr>
</table>
<h3><a name="USAGE">Fine Control of Memory Usage</a></h3>
<p>In addition to setting the switch mode as described above, the DOS16M environment variable enables you to specify which portion of extended memory DOS/4GW will use. The variable also allows you to instruct DOS/4GW to search for extra memory and use it if it is present.</p>
<h4>Specifying a Range of Extended Memory</h4>
<p>Normally, you don't need to specify a range of memory with the DOS16M variable. You must use the variable, however, in the following cases:</p>
<ul>
<li>You are running on a Fujitsu FMR-series, NEC 98-series, OKI if800-series or Hitachi B-series machine.
</li><li>You have older programs that use extended memory but don't follow one of the standard disciplines.
</li><li>You want to shell out of DOS/4GW to use another program that requires extended memory.
</li></ul>
<p>If none of these conditions applies to you, you can skip this section.</p>
<p>The general syntax is:</p>
<pre>set DOS16M=[switch_mode][@start_address[-end_address]][:size]
</pre>
<p>In the syntax shown above, start_address, end_address and size represent numbers, expressed in decimal or in hexadecimal (hex requires a 0x prefix). The number may end with a K to indicate an address or size in kilobytes, or an M to indicate megabytes. If no suffix is given, the address or size is assumed to be in kilobytes. If both a size and a range are specified, the more restrictive interpretation is used.</p>
<p>The most flexible strategy is to specify only a size. However, if you are running with other software that does not follow a convention for indicating its use of extended memory, and these other programs start before DOS/4GW, you will need to calculate the range of memory used by the other programs and specify a range for DOS/4GW programs to use.</p>
<p>DOS/4GW ignores specifications (or parts of specifications) that conflict with other information about extended memory use. Below are some examples of memory usage control:</p>
<table border="1" width="100%">
<tr align="LEFT" valign="TOP">
<td nowrap="">set dos16m=1@2m-4m</td>
<td>Mode 1, for NEC 98-series machines, and use extended memory between 2.0 and 4.0MB.</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="">set dos16m=:1m</td>
<td>Use the last full megabyte of extended memory, or as much as available limited to 1MB.</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="">set dos16m=@2m</td>
<td>Use any extended memory available above 2MB.</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="">set dos16m=@0-5m</td>
<td>Use any abailable extended memory from 0.0 (really 1.0) to 5.0MB.</td>
</tr>
<tr align="LEFT" valign="TOP">
<td nowrap="">set dos16m=:0</td>
<td>Use no extended memory.</td>
</tr>
</table>
<p>As a default condition DOS/4GW applications take all extended memory that is not otherwise in use. Multiple DOS/4GW programs that execute simultaneously will share the reserved range of extended memory. Any non-DOS/4GW programs started while DOS/4GW programs are executing will find that extended memory above the start of the DOS/4GW range is unavailable, so they may not be able to run. This is very safe. There will be a conflict only if the other program does not check the BIOS configuration call (Interrupt 15H function 88H, get extended memory size).</p>
<p>The default memory allocation strategy is to use extended memory if available, and overflow into DOS (low) memory.</p>
<p>In a VCPI or DPMI environment, the start_address and end_address arguments are not meaningful. DOS/4GW memory under these protocols is not allocated according to specific addresses because VCPI and DPMI automatically prevent address conflicts between extended memory programs. You can specify a size for memory managed by VCPI or DPMI, but DOS/4GW will not necessarily allocate this memory from the highest available extended memory address, as it does for memory managed under other protocols.</p>
<h4>Using Extra Memory</h4>
<p>Some machines contain extra non-extended, non-conventional memory just below 16MB. When DOS/4GW runs on a Compaq 386, it automatically uses this memory because the memory is allocated according to a certain protocol, which DOS/4GW follows. Other machines have no protocol for allocating this memory. To use the extra memory that may exist on these machines, set DOS16M with the + option.</p>
<pre>set DOS16M=+
</pre>
<p>Setting the + option causes DOS/4GW to search for memory in the range from FA0000 to FFFFFF and determine whether the memory is usable. DOS/4GW does this by writing into the extra memory and reading what is has written. In some cases, this memory is mapped for DOS or BIOS usage, or for other system uses. If DOS/4GW finds extra memory that is mapped this way, and is not marked read- only, it will write into that memory. This will cause a crash, but won't have any other effect on your system.</p>
<hr/>
</body></html>
